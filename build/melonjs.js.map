{"version":3,"file":"melonjs.js","sources":["../src/global.js","../src/lang/window.js","../node_modules/jay-extend/lib/jay-extend.js","../src/lang/object.js","../src/system/agent.js","../src/system/device.js","../node_modules/minpubsub/minpubsub.src.js","../src/system/event.js","../src/game.js","../src/config.js","../src/system/timer.js","../src/system/pooling.js","../src/math/math.js","../src/math/vector2.js","../src/math/vector3.js","../src/math/observable_vector2.js","../src/math/observable_vector3.js","../src/math/matrix2.js","../src/shapes/ellipse.js","../node_modules/earcut/src/earcut.js","../src/shapes/poly.js","../src/shapes/rectangle.js","../src/shapes/line.js","../src/physics/body.js","../src/physics/quadtree.js","../src/physics/collision.js","../src/renderable/renderable.js","../src/renderable/colorlayer.js","../src/renderable/imagelayer.js","../src/renderable/sprite.js","../src/renderable/GUI.js","../src/renderable/container.js","../src/camera/camera2d.js","../src/entity/entity.js","../src/state/stage.js","../src/state/state.js","../src/loader/loadingscreen.js","../src/loader/loader.js","../src/font/text.js","../src/font/bitmaptext.js","../src/font/bitmaptextdata.js","../node_modules/howler/dist/howler.js","../src/audio/audio.js","../src/video/video.js","../src/video/renderer.js","../src/video/texture.js","../src/video/texture_cache.js","../src/video/canvas/canvas_renderer.js","../src/video/webgl/webgl_renderer.js","../src/video/webgl/compositor.js","../src/video/webgl/glshader.js","../src/video/webgl/shaders/primitive-shader.js","../src/video/webgl/shaders/quad-shader.js","../src/input/input.js","../src/input/keyboard.js","../src/input/pointer.js","../src/input/pointerevent.js","../src/input/gamepad.js","../src/utils/utils.js","../src/utils/file.js","../src/utils/function.js","../src/utils/array.js","../src/utils/string.js","../src/utils/color.js","../src/system/save.js","../src/level/TMXUtils.js","../src/level/TMXGroup.js","../src/level/TMXObject.js","../src/level/TMXTile.js","../src/level/TMXTileset.js","../src/level/TMXRenderer.js","../src/level/TMXLayer.js","../src/level/TMXTiledMap.js","../src/level/LevelDirector.js","../src/tweens/tween.js","../src/plugin/plugin.js","../src/entity/draggable.js","../src/entity/droptarget.js","../src/entity/collectable_entity.js","../src/entity/level_entity.js","../src/particles/emitter.js","../src/particles/particlecontainer.js","../src/particles/particle.js","../src/lang/deprecated.js"],"sourcesContent":["/* eslint-disable no-undef */\n(function (global) {\n    \"use strict\";\n\n   /**\n    * (<b>m</b>)elonJS (<b>e</b>)ngine : All melonJS functions are defined inside\n    * of this namespace.\n    * <p>You generally should not add new properties to this namespace as it may be\n    * overwritten in future versions.</p>\n    * @name me\n    * @namespace\n    */\n    var me = {};\n\n    // support for AMD (Asynchronous Module Definition) libraries\n    if (typeof define === \"function\" && define.amd) {\n        define([], function() {\n            return {\n                me: me\n            };\n        });\n    } // CommonJS and Node.js module support.\n    else if (typeof exports !== \"undefined\") {\n        // Support Node.js specific `module.exports` (which can be a function)\n        if (typeof module !== \"undefined\" && module.exports) {\n            exports = module.exports = me;\n        }\n        // CommonJS module 1.1.1 spec (`exports` cannot be a function)\n        exports.me = me;\n    }\n    // in case AMD not available or unused\n    if (typeof window !== \"undefined\") {\n        window.me = me;\n    } else if (typeof global !== \"undefined\") {\n        // Add to global in Node.js (for testing, etc).\n        global.me = me;\n    }\n}(window));\n/* eslint-enable no-undef */\n","/* eslint-disable no-global-assign, no-native-reassign */\n\n(function () {\n\n    if (typeof console === \"undefined\") {\n        /**\n         * Dummy console.log to avoid crash\n         * in case the browser does not support it\n         * @ignore\n         */\n        console = {\n            log : function () {},\n            info : function () {},\n            error : function () {\n                alert(Array.prototype.slice.call(arguments).join(\", \"));\n            }\n        };\n    }\n\n    // based on the requestAnimationFrame polyfill by Erik MÃ¶ller\n    (function () {\n        var lastTime = 0;\n        var frameDuration = 1000 / 60;\n        var vendors = [\"ms\", \"moz\", \"webkit\", \"o\"];\n        var x;\n\n        // standardized functions\n        // https://developer.mozilla.org/fr/docs/Web/API/Window/requestAnimationFrame\n        var requestAnimationFrame = window.requestAnimationFrame;\n        var cancelAnimationFrame = window.cancelAnimationFrame;\n\n        // get prefixed rAF and cAF is standard one not supported\n        for (x = 0; x < vendors.length && !requestAnimationFrame; ++x) {\n            requestAnimationFrame = window[vendors[x] + \"RequestAnimationFrame\"];\n        }\n        for (x = 0; x < vendors.length && !cancelAnimationFrame; ++x) {\n            cancelAnimationFrame  = window[vendors[x] + \"CancelAnimationFrame\"] ||\n                                    window[vendors[x] + \"CancelRequestAnimationFrame\"];\n        }\n\n        if (!requestAnimationFrame || !cancelAnimationFrame) {\n            requestAnimationFrame = function (callback) {\n                var currTime = window.performance.now();\n                var timeToCall = Math.max(0, frameDuration - (currTime - lastTime));\n                var id = window.setTimeout(function () {\n                    callback(currTime + timeToCall);\n                }, timeToCall);\n                lastTime = currTime + timeToCall;\n                return id;\n            };\n\n            cancelAnimationFrame = function (id) {\n                window.clearTimeout(id);\n            };\n\n            // put back in global namespace\n            window.requestAnimationFrame = requestAnimationFrame;\n            window.cancelAnimationFrame = cancelAnimationFrame;\n        }\n\n    }());\n\n})();\n/* eslint-enable no-global-assign, no-native-reassign */\n","/**\n * Extend a class prototype with the provided mixin descriptors.\n * Designed as a faster replacement for John Resig's Simple Inheritance.\n * @name extend\n * @memberOf Jay\n * @function\n * @param {Object[]} mixins... Each mixin is a dictionary of functions, or a\n * previously extended class whose methods will be applied to the target class\n * prototype.\n * @return {Object}\n * @example\n * var Person = Jay.extend({\n *     \"init\" : function (isDancing) {\n *         this.dancing = isDancing;\n *     },\n *     \"dance\" : function () {\n *         return this.dancing;\n *     }\n * });\n *\n * var Ninja = Person.extend({\n *     \"init\" : function () {\n *         // Call the super constructor, passing a single argument\n *         this._super(Person, \"init\", [false]);\n *     },\n *     \"dance\" : function () {\n *         // Call the overridden dance() method\n *         return this._super(Person, \"dance\");\n *     },\n *     \"swingSword\" : function () {\n *         return true;\n *     }\n * });\n *\n * var Pirate = Person.extend(Ninja, {\n *     \"init\" : function () {\n *         // Call the super constructor, passing a single argument\n *         this._super(Person, \"init\", [true]);\n *     }\n * });\n *\n * var p = new Person(true);\n * console.log(p.dance()); // => true\n *\n * var n = new Ninja();\n * console.log(n.dance()); // => false\n * console.log(n.swingSword()); // => true\n *\n * var r = new Pirate();\n * console.log(r.dance()); // => true\n * console.log(r.swingSword()); // => true\n *\n * console.log(\n *     p instanceof Person &&\n *     n instanceof Ninja &&\n *     n instanceof Person &&\n *     r instanceof Pirate &&\n *     r instanceof Person\n * ); // => true\n *\n * console.log(r instanceof Ninja); // => false\n */\n(function () {\n    function extend() {\n        var methods = {};\n        var mixins = new Array(arguments.length);\n        for (var i = 0; i < arguments.length; i++) {\n            mixins.push(arguments[i]);\n        }\n\n        /**\n         * The class constructor which calls the user `init` constructor.\n         * @ignore\n         */\n        function Class() {\n            // Call the user constructor\n            this.init.apply(this, arguments);\n            return this;\n        }\n\n        // Apply superClass\n        Class.prototype = Object.create(this.prototype);\n\n        // Apply all mixin methods to the class prototype\n        mixins.forEach(function (mixin) {\n            apply_methods(Class, methods, mixin.__methods__ || mixin);\n        });\n\n        // Verify constructor exists\n        if (!(\"init\" in Class.prototype)) {\n            throw new TypeError(\n                \"extend: Class is missing a constructor named `init`\"\n            );\n        }\n\n        // Apply syntactic sugar for accessing methods on super classes\n        Object.defineProperty(Class.prototype, \"_super\", {\n            \"value\" : _super\n        });\n\n        // Create a hidden property on the class itself\n        // List of methods, used for applying classes as mixins\n        Object.defineProperty(Class, \"__methods__\", {\n            \"value\" : methods\n        });\n\n        // Make this class extendable\n        Class.extend = extend;\n\n        return Class;\n    }\n\n    /**\n     * Apply methods to the class prototype.\n     * @ignore\n     */\n    function apply_methods(Class, methods, descriptor) {\n        Object.keys(descriptor).forEach(function (method) {\n            methods[method] = descriptor[method];\n\n            if (typeof(descriptor[method]) !== \"function\") {\n                throw new TypeError(\n                    \"extend: Method `\" + method + \"` is not a function\"\n                );\n            }\n\n            Object.defineProperty(Class.prototype, method, {\n                \"configurable\" : true,\n                \"value\" : descriptor[method]\n            });\n        });\n    }\n\n    /**\n     * Special method that acts as a proxy to the super class.\n     * @name _super\n     * @ignore\n     */\n    function _super(superClass, method, args) {\n        return superClass.prototype[method].apply(this, args);\n    }\n\n    /**\n     * The base class from which all jay-extend classes inherit.\n     * @ignore\n     */\n    var Jay = function () {\n        Object.apply(this, arguments);\n    };\n    Jay.prototype = Object.create(Object.prototype);\n    Jay.prototype.constructor = Jay;\n\n    Object.defineProperty(Jay, \"extend\", {\n        \"value\" : extend\n    });\n\n    /**\n     * Export the extend method.\n     * @ignore\n     */\n    if (typeof(window) !== \"undefined\") {\n        window.Jay = Jay;\n    }\n    else {\n        module.exports = Jay;\n    }\n})();\n","\nimport \"jay-extend\";\n\n/**\n * The base class from which all melonJS objects inherit.\n * See: {@link https://github.com/parasyte/jay-extend}\n * @class\n * @memberOf me\n */\nme.Object = window.Jay;\n","(function () {\n    /**\n     * Convert first character of a string to uppercase, if it's a letter.\n     * @ignore\n     * @function\n     * @name capitalize\n     * @param  {String} str Input string.\n     * @return {String} String with first letter made uppercase.\n     */\n    var capitalize = function (str) {\n        return str.substring(0, 1).toUpperCase() + str.substring(1, str.length);\n    };\n\n    /**\n     * A collection of utilities to ease porting between different user agents.\n     * @namespace me.agent\n     * @memberOf me\n     */\n    me.agent = (function () {\n        var api = {};\n\n        /**\n         * Known agent vendors\n         * @ignore\n         */\n        var vendors = [ \"ms\", \"MS\", \"moz\", \"webkit\", \"o\" ];\n\n        /**\n         * Get a vendor-prefixed property\n         * @public\n         * @name prefixed\n         * @function\n         * @param {String} name Property name\n         * @param {Object} [obj=window] Object or element reference to access\n         * @return {Mixed} Value of property\n         * @memberOf me.agent\n         */\n        api.prefixed = function (name, obj) {\n            obj = obj || window;\n            if (name in obj) {\n                return obj[name];\n            }\n\n            var uc_name = capitalize(name);\n\n            var result;\n            vendors.some(function (vendor) {\n                var name = vendor + uc_name;\n                return (result = (name in obj) ? obj[name] : undefined);\n            });\n            return result;\n        };\n\n        /**\n         * Set a vendor-prefixed property\n         * @public\n         * @name setPrefixed\n         * @function\n         * @param {String} name Property name\n         * @param {Mixed} value Property value\n         * @param {Object} [obj=window] Object or element reference to access\n         * @return true if one of the vendor-prefixed property was found\n         * @memberOf me.agent\n         */\n        api.setPrefixed = function (name, value, obj) {\n            obj = obj || window;\n            if (name in obj) {\n                obj[name] = value;\n                return;\n            }\n\n            var uc_name = capitalize(name);\n\n            vendors.some(function (vendor) {\n                var name = vendor + uc_name;\n                if (name in obj) {\n                    obj[name] = value;\n                    return true;\n                }\n                return false;\n            });\n        };\n\n        return api;\n    })();\n})();\n","(function () {\n    /**\n     * A singleton object representing the device capabilities and specific events\n     * @namespace me.device\n     * @memberOf me\n     */\n    me.device = (function () {\n        // defines object for holding public information/functionality.\n        var api = {};\n        // private properties\n        var accelInitialized = false;\n        var deviceOrientationInitialized = false;\n\n        // swipe utility fn & flag\n        var swipeEnabled = true;\n        var disableSwipeFn = function (e) {\n            e.preventDefault();\n            if (typeof window.scroll === \"function\") {\n                window.scroll(0, 0);\n            }\n            return false;\n        };\n\n        /*\n         * DOM loading stuff\n         */\n        var readyBound = false, isReady = false, readyList = [];\n\n        /**\n         * called to check if the device is ready\n         * @ignore\n         */\n        api._domReady = function (fn) {\n            // Make sure that the DOM is not already loaded\n            if (!isReady) {\n                // be sure document.body is there\n                if (!document.body) {\n                    return setTimeout(me.device._domReady, 13);\n                }\n\n                // clean up loading event\n                if (document.removeEventListener) {\n                    document.removeEventListener(\n                        \"DOMContentLoaded\",\n                        me.device._domReady,\n                        false\n                    );\n                }\n                // remove the event on window.onload (always added in `onReady`)\n                window.removeEventListener(\"load\", me.device._domReady, false);\n\n                // execute all callbacks\n                while (readyList.length) {\n                    readyList.shift().call(window, []);\n                }\n\n                // Remember that the DOM is ready\n                isReady = true;\n            }\n        };\n\n        /**\n         * check the device capapbilities\n         * @ignore\n         */\n        api._check = function () {\n\n            // detect device type/platform\n            me.device._detectDevice();\n\n            // Mobile browser hacks\n            if (me.device.isMobile) {\n                // Prevent the webview from moving on a swipe\n                api.enableSwipe(false);\n            }\n\n            // Touch/Gesture Event feature detection\n            me.device.TouchEvent = !!(\"ontouchstart\" in window);\n            me.device.PointerEvent = !!window.PointerEvent;\n            window.gesture = me.agent.prefixed(\"gesture\");\n\n            // detect touch capabilities\n            me.device.touch = me.device.TouchEvent || me.device.PointerEvent;\n\n            // max amount of touch points ; always at least return 1 (e.g. headless chrome will return 0)\n            me.device.maxTouchPoints = me.device.touch ? (me.device.PointerEvent ? navigator.maxTouchPoints || 1 : 10) : 1;\n\n            // detect wheel event support\n            // Modern browsers support \"wheel\", Webkit and IE support at least \"mousewheel\n            me.device.wheel = (\"onwheel\" in document.createElement(\"div\"));\n\n            // accelerometer detection\n            me.device.hasAccelerometer = typeof (window.DeviceMotionEvent) !== \"undefined\";\n\n            // pointerlock detection\n            this.hasPointerLockSupport = me.agent.prefixed(\"pointerLockElement\", document);\n\n            if (this.hasPointerLockSupport) {\n                document.exitPointerLock = me.agent.prefixed(\"exitPointerLock\", document);\n            }\n\n            // device orientation and motion detection\n            if (window.DeviceOrientationEvent) {\n                me.device.hasDeviceOrientation = true;\n            }\n\n            // fullscreen api detection & polyfill when possible\n            this.hasFullscreenSupport = me.agent.prefixed(\"fullscreenEnabled\", document) ||\n                                        document.mozFullScreenEnabled;\n\n            document.exitFullscreen = me.agent.prefixed(\"cancelFullScreen\", document) ||\n                                      me.agent.prefixed(\"exitFullscreen\", document);\n\n            // vibration API poyfill\n            navigator.vibrate = me.agent.prefixed(\"vibrate\", navigator);\n\n            // web Audio detection\n            this.hasWebAudio = !!(window.AudioContext || window.webkitAudioContext);\n\n            try {\n                api.localStorage = !!window.localStorage;\n            } catch (e) {\n                // the above generates an exception when cookies are blocked\n                api.localStorage = false;\n            }\n\n            // set pause/stop action on losing focus\n            window.addEventListener(\"blur\", function () {\n                if (me.sys.stopOnBlur) {\n                    me.state.stop(true);\n                }\n                if (me.sys.pauseOnBlur) {\n                    me.state.pause(true);\n                }\n            }, false);\n            // set restart/resume action on gaining focus\n            window.addEventListener(\"focus\", function () {\n                if (me.sys.stopOnBlur) {\n                    me.state.restart(true);\n                }\n                if (me.sys.resumeOnFocus) {\n                    me.state.resume(true);\n                }\n                // force focus if autofocus is on\n                if (me.sys.autoFocus) {\n                    me.device.focus();\n                }\n            }, false);\n\n\n            // Set the name of the hidden property and the change event for visibility\n            var hidden, visibilityChange;\n            if (typeof document.hidden !== \"undefined\") {\n                // Opera 12.10 and Firefox 18 and later support\n                hidden = \"hidden\";\n                visibilityChange = \"visibilitychange\";\n            } else if (typeof document.mozHidden !== \"undefined\") {\n                hidden = \"mozHidden\";\n                visibilityChange = \"mozvisibilitychange\";\n            } else if (typeof document.msHidden !== \"undefined\") {\n                hidden = \"msHidden\";\n                visibilityChange = \"msvisibilitychange\";\n            } else if (typeof document.webkitHidden !== \"undefined\") {\n                hidden = \"webkitHidden\";\n                visibilityChange = \"webkitvisibilitychange\";\n            }\n\n            // register on the event if supported\n            if (typeof (visibilityChange) === \"string\") {\n                // add the corresponding event listener\n                document.addEventListener(visibilityChange,\n                    function () {\n                        if (document[hidden]) {\n                            if (me.sys.stopOnBlur) {\n                                me.state.stop(true);\n                            }\n                            if (me.sys.pauseOnBlur) {\n                                me.state.pause(true);\n                            }\n                        } else {\n                            if (me.sys.stopOnBlur) {\n                                me.state.restart(true);\n                            }\n                            if (me.sys.resumeOnFocus) {\n                                me.state.resume(true);\n                            }\n                        }\n                    }, false\n                );\n            }\n        };\n\n        /**\n         * detect the device type\n         * @ignore\n         */\n        api._detectDevice = function () {\n            // iOS Device ?\n            me.device.iOS = /iPhone|iPad|iPod/i.test(me.device.ua);\n            // Android Device ?\n            me.device.android = /Android/i.test(me.device.ua);\n            me.device.android2 = /Android 2/i.test(me.device.ua);\n            // Linux platform\n            me.device.linux = /Linux/i.test(me.device.ua);\n            // Chrome OS ?\n            me.device.chromeOS = /CrOS/.test(me.device.ua);\n            // Windows Device ?\n            me.device.wp = /Windows Phone/i.test(me.device.ua);\n            // Blackberry device ?\n            me.device.BlackBerry = /BlackBerry/i.test(me.device.ua);\n            // Kindle device ?\n            me.device.Kindle = /Kindle|Silk.*Mobile Safari/i.test(me.device.ua);\n            // Mobile platform\n            me.device.isMobile = /Mobi/i.test(me.device.ua) ||\n                                 me.device.iOS ||\n                                 me.device.android ||\n                                 me.device.wp ||\n                                 me.device.BlackBerry ||\n                                 me.device.Kindle || false;\n            // ejecta\n            me.device.ejecta = (typeof window.ejecta !== \"undefined\");\n            // Wechat\n            me.device.isWeixin = /MicroMessenger/i.test(me.device.ua);\n        };\n\n\n        /*\n         * PUBLIC Properties & Functions\n         */\n\n        // Browser capabilities\n\n        /**\n         * the `ua` read-only property returns the user agent string for the current browser.\n         * @type String\n         * @readonly\n         * @name ua\n         * @memberOf me.device\n         */\n        api.ua = navigator.userAgent;\n\n        /**\n         * Browser Local Storage capabilities <br>\n         * (this flag will be set to false if cookies are blocked)\n         * @type Boolean\n         * @readonly\n         * @name localStorage\n         * @memberOf me.device\n         */\n        api.localStorage = false;\n\n        /**\n         * Browser accelerometer capabilities\n         * @type Boolean\n         * @readonly\n         * @name hasAccelerometer\n         * @memberOf me.device\n         */\n        api.hasAccelerometer = false;\n\n        /**\n         * Browser device orientation\n         * @type Boolean\n         * @readonly\n         * @name hasDeviceOrientation\n         * @memberOf me.device\n         */\n        api.hasDeviceOrientation = false;\n\n        /**\n         * Browser full screen support\n         * @type Boolean\n         * @readonly\n         * @name hasFullscreenSupport\n         * @memberOf me.device\n         */\n        api.hasFullscreenSupport = false;\n\n         /**\n         * Browser pointerlock api support\n         * @type Boolean\n         * @readonly\n         * @name hasPointerLockSupport\n         * @memberOf me.device\n         */\n        api.hasPointerLockSupport = false;\n\n        /**\n        * Device WebAudio Support\n        * @type Boolean\n        * @readonly\n        * @name hasWebAudio\n        * @memberOf me.device\n        */\n       api.hasWebAudio = false;\n\n\n        /**\n         * Browser Base64 decoding capability\n         * @type Boolean\n         * @readonly\n         * @name nativeBase64\n         * @memberOf me.device\n         */\n        api.nativeBase64 = (typeof(window.atob) === \"function\");\n\n        /**\n         * Return the maximum number of simultaneous touch contact points are supported by the current device.\n         * @type Number\n         * @readonly\n         * @name maxTouchPoints\n         * @memberOf me.device\n         * @example\n         * if (me.device.maxTouchPoints > 1) {\n         *     // device supports multi-touch\n         * }\n         */\n        api.maxTouchPoints = 1;\n\n        /**\n         * Touch capabilities\n         * @type Boolean\n         * @readonly\n         * @name touch\n         * @memberOf me.device\n         */\n        api.touch = false;\n\n        /**\n         * W3C standard wheel events\n         * @type Boolean\n         * @readonly\n         * @name wheel\n         * @memberOf me.device\n         */\n        api.wheel = false;\n\n        /**\n         * equals to true if a mobile device <br>\n         * (Android | iPhone | iPad | iPod | BlackBerry | Windows Phone | Kindle)\n         * @type Boolean\n         * @readonly\n         * @name isMobile\n         * @memberOf me.device\n         */\n        api.isMobile = false;\n\n        /**\n         * equals to true if the device is an iOS platform.\n         * @type Boolean\n         * @readonly\n         * @name iOS\n         * @memberOf me.device\n         */\n        api.iOS = false;\n\n        /**\n         * equals to true if the device is an Android platform.\n         * @type Boolean\n         * @readonly\n         * @name android\n         * @memberOf me.device\n         */\n        api.android = false;\n\n        /**\n         * equals to true if the device is an Android 2.x platform.\n         * @type Boolean\n         * @readonly\n         * @name android2\n         * @memberOf me.device\n         */\n        api.android2 = false;\n\n        /**\n         * equals to true if the device is a Linux platform.\n         * @type Boolean\n         * @readonly\n         * @name linux\n         * @memberOf me.device\n         */\n        api.linux = false;\n\n       /**\n        * equals to true if the game is running under Ejecta.\n        * @type Boolean\n        * @readonly\n        * @see http://impactjs.com/ejecta\n        * @name ejecta\n        * @memberOf me.device\n        */\n        api.ejecta = false;\n\n        /**\n         * equals to true if the game is running under Wechat.\n         * @type Boolean\n         * @readonly\n         * @name isWeixin\n         * @memberOf me.device\n         */\n         api.isWeixin = false;\n\n        /**\n         * equals to true if the device is running on ChromeOS.\n         * @type Boolean\n         * @readonly\n         * @name chromeOS\n         * @memberOf me.device\n         */\n        api.chromeOS = false;\n\n         /**\n         * equals to true if the device is a Windows Phone platform.\n         * @type Boolean\n         * @readonly\n         * @name wp\n         * @memberOf me.device\n         */\n        api.wp = false;\n\n        /**\n         * equals to true if the device is a BlackBerry platform.\n         * @type Boolean\n         * @readonly\n         * @name BlackBerry\n         * @memberOf me.device\n         */\n        api.BlackBerry = false;\n\n        /**\n         * equals to true if the device is a Kindle platform.\n         * @type Boolean\n         * @readonly\n         * @name Kindle\n         * @memberOf me.device\n         */\n        api.Kindle = false;\n\n        /**\n         * contains the g-force acceleration along the x-axis.\n         * @public\n         * @type Number\n         * @readonly\n         * @name accelerationX\n         * @memberOf me.device\n         */\n        api.accelerationX = 0;\n\n        /**\n         * contains the g-force acceleration along the y-axis.\n         * @public\n         * @type Number\n         * @readonly\n         * @name accelerationY\n         * @memberOf me.device\n         */\n        api.accelerationY = 0;\n\n        /**\n         * contains the g-force acceleration along the z-axis.\n         * @public\n         * @type Number\n         * @readonly\n         * @name accelerationZ\n         * @memberOf me.device\n         */\n        api.accelerationZ = 0;\n\n        /**\n         * Device orientation Gamma property. Gives angle on tilting a portrait held phone left or right\n         * @public\n         * @type Number\n         * @readonly\n         * @name gamma\n         * @memberOf me.device\n         */\n        api.gamma = 0;\n\n        /**\n         * Device orientation Beta property. Gives angle on tilting a portrait held phone forward or backward\n         * @public\n         * @type Number\n         * @readonly\n         * @name beta\n         * @memberOf me.device\n         */\n        api.beta = 0;\n\n        /**\n         * Device orientation Alpha property. Gives angle based on the rotation of the phone around its z axis.\n         * The z-axis is perpendicular to the phone, facing out from the center of the screen.\n         * @public\n         * @type Number\n         * @readonly\n         * @name alpha\n         * @memberOf me.device\n         */\n        api.alpha = 0;\n\n        /**\n         * a string representing the preferred language of the user, usually the language of the browser UI.\n         * (will default to \"en\" if the information is not available)\n         * @public\n         * @type String\n         * @readonly\n         * @see http://www.w3schools.com/tags/ref_language_codes.asp\n         * @name language\n         * @memberOf me.device\n         */\n        api.language = navigator.language || navigator.browserLanguage || navigator.userLanguage || \"en\";\n\n      /**\n        * specify a function to execute when the Device is fully loaded and ready\n        * @name onReady\n        * @memberOf me.device\n        * @function\n        * @param {Function} fn the function to be executed\n        * @example\n        * // small game skeleton\n        * var game = {\n        *    // called by the me.device.onReady function\n        *    onload : function () {\n        *       // init video\n        *       if (!me.video.init('screen', 640, 480, true)) {\n        *          alert(\"Sorry but your browser does not support html 5 canvas.\");\n        *          return;\n        *       }\n        *\n        *       // initialize the \"audio\"\n        *       me.audio.init(\"mp3,ogg\");\n        *\n        *       // set callback for ressources loaded event\n        *       me.loader.onload = this.loaded.bind(this);\n        *\n        *       // set all ressources to be loaded\n        *       me.loader.preload(game.assets);\n        *\n        *       // load everything & display a loading screen\n        *       me.state.change(me.state.LOADING);\n        *    },\n        *\n        *    // callback when everything is loaded\n        *    loaded : function () {\n        *       // define stuff\n        *       // ....\n        *\n        *       // change to the menu screen\n        *       me.state.change(me.state.PLAY);\n        *    }\n        * }; // game\n        *\n        * // \"bootstrap\"\n        * me.device.onReady(function () {\n        *    game.onload();\n        * });\n        */\n        api.onReady = function (fn) {\n            // If the DOM is already ready\n            if (isReady) {\n                // Execute the function immediately\n                fn.call(window, []);\n            }\n            else {\n                // Add the function to the wait list\n                readyList.push(fn);\n\n                // attach listeners if not yet done\n                if (!readyBound) {\n                    // directly call domReady if document is already \"ready\"\n                    if (document.readyState === \"complete\") {\n                        // defer the fn call to ensure our script is fully loaded\n                        window.setTimeout(me.device._domReady, 0);\n                    }\n                    else {\n                        if (document.addEventListener) {\n                            // Use the handy event callback\n                            document.addEventListener(\"DOMContentLoaded\", me.device._domReady, false);\n                        }\n                        // A fallback to window.onload, that will always work\n                        window.addEventListener(\"load\", me.device._domReady, false);\n                    }\n                    readyBound = true;\n                }\n            }\n        };\n\n        /**\n         * enable/disable swipe on WebView.\n         * @name enableSwipe\n         * @memberOf me.device\n         * @function\n         * @param {boolean} [enable=true] enable or disable swipe.\n         */\n        api.enableSwipe = function (enable) {\n            if (enable !== false) {\n                if (swipeEnabled === false) {\n                    window.document.removeEventListener(\"touchmove\", disableSwipeFn, false);\n                    swipeEnabled = true;\n                }\n            } else if (swipeEnabled === true) {\n                window.document.addEventListener(\"touchmove\", disableSwipeFn, false);\n                swipeEnabled = false;\n            }\n        };\n\n        /**\n         * Triggers a fullscreen request. Requires fullscreen support from the browser/device.\n         * @name requestFullscreen\n         * @memberOf me.device\n         * @function\n         * @param {Object} [element=default canvas object] the element to be set in full-screen mode.\n         * @example\n         * // add a keyboard shortcut to toggle Fullscreen mode on/off\n         * me.input.bindKey(me.input.KEY.F, \"toggleFullscreen\");\n         * me.event.subscribe(me.event.KEYDOWN, function (action, keyCode, edge) {\n         *    // toggle fullscreen on/off\n         *    if (action === \"toggleFullscreen\") {\n         *       if (!me.device.isFullscreen) {\n         *          me.device.requestFullscreen();\n         *       } else {\n         *          me.device.exitFullscreen();\n         *       }\n         *    }\n         * });\n         */\n        api.requestFullscreen = function (element) {\n            if (this.hasFullscreenSupport) {\n                element = element || me.video.getWrapper();\n                element.requestFullscreen = me.agent.prefixed(\"requestFullscreen\", element) ||\n                                            element.mozRequestFullScreen;\n\n                element.requestFullscreen();\n            }\n        };\n\n        /**\n         * Exit fullscreen mode. Requires fullscreen support from the browser/device.\n         * @name exitFullscreen\n         * @memberOf me.device\n         * @function\n         */\n        api.exitFullscreen = function () {\n            if (this.hasFullscreenSupport) {\n                document.exitFullscreen();\n            }\n        };\n\n        /**\n         * Return a string representing the orientation of the device screen.\n         * It can be \"any\", \"natural\", \"landscape\", \"portrait\", \"portrait-primary\", \"portrait-secondary\", \"landscape-primary\", \"landscape-secondary\"\n         * @name getScreenOrientation\n         * @memberOf me.device\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation\n         * @function\n         * @return {String} the screen orientation\n         */\n        api.getScreenOrientation = function () {\n            var PORTRAIT = \"portrait\";\n            var LANDSCAPE = \"landscape\";\n\n            var screen = window.screen;\n\n            // first try using \"standard\" values\n            if (typeof screen !== \"undefined\") {\n                var orientation = me.agent.prefixed(\"orientation\", screen);\n                if (typeof orientation !== \"undefined\" && typeof(orientation.type === \"string\")) {\n                    // Screen Orientation API specification\n                    return orientation.type;\n                } else if (typeof orientation === \"string\") {\n                    // moz/ms-orientation are strings\n                    return orientation;\n                }\n            }\n\n            // check using the deprecated API\n            if (typeof window.orientation === \"number\") {\n                return (Math.abs(window.orientation) === 90) ? LANDSCAPE : PORTRAIT;\n            }\n\n            // fallback to window size check\n            return (window.outerWidth > window.outerHeight) ? LANDSCAPE : PORTRAIT;\n        };\n\n        /**\n         * locks the device screen into the specified orientation.<br>\n         * This method only works for installed Web apps or for Web pages in full-screen mode.\n         * @name lockOrientation\n         * @memberOf me.device\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Screen/lockOrientation\n         * @function\n         * @return {Boolean} true if the orientation was unsuccessfully locked\n         */\n        api.lockOrientation = function (orientation) {\n            var screen = window.screen;\n            if (typeof screen !== \"undefined\") {\n                var lockOrientation = me.agent.prefixed(\"lockOrientation\", screen);\n                if (typeof lockOrientation !== \"undefined\") {\n                    return lockOrientation(orientation);\n                }\n            }\n            return false;\n        };\n\n        /**\n         * unlocks the device screen into the specified orientation.<br>\n         * This method only works for installed Web apps or for Web pages in full-screen mode.\n         * @name unlockOrientation\n         * @memberOf me.device\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Screen/lockOrientation\n         * @function\n         * @return {Boolean} true if the orientation was unsuccessfully unlocked\n         */\n        api.unlockOrientation = function (orientation) {\n            var screen = window.screen;\n            if (typeof screen !== \"undefined\") {\n                var unlockOrientation = me.agent.prefixed(\"unlockOrientation\", screen);\n                if (typeof unlockOrientation !== \"undefined\") {\n                    return unlockOrientation(orientation);\n                }\n            }\n            return false;\n        };\n\n        /**\n         * return true if the device screen orientation is in Portrait mode\n         * @name isPortrait\n         * @memberOf me.device\n         * @function\n         * @return {Boolean}\n         */\n        api.isPortrait = function () {\n            return me.device.getScreenOrientation().includes(\"portrait\");\n        };\n\n        /**\n         * return true if the device screen orientation is in Portrait mode\n         * @name isLandscape\n         * @memberOf me.device\n         * @function\n         * @return {Boolean}\n         */\n        api.isLandscape = function () {\n            return me.device.getScreenOrientation().includes(\"landscape\");\n        };\n\n        /**\n         * return the device storage\n         * @name getStorage\n         * @memberOf me.device\n         * @function\n         * @param {String} [type=\"local\"]\n         * @return me.save object\n         */\n        api.getStorage = function (type) {\n\n            type = type || \"local\";\n\n            switch (type) {\n                case \"local\" :\n                    return me.save;\n\n                default :\n                    throw new Error(\"storage type \" + type + \" not supported\");\n            }\n        };\n\n        /**\n         * return the highest precision format supported by this device for GL Shaders\n         * @name getMaxShaderPrecision\n         * @memberOf me.device\n         * @function\n         * @param {WebGLRenderingContext} gl\n         * @return {Boolean} \"lowp\", \"mediump\", or \"highp\"\n         */\n        api.getMaxShaderPrecision = function (gl) {\n            if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\n                gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0) {\n                    return \"highp\";\n            }\n            if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\n                gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0) {\n                    return \"mediump\";\n            }\n            return \"lowp\";\n        };\n\n        /**\n         * Makes a request to bring this device window to the front.\n         * @name focus\n         * @memberOf me.device\n         * @function\n         * @example\n         *  if (clicked) {\n         *    me.device.focus();\n         *  }\n         */\n        api.focus = function () {\n            if (typeof (window.focus) === \"function\") {\n                window.focus();\n            }\n        };\n\n\n        /**\n         * event management (Accelerometer)\n         * http://www.mobilexweb.com/samples/ball.html\n         * http://www.mobilexweb.com/blog/safari-ios-accelerometer-websockets-html5\n         * @ignore\n         */\n        function onDeviceMotion(e) {\n            // Accelerometer information\n            api.accelerationX = e.accelerationIncludingGravity.x;\n            api.accelerationY = e.accelerationIncludingGravity.y;\n            api.accelerationZ = e.accelerationIncludingGravity.z;\n        }\n\n        function onDeviceRotate(e) {\n            api.gamma = e.gamma;\n            api.beta = e.beta;\n            api.alpha = e.alpha;\n        }\n\n        /**\n         * Enters pointer lock, requesting it from the user first. Works on supported devices & browsers\n         * Must be called in a click event or an event that requires user interaction.\n         * If you need to run handle events for errors or change of the pointer lock, see below.\n         * @name turnOnPointerLock\n         * @memberOf me.device\n         * @function\n         * @example\n         * document.addEventListener(\"pointerlockchange\", pointerlockchange, false);\n         * document.addEventListener(\"mozpointerlockchange\", pointerlockchange, false);\n         * document.addEventListener(\"webkitpointerlockchange\", pointerlockchange, false);\n         *\n         * document.addEventListener(\"pointerlockerror\", pointerlockerror, false);\n         * document.addEventListener(\"mozpointerlockerror\", pointerlockerror, false);\n         * document.addEventListener(\"webkitpointerlockerror\", pointerlockerror, false);\n         */\n        api.turnOnPointerLock = function () {\n            if (this.hasPointerLockSupport) {\n                var element = me.video.getWrapper();\n                if (me.device.ua.match(/Firefox/i)) {\n                    var fullscreenchange = function () {\n                        if ((me.agent.prefixed(\"fullscreenElement\", document) ||\n                            document.mozFullScreenElement) === element) {\n\n                            document.removeEventListener(\"fullscreenchange\", fullscreenchange);\n                            document.removeEventListener(\"mozfullscreenchange\", fullscreenchange);\n                            element.requestPointerLock = me.agent.prefixed(\"requestPointerLock\", element);\n                            element.requestPointerLock();\n                        }\n                    };\n\n                    document.addEventListener(\"fullscreenchange\", fullscreenchange, false);\n                    document.addEventListener(\"mozfullscreenchange\", fullscreenchange, false);\n\n                    me.device.requestFullscreen();\n\n                }\n                else {\n                    element.requestPointerLock();\n                }\n            }\n        };\n\n        /**\n         * Exits pointer lock. Works on supported devices & browsers\n         * @name turnOffPointerLock\n         * @memberOf me.device\n         * @function\n         */\n        api.turnOffPointerLock = function () {\n            if (this.hasPointerLockSupport) {\n                document.exitPointerLock();\n            }\n        };\n\n        /**\n         * watch Accelerator event\n         * @name watchAccelerometer\n         * @memberOf me.device\n         * @public\n         * @function\n         * @return {Boolean} false if not supported by the device\n         */\n        api.watchAccelerometer = function () {\n            if (me.device.hasAccelerometer) {\n                if (!accelInitialized) {\n                    // add a listener for the devicemotion event\n                    window.addEventListener(\"devicemotion\", onDeviceMotion, false);\n                    accelInitialized = true;\n                }\n                return true;\n            }\n            return false;\n        };\n\n        /**\n         * unwatch Accelerometor event\n         * @name unwatchAccelerometer\n         * @memberOf me.device\n         * @public\n         * @function\n         */\n        api.unwatchAccelerometer = function () {\n            if (accelInitialized) {\n                // remove the listener for the devicemotion event\n                window.removeEventListener(\"devicemotion\", onDeviceMotion, false);\n                accelInitialized = false;\n            }\n        };\n\n        /**\n         * watch the device orientation event\n         * @name watchDeviceOrientation\n         * @memberOf me.device\n         * @public\n         * @function\n         * @return {Boolean} false if not supported by the device\n         */\n        api.watchDeviceOrientation = function () {\n            if (me.device.hasDeviceOrientation && !deviceOrientationInitialized) {\n                window.addEventListener(\"deviceorientation\", onDeviceRotate, false);\n                deviceOrientationInitialized = true;\n            }\n            return false;\n        };\n\n        /**\n         * unwatch Device orientation event\n         * @name unwatchDeviceOrientation\n         * @memberOf me.device\n         * @public\n         * @function\n         */\n        api.unwatchDeviceOrientation = function () {\n            if (deviceOrientationInitialized) {\n                window.removeEventListener(\"deviceorientation\", onDeviceRotate, false);\n                deviceOrientationInitialized = false;\n            }\n        };\n\n        /**\n         * the vibrate method pulses the vibration hardware on the device, <br>\n         * If the device doesn't support vibration, this method has no effect. <br>\n         * If a vibration pattern is already in progress when this method is called,\n         * the previous pattern is halted and the new one begins instead.\n         * @name vibrate\n         * @memberOf me.device\n         * @public\n         * @function\n         * @param {Number|Number[]} pattern pattern of vibration and pause intervals\n         * @example\n         * // vibrate for 1000 ms\n         * me.device.vibrate(1000);\n         * // or alternatively\n         * me.device.vibrate([1000]);\n         * // vibrate for 50 ms, be still for 100 ms, and then vibrate for 150 ms:\n         * me.device.vibrate([50, 100, 150]);\n         * // cancel any existing vibrations\n         * me.device.vibrate(0);\n         */\n        api.vibrate = function (pattern) {\n            if (navigator.vibrate) {\n                navigator.vibrate(pattern);\n            }\n        };\n\n\n        return api;\n    })();\n\n    /**\n     * Ratio of the resolution in physical pixels to the resolution in CSS pixels for the current display device.\n     * @name devicePixelRatio\n     * @memberOf me.device\n     * @public\n     * @type Number\n     * @readonly\n     * @return {Number}\n     */\n    Object.defineProperty(me.device, \"devicePixelRatio\", {\n        /**\n         * @ignore\n         */\n        get: function () {\n            return (window.devicePixelRatio || 1);\n        }\n    });\n\n    /**\n     * Returns true if the browser/device is in full screen mode.\n     * @name isFullscreen\n     * @memberOf me.device\n     * @public\n     * @type Boolean\n     * @readonly\n     * @return {boolean}\n     */\n    Object.defineProperty(me.device, \"isFullscreen\", {\n        /**\n         * @ignore\n         */\n        get: function () {\n            if (me.device.hasFullscreenSupport) {\n                return !!(me.agent.prefixed(\"fullscreenElement\", document) ||\n                    document.mozFullScreenElement);\n            } else {\n                return false;\n            }\n        }\n    });\n\n    /**\n     * Returns true if the browser/device has audio capabilities.\n     * @name sound\n     * @memberOf me.device\n     * @public\n     * @type Boolean\n     * @readonly\n     * @return {boolean}\n     */\n    Object.defineProperty(me.device, \"sound\", {\n        /**\n         * @ignore\n         */\n        get: function () {\n            return me.audio.hasAudio();\n        }\n    });\n})();\n","/*!\n * MinPubSub\n * Copyright(c) 2011 Daniel Lamb <daniellmb.com>\n * MIT Licensed\n */\n(function (context) {\n  var MinPubSub = {};\n\n  // the topic/subscription hash\n  var cache = context.c_ || {}; //check for 'c_' cache for unit testing\n\n  MinPubSub.publish = function ( /* String */ topic, /* Array? */ args) {\n    // summary: \n    //    Publish some data on a named topic.\n    // topic: String\n    //    The channel to publish on\n    // args: Array?\n    //    The data to publish. Each array item is converted into an ordered\n    //    arguments on the subscribed functions. \n    //\n    // example:\n    //    Publish stuff on '/some/topic'. Anything subscribed will be called\n    //    with a function signature like: function(a,b,c){ ... }\n    //\n    //    publish('/some/topic', ['a','b','c']);\n\n    var subs = cache[topic],\n      len = subs ? subs.length : 0;\n\n    //can change loop or reverse array if the order matters\n    while (len--) {\n      subs[len].apply(context, args || []);\n    }\n  };\n\n  MinPubSub.subscribe = function ( /* String */ topic, /* Function */ callback) {\n    // summary:\n    //    Register a callback on a named topic.\n    // topic: String\n    //    The channel to subscribe to\n    // callback: Function\n    //    The handler event. Anytime something is publish'ed on a \n    //    subscribed channel, the callback will be called with the\n    //    published array as ordered arguments.\n    //\n    // returns: Array\n    //    A handle which can be used to unsubscribe this particular subscription.\n    //        \n    // example:\n    //    subscribe('/some/topic', function(a, b, c){ /* handle data */ });\n\n    if (!cache[topic]) {\n      cache[topic] = [];\n    }\n    cache[topic].push(callback);\n    return [topic, callback]; // Array\n  };\n\n  MinPubSub.unsubscribe = function ( /* Array */ handle, /* Function? */ callback) {\n    // summary:\n    //    Disconnect a subscribed function for a topic.\n    // handle: Array\n    //    The return value from a subscribe call.\n    // example:\n    //    var handle = subscribe('/some/topic', function(){});\n    //    unsubscribe(handle);\n\n    var subs = cache[callback ? handle : handle[0]],\n      callback = callback || handle[1],\n      len = subs ? subs.length : 0;\n\n    while (len--) {\n      if (subs[len] === callback) {\n        subs.splice(len, 1);\n      }\n    }\n  };\n\n  // UMD definition to allow for CommonJS, AMD and legacy window\n  if (typeof module === 'object' && module.exports) {\n    // CommonJS, just export\n    module.exports = exports = MinPubSub;\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD support\n    define(function () {\n      return MinPubSub;\n    });\n  } else if (typeof context === 'object') {\n    // If no AMD and we are in the browser, attach to window\n    context.publish = MinPubSub.publish;\n    context.subscribe = MinPubSub.subscribe;\n    context.unsubscribe = MinPubSub.unsubscribe;\n  }\n\n})(this.window);","// external import\nimport MinPubSub from \"minpubsub\";\n\n(function () {\n    /**\n     * an event system based on a micro publish/subscribe messaging framework\n     * @namespace event\n     * @memberOf me\n     */\n    me.event = (function () {\n        // hold public stuff inside the singleton\n        var api = {};\n\n        /*\n         * PUBLIC\n         */\n\n        /**\n         * Channel Constant when the game is paused <br>\n         * Data passed : none <br>\n         * @public\n         * @constant\n         * @type String\n         * @name STATE_PAUSE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.STATE_PAUSE = \"me.state.onPause\";\n\n        /**\n         * Channel Constant for when the game is resumed <br>\n         * Data passed : {Number} time in ms the game was paused\n         * @public\n         * @constant\n         * @type String\n         * @name STATE_RESUME\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.STATE_RESUME = \"me.state.onResume\";\n\n        /**\n         * Channel Constant when the game is stopped <br>\n         * Data passed : none <br>\n         * @public\n         * @constant\n         * @type String\n         * @name STATE_STOP\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.STATE_STOP = \"me.state.onStop\";\n\n        /**\n         * Channel Constant for when the game is restarted <br>\n         * Data passed : {Number} time in ms the game was stopped\n         * @public\n         * @constant\n         * @type String\n         * @name STATE_RESTART\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.STATE_RESTART = \"me.state.onRestart\";\n\n        /**\n         * Channel Constant for when the game manager is initialized <br>\n         * Data passed : none <br>\n         * @public\n         * @constant\n         * @type String\n         * @name GAME_INIT\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.GAME_INIT = \"me.game.onInit\";\n\n        /**\n         * Channel Constant for when the game manager is resetted <br>\n         * Data passed : none <br>\n         * @public\n         * @constant\n         * @type String\n         * @name GAME_RESET\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.GAME_RESET = \"me.game.onReset\";\n\n        /**\n         * Channel Constant for when a level is loaded <br>\n         * Data passed : {String} Level Name\n         * @public\n         * @constant\n         * @type String\n         * @name LEVEL_LOADED\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.LEVEL_LOADED = \"me.game.onLevelLoaded\";\n\n        /**\n         * Channel Constant for when everything has loaded <br>\n         * Data passed : none <br>\n         * @public\n         * @constant\n         * @type String\n         * @name LOADER_COMPLETE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.LOADER_COMPLETE = \"me.loader.onload\";\n\n        /**\n         * Channel Constant for displaying a load progress indicator <br>\n         * Data passed : {Number} [0 .. 1], {Resource} resource object<br>\n         * @public\n         * @constant\n         * @type String\n         * @name LOADER_PROGRESS\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.LOADER_PROGRESS = \"me.loader.onProgress\";\n\n        /**\n         * Channel Constant for pressing a binded key <br>\n         * Data passed : {String} user-defined action, {Number} keyCode,\n         * {Boolean} edge state <br>\n         * Edge-state is for detecting \"locked\" key bindings. When a locked key\n         * is pressed and held, the first event will have the third argument\n         * set true. Subsequent events will continue firing with the third\n         * argument set false.\n         * @public\n         * @constant\n         * @type String\n         * @name KEYDOWN\n         * @memberOf me.event\n         * @see me.event.subscribe\n         * @example\n         * me.input.bindKey(me.input.KEY.X, \"jump\", true); // Edge-triggered\n         * me.input.bindKey(me.input.KEY.Z, \"shoot\"); // Level-triggered\n         * me.event.subscribe(me.event.KEYDOWN, function (action, keyCode, edge) {\n         *   // Checking bound keys\n         *   if (action === \"jump\") {\n         *       if (edge) {\n         *           this.doJump();\n         *       }\n         *\n         *       // Make character fall slower when holding the jump key\n         *       this.vel.y = this.body.gravity;\n         *   }\n         * });\n         */\n        api.KEYDOWN = \"me.input.keydown\";\n\n        /**\n         * Channel Constant for releasing a binded key <br>\n         * Data passed : {String} user-defined action, {Number} keyCode\n         * @public\n         * @constant\n         * @type String\n         * @name KEYUP\n         * @memberOf me.event\n         * @see me.event.subscribe\n         * @example\n         * me.event.subscribe(me.event.KEYUP, function (action, keyCode) {\n         *   // Checking unbound keys\n         *   if (keyCode == me.input.KEY.ESC) {\n         *       if (me.state.isPaused()) {\n         *           me.state.resume();\n         *       }\n         *       else {\n         *           me.state.pause();\n         *       }\n         *   }\n         * });\n         */\n        api.KEYUP = \"me.input.keyup\";\n\n        /**\n         * Channel Constant for when a gamepad is connected <br>\n         * Data passed : {Object} gamepad object\n         * @public\n         * @constant\n         * @type String\n         * @name GAMEPAD_CONNECTED\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.GAMEPAD_CONNECTED = \"gamepad.connected\";\n\n        /**\n         * Channel Constant for when a gamepad is disconnected <br>\n         * Data passed : {Object} gamepad object\n         * @public\n         * @constant\n         * @type String\n         * @name GAMEPAD_DISCONNECTED\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.GAMEPAD_DISCONNECTED = \"gamepad.disconnected\";\n\n        /**\n         * Channel Constant for when gamepad button/axis state is updated <br>\n         * Data passed : {Number} index <br>\n         * Data passed : {String} type : \"axes\" or \"buttons\" <br>\n         * Data passed : {Number} button <br>\n         * Data passed : {Number} current.value <br>\n         * Data passed : {Boolean} current.pressed\n         * @public\n         * @constant\n         * @type String\n         * @name GAMEPAD_UPDATE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.GAMEPAD_UPDATE = \"gamepad.update\";\n\n        /**\n         * Channel Constant for pointermove events on the screen area <br>\n         * Data passed : {me.Pointer} a Pointer object\n         * @public\n         * @constant\n         * @type String\n         * @name POINTERMOVE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.POINTERMOVE = \"me.event.pointermove\";\n\n        /**\n         * Channel Constant for dragstart events on a Draggable entity <br>\n         * Data passed:\n         * {Object} the drag event <br>\n         * {Object} the Draggable entity\n         * @public\n         * @constant\n         * @type String\n         * @name DRAGSTART\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.DRAGSTART = \"me.game.dragstart\";\n\n        /**\n         * Channel Constant for dragend events on a Draggable entity <br>\n         * Data passed:\n         * {Object} the drag event <br>\n         * {Object} the Draggable entity\n         * @public\n         * @constant\n         * @type String\n         * @name DRAGEND\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.DRAGEND = \"me.game.dragend\";\n\n        /**\n         * Channel Constant for when the (browser) window is resized <br>\n         * Data passed : {Event} Event object\n         * @public\n         * @constant\n         * @type String\n         * @name WINDOW_ONRESIZE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.WINDOW_ONRESIZE = \"window.onresize\";\n\n        /**\n         * Channel Constant for when the canvas is resized <br>\n         * (this usually follows a WINDOW_ONRESIZE event).<br>\n         * Data passed : {Number} canvas width <br>\n         * Data passed : {Number} canvas height\n         * @public\n         * @constant\n         * @type String\n         * @name CANVAS_ONRESIZE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.CANVAS_ONRESIZE = \"canvas.onresize\";\n\n        /**\n         * Channel Constant for when the viewport is resized <br>\n         * (this usually follows a WINDOW_ONRESIZE event, when using the `flex` scaling mode is used and after the viewport was updated).<br>\n         * Data passed : {Number} viewport width <br>\n         * Data passed : {Number} viewport height\n         * @public\n         * @constant\n         * @type String\n         * @name VIEWPORT_ONRESIZE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.VIEWPORT_ONRESIZE = \"viewport.onresize\";\n\n        /**\n         * Channel Constant for when the device is rotated <br>\n         * Data passed : {Event} Event object <br>\n         * @public\n         * @constant\n         * @type String\n         * @name WINDOW_ONORIENTATION_CHANGE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.WINDOW_ONORIENTATION_CHANGE = \"window.orientationchange\";\n\n        /**\n         * Channel Constant for when the (browser) window is scrolled <br>\n         * Data passed : {Event} Event object\n         * @public\n         * @constant\n         * @type String\n         * @name WINDOW_ONSCROLL\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.WINDOW_ONSCROLL = \"window.onscroll\";\n\n        /**\n         * Channel Constant for when the viewport position is updated <br>\n         * Data passed : {me.Vector2d} viewport position vector\n         * @public\n         * @constant\n         * @type String\n         * @name VIEWPORT_ONCHANGE\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.VIEWPORT_ONCHANGE = \"viewport.onchange\";\n\n        /**\n         * Channel Constant for when WebGL context is lost <br>\n         * Data passed : {me.WebGLRenderer} the current webgl renderer instance`\n         * @public\n         * @constant\n         * @type String\n         * @name WEBGL_ONCONTEXT_LOST\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.WEBGL_ONCONTEXT_LOST = \"renderer.webglcontextlost\";\n\n        /**\n         * Channel Constant for when WebGL context is restored <br>\n         * Data passed : {me.WebGLRenderer} the current webgl renderer instance`\n         * @public\n         * @constant\n         * @type String\n         * @name WEBGL_ONCONTEXT_RESTORED\n         * @memberOf me.event\n         * @see me.event.subscribe\n         */\n        api.WEBGL_ONCONTEXT_RESTORED = \"renderer.webglcontextrestored\";\n\n        /**\n         * Publish some data on a channel\n         * @name publish\n         * @memberOf me.event\n         * @public\n         * @function\n         * @param {String} channel The channel to publish on\n         * @param {Array} arguments The data to publish\n         *\n         * @example Publish stuff on '/some/channel'.\n         * Anything subscribed will be called with a function\n         * signature like: function (a,b,c){ ... }\n         *\n         * me.event.publish(\"/some/channel\", [\"a\",\"b\",\"c\"]);\n         *\n         */\n        api.publish = MinPubSub.publish;\n\n        /**\n         * Register a callback on a named channel.\n         * @name subscribe\n         * @memberOf me.event\n         * @public\n         * @function\n         * @param {String} channel The channel to subscribe to\n         * @param {Function} callback The event handler, any time something is\n         * published on a subscribed channel, the callback will be called\n         * with the published array as ordered arguments\n         * @return {handle} A handle which can be used to unsubscribe this\n         * particular subscription\n         * @example\n         * me.event.subscribe(\"/some/channel\", function (a, b, c){ doSomething(); });\n         */\n\n        api.subscribe = MinPubSub.subscribe;\n\n        /**\n         * Disconnect a subscribed function for a channel.\n         * @name unsubscribe\n         * @memberOf me.event\n         * @see me.event.subscribe\n         * @public\n         * @function\n         * @param {Array|String} handle The return value from a subscribe call or the\n         * name of a channel as a String\n         * @param {Function} [callback] The callback to be unsubscribed.\n         * @example\n         * var handle = me.event.subscribe(\"/some/channel\", function (){});\n         * me.event.unsubscribe(handle);\n         *\n         * // Or alternatively ...\n         *\n         * var callback = function (){};\n         * me.event.subscribe(\"/some/channel\", callback);\n         * me.event.unsubscribe(\"/some/channel\", callback);\n         */\n        api.unsubscribe = MinPubSub.unsubscribe;\n\n        // return our object\n        return api;\n    })();\n})();\n","(function () {\n\n    /**\n     * me.game represents your current game, it contains all the objects,\n     * tilemap layers, current viewport, collision map, etc...<br>\n     * me.game is also responsible for updating (each frame) the object status\n     * and draw them<br>\n     * @namespace me.game\n     * @memberOf me\n     */\n    me.game = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        /*\n         * PRIVATE STUFF\n         */\n\n        // flag to redraw the sprites\n        var initialized = false;\n\n        // to know when we have to refresh the display\n        var isDirty = true;\n\n        // always refresh the display when updatesPerSecond are lower than fps\n        var isAlwaysDirty = false;\n\n        // frame counter for frameSkipping\n        // reset the frame counter\n        var frameCounter = 0;\n        var frameRate = 1;\n\n        // time accumulation for multiple update calls\n        var accumulator = 0.0;\n        var accumulatorMax = 0.0;\n        var accumulatorUpdateDelta = 0;\n\n        // min update step size\n        var stepSize = 1000 / 60;\n        var updateDelta = 0;\n        var lastUpdateStart = null;\n        var updateAverageDelta = 0;\n\n        // reference to the renderer object\n        var renderer = null;\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * a reference to the current active stage \"default\" camera\n         * @public\n         * @type {me.Camera2d}\n         * @name viewport\n         * @memberOf me.game\n         */\n        api.viewport = undefined;\n\n        /**\n         * a reference to the game world, <br>\n         * a world is a virtual environment containing all the game objects\n         * @public\n         * @type {me.Container}\n         * @name world\n         * @memberOf me.game\n         */\n        api.world = null;\n\n        /**\n         * when true, all objects will be added under the root world container.<br>\n         * When false, a `me.Container` object will be created for each corresponding groups\n         * @public\n         * @type {boolean}\n         * @default true\n         * @name mergeGroup\n         * @memberOf me.game\n         */\n        api.mergeGroup = true;\n\n        /**\n         * Specify the property to be used when sorting entities.\n         * Accepted values : \"x\", \"y\", \"z\"\n         * @public\n         * @type {string}\n         * @default \"z\"\n         * @name sortOn\n         * @memberOf me.game\n         */\n        api.sortOn = \"z\";\n\n        /**\n         * Fired when a level is fully loaded and <br>\n         * and all entities instantiated. <br>\n         * Additionnaly the level id will also be passed\n         * to the called function.\n         * @public\n         * @function\n         * @name onLevelLoaded\n         * @memberOf me.game\n         * @example\n         * // call myFunction () everytime a level is loaded\n         * me.game.onLevelLoaded = this.myFunction.bind(this);\n         */\n        api.onLevelLoaded = function () {};\n\n        /**\n         * Provide an object hash with all tag parameters specified in the url.\n         * @property {Boolean} [hitbox=false] draw the hitbox in the debug panel (if enabled)\n         * @property {Boolean} [velocity=false] draw the entities velocity in the debug panel (if enabled)\n         * @property {Boolean} [quadtree=false] draw the quadtree in the debug panel (if enabled)\n         * @property {Boolean} [webgl=false] force the renderer to WebGL\n         * @property {Boolean} [debug=false] display the debug panel (if preloaded)\n         * @property {String} [debugToggleKey=\"s\"] show/hide the debug panel (if preloaded)\n         * @public\n         * @type {Object}\n         * @name HASH\n         * @memberOf me.game\n         * @example\n         * // http://www.example.com/index.html#debug&hitbox=true&mytag=value\n         * console.log(me.game.HASH[\"mytag\"]); //> \"value\"\n         */\n        api.HASH = null;\n\n        /**\n         * Initialize the game manager\n         * @name init\n         * @memberOf me.game\n         * @private\n         * @ignore\n         * @function\n         * @param {Number} [width] width of the canvas\n         * @param {Number} [height] width of the canvas\n         * init function.\n         */\n        api.init = function (width, height) {\n            if (!initialized) {\n                // if no parameter specified use the system size\n                width  = width  || me.video.renderer.getWidth();\n                height = height || me.video.renderer.getHeight();\n\n                // the root object of our world is an entity container\n                api.world = new me.Container(0, 0, width, height, true);\n                api.world.name = \"rootContainer\";\n\n                // to mimic the previous behavior\n                api.world.anchorPoint.set(0, 0);\n\n                // initialize the collision system (the quadTree mostly)\n                me.collision.init();\n\n                renderer = me.video.renderer;\n\n                // publish init notification\n                me.event.publish(me.event.GAME_INIT);\n\n                // make display dirty by default\n                isDirty = true;\n\n                // set as initialized\n                initialized = true;\n            }\n        };\n\n        /**\n         * reset the game Object manager<br>\n         * destroy all current objects\n         * @name reset\n         * @memberOf me.game\n         * @public\n         * @function\n         */\n        api.reset = function () {\n            // clear the quadtree\n            me.collision.quadTree.clear();\n\n            // remove all objects\n            api.world.reset();\n\n            // reset the anchorPoint\n            api.world.anchorPoint.set(0, 0);\n\n            // point to the current active stage \"default\" camera\n            api.viewport = me.state.current().cameras.get(\"default\");\n\n            // publish reset notification\n            me.event.publish(me.event.GAME_RESET);\n\n            // Refresh internal variables for framerate  limiting\n            api.updateFrameRate();\n        };\n\n        /**\n         * Update the renderer framerate using the system config variables.\n         * @name updateFrameRate\n         * @memberOf me.game\n         * @public\n         * @function\n         * @see me.sys.fps\n         * @see me.sys.updatesPerSecond\n         */\n        api.updateFrameRate = function () {\n            // reset the frame counter\n            frameCounter = 0;\n            frameRate = ~~(0.5 + 60 / me.sys.fps);\n\n            // set step size based on the updatesPerSecond\n            stepSize = (1000 / me.sys.updatesPerSecond);\n            accumulator = 0.0;\n            accumulatorMax = stepSize * 10;\n\n            // display should always re-draw when update speed doesn't match fps\n            // this means the user intends to write position prediction drawing logic\n            isAlwaysDirty = (me.sys.fps > me.sys.updatesPerSecond);\n        };\n\n        /**\n         * Returns the parent container of the specified Child in the game world\n         * @name getParentContainer\n         * @memberOf me.game\n         * @function\n         * @param {me.Renderable} child\n         * @return {me.Container}\n         */\n        api.getParentContainer = function (child) {\n            return child.ancestor;\n        };\n\n        /**\n         * force the redraw (not update) of all objects\n         * @name repaint\n         * @memberOf me.game\n         * @public\n         * @function\n         */\n\n        api.repaint = function () {\n            isDirty = true;\n        };\n\n\n        /**\n         * update all objects of the game manager\n         * @name update\n         * @memberOf me.game\n         * @private\n         * @ignore\n         * @function\n         * @param {Number} time current timestamp as provided by the RAF callback\n         * @param {me.Stage} stage the current stage\n         */\n        api.update = function (time, stage) {\n            // handle frame skipping if required\n            if ((++frameCounter % frameRate) === 0) {\n                // reset the frame counter\n                frameCounter = 0;\n\n                // update the timer\n                me.timer.update(time);\n\n                // update the gamepads\n                me.input._updateGamepads();\n\n                accumulator += me.timer.getDelta();\n                accumulator = Math.min(accumulator, accumulatorMax);\n\n                updateDelta = (me.sys.interpolation) ? me.timer.getDelta() : stepSize;\n                accumulatorUpdateDelta = (me.sys.interpolation) ? updateDelta : Math.max(updateDelta, updateAverageDelta);\n\n                while (accumulator >= accumulatorUpdateDelta || me.sys.interpolation) {\n                    lastUpdateStart = window.performance.now();\n\n                    // clear the quadtree\n                    me.collision.quadTree.clear();\n\n                    // insert the world container (children) into the quadtree\n                    me.collision.quadTree.insertContainer(api.world);\n\n                    // update all objects (and pass the elapsed time since last frame)\n                    isDirty = api.world.update(updateDelta) || isDirty;\n\n                    // update the camera/viewport\n                    // iterate through all cameras\n                    stage.cameras.forEach(function(camera) {\n                        if (camera.update(updateDelta)) {\n                            isDirty = true;\n                        };\n                    });\n\n                    me.timer.lastUpdate = window.performance.now();\n                    updateAverageDelta = me.timer.lastUpdate - lastUpdateStart;\n\n                    accumulator -= accumulatorUpdateDelta;\n                    if (me.sys.interpolation) {\n                        accumulator = 0;\n                        break;\n                    }\n                }\n            }\n        };\n\n        /**\n         * draw all existing objects\n         * @name draw\n         * @memberOf me.game\n         * @private\n         * @ignore\n         * @function\n         * @param {me.Stage} stage the current stage\n         */\n        api.draw = function (stage) {\n            if (renderer.isContextValid === true && (isDirty || isAlwaysDirty)) {\n\n                // prepare renderer to draw a new frame\n                renderer.clear();\n\n                // iterate through all cameras\n                stage.cameras.forEach(function(camera) {\n                    // render the root container\n                    camera.draw(renderer, me.game.world);\n                });\n\n                isDirty = false;\n\n                // flush/render our frame\n                renderer.flush();\n            }\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","(function () {\n\n    /**\n     * me global references\n     * @ignore\n     */\n    me.mod = \"melonJS\";\n    me.version = \"__VERSION__\";\n    /**\n     * global system settings and browser capabilities\n     * @namespace\n     */\n    me.sys = {\n\n        /*\n         * Global settings\n         */\n\n        /**\n         * Set game FPS limiting\n         * @see me.timer.tick\n         * @type {Number}\n         * @default 60\n         * @memberOf me.sys\n         */\n        fps : 60,\n\n        /**\n         * Rate at which the game updates;<br>\n         * may be greater than or lower than the fps\n         * @see me.timer.tick\n         * @type {Number}\n         * @default 60\n         * @memberOf me.sys\n         */\n        updatesPerSecond : 60,\n\n        /**\n         * Enable/disable frame interpolation\n         * @see me.timer.tick\n         * @type {Boolean}\n         * @default false\n         * @memberOf me.sys\n         */\n        interpolation : false,\n\n        /**\n         * Global scaling factor\n         * @type {me.Vector2d}\n         * @default <0,0>\n         * @memberOf me.sys\n         */\n        scale : null, //initialized by me.video.init\n\n        /**\n         * Global y axis gravity settings.\n         * (will override body gravity value if defined)\n         * @type {Number}\n         * @default undefined\n         * @memberOf me.sys\n         */\n        gravity : undefined,\n\n        /**\n         * Specify either to stop on audio loading error or not<br>\n         * if true, melonJS will throw an exception and stop loading<br>\n         * if false, melonJS will disable sounds and output a warning message\n         * in the console<br>\n         * @type {Boolean}\n         * @default true\n         * @memberOf me.sys\n         */\n        stopOnAudioError : true,\n\n        /**\n         * Specify whether to pause the game when losing focus.<br>\n         * @type {Boolean}\n         * @default true\n         * @memberOf me.sys\n         */\n        pauseOnBlur : true,\n\n        /**\n         * Specify whether to unpause the game when gaining focus.<br>\n         * @type {Boolean}\n         * @default true\n         * @memberOf me.sys\n         */\n        resumeOnFocus : true,\n\n        /**\n         * Specify whether to automatically bring the window to the front.<br>\n         * @type {Boolean}\n         * @default true\n         * @memberOf me.sys\n         */\n        autoFocus : true,\n\n        /**\n         * Specify whether to stop the game when losing focus or not<br>\n         * The engine restarts on focus if this is enabled.\n         * @type {boolean}\n         * @default false\n         * @memberOf me.sys\n         */\n        stopOnBlur : false,\n\n        /**\n         * Specify the rendering method for layers <br>\n         * if false, visible part of the layers are rendered dynamically<br>\n         * if true, the entire layers are first rendered into an offscreen\n         * canvas<br>\n         * the \"best\" rendering method depends of your game<br>\n         * (amount of layer, layer size, amount of tiles per layer, etc.)<br>\n         * note : rendering method is also configurable per layer by adding this\n         * property to your layer (in Tiled)<br>\n         * @type {Boolean}\n         * @default false\n         * @memberOf me.sys\n         */\n        preRender : false,\n\n        /*\n         * System methods\n         */\n\n        /**\n         * Compare two version strings\n         * @public\n         * @function\n         * @param {String} first First version string to compare\n         * @param {String} [second=\"__VERSION__\"] Second version string to compare\n         * @return {Number} comparison result <br>&lt; 0 : first &lt; second<br>\n         * 0 : first == second<br>\n         * &gt; 0 : first &gt; second\n         * @example\n         * if (me.sys.checkVersion(\"__VERSION__\") > 0) {\n         *     console.error(\n         *         \"melonJS is too old. Expected: __VERSION__, Got: \" + me.version\n         *     );\n         * }\n         */\n        checkVersion : function (first, second) {\n            second = second || me.version;\n\n            var a = first.split(\".\");\n            var b = second.split(\".\");\n            var len = Math.min(a.length, b.length);\n            var result = 0;\n\n            for (var i = 0; i < len; i++) {\n                if ((result = +a[i] - +b[i])) {\n                    break;\n                }\n            }\n\n            return result ? result : a.length - b.length;\n        }\n    };\n\n    function parseHash() {\n        var hash = {};\n\n        // No \"document.location\" exist for Wechat mini game platform.\n        if (document.location && document.location.hash) {\n            document.location.hash.substr(1).split(\"&\").filter(function (value) {\n                return (value !== \"\");\n            }).forEach(function (value) {\n                var kv = value.split(\"=\");\n                var k = kv.shift();\n                var v = kv.join(\"=\");\n                hash[k] = v || true;\n            });\n        }\n\n        return hash;\n    }\n\n    // a flag to know if melonJS\n    // is initialized\n    var me_initialized = false;\n\n    Object.defineProperty(me, \"initialized\", {\n        /**\n         * @ignore\n         */\n        get : function get() {\n            return me_initialized;\n        }\n    });\n\n    /**\n     * Disable melonJS auto-initialization\n     * @type {Boolean}\n     * @default false\n     * @memberOf me\n     */\n    me.skipAutoInit = false;\n\n    /**\n     * initial boot function\n     * @ignore\n     */\n    me.boot = function () {\n        // don't do anything if already initialized (should not happen anyway)\n        if (me_initialized) {\n            return;\n        }\n\n        // check the device capabilites\n        me.device._check();\n\n        // init the object Pool\n        me.pool.init();\n\n        // initialize me.save\n        me.save._init();\n\n        // parse optional url parameters/tags\n        me.game.HASH = parseHash();\n\n        // enable/disable the cache\n        me.loader.setNocache(\n            me.game.HASH.nocache || false\n        );\n\n        // init the FPS counter if needed\n        me.timer.init();\n\n        // init the App Manager\n        me.state.init();\n\n        // automatically enable keyboard events if on desktop\n        if (me.device.isMobile === false) {\n            me.input._enableKeyboardEvent();\n        }\n\n        // init the level Director\n        me.levelDirector.reset();\n\n        me_initialized = true;\n    };\n\n    // call the library init function when ready\n    if (me.skipAutoInit === false) {\n        me.device.onReady(function () {\n            me.boot();\n        });\n    } else {\n        /**\n         * @ignore\n         */\n        me.init = function () {\n            me.boot();\n            me.device._domReady();\n        };\n    }\n\n})();\n","(function () {\n    /**\n     * a Timer object to manage time function (FPS, Game Tick, Time...)<p>\n     * There is no constructor function for me.timer\n     * @namespace me.timer\n     * @memberOf me\n     */\n    me.timer = (function () {\n        // hold public stuff in our api\n        var api = {};\n\n        /*\n         * PRIVATE STUFF\n         */\n\n        //hold element to display fps\n        var framecount = 0;\n        var framedelta = 0;\n\n        /* fps count stuff */\n        var last = 0;\n        var now = 0;\n        var delta = 0;\n        var step = Math.ceil(1000 / me.sys.fps); // ROUND IT ?\n        // define some step with some margin\n        var minstep = (1000 / me.sys.fps) * 1.25; // IS IT NECESSARY?\\\n\n        // list of defined timer function\n        var timers = [];\n        var timerId = 0;\n\n        /**\n         * @ignore\n         */\n        var clearTimer = function (timerId) {\n            for (var i = 0, len = timers.length; i < len; i++) {\n                if (timers[i].timerId === timerId) {\n                    timers.splice(i, 1);\n                    break;\n                }\n            }\n        };\n\n        /**\n         * update timers\n         * @ignore\n         */\n        var updateTimers = function (dt) {\n            for (var i = 0, len = timers.length; i < len; i++) {\n                var _timer = timers[i];\n                if (!(_timer.pauseable && me.state.isPaused())) {\n                    _timer.elapsed += dt;\n                }\n                if (_timer.elapsed >= _timer.delay) {\n                    _timer.fn.apply(null, _timer.args);\n                    if (_timer.repeat === true) {\n                        _timer.elapsed -= _timer.delay;\n                    } else {\n                        me.timer.clearTimeout(_timer.timerId);\n                    }\n                }\n            }\n        };\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * Last game tick value.<br/>\n         * Use this value to scale velocities during frame drops due to slow\n         * hardware or when setting an FPS limit. (See {@link me.sys.fps})\n         * This feature is disabled by default. Enable me.sys.interpolation to\n         * use it.\n         * @public\n         * @see me.sys.interpolation\n         * @type Number\n         * @name tick\n         * @memberOf me.timer\n         */\n        api.tick = 1.0;\n\n        /**\n         * Last measured fps rate.<br/>\n         * This feature is disabled by default. Load and enable the DebugPanel\n         * plugin to use it.\n         * @public\n         * @type Number\n         * @name fps\n         * @memberOf me.timer\n         */\n        api.fps = 0;\n\n        /**\n         * Last update time.<br/>\n         * Use this value to implement frame prediction in drawing events,\n         * for creating smooth motion while running game update logic at\n         * a lower fps.\n         * @public\n         * @type Date\n         * @name lastUpdate\n         * @memberOf me.timer\n         */\n        api.lastUpdate = window.performance.now();\n\n        /**\n         * init the timer\n         * @ignore\n         */\n        api.init = function () {\n            // reset variables to initial state\n            api.reset();\n            now = last = 0;\n        };\n\n        /**\n         * reset time (e.g. usefull in case of pause)\n         * @name reset\n         * @memberOf me.timer\n         * @ignore\n         * @function\n         */\n        api.reset = function () {\n            // set to \"now\"\n            last = now = window.performance.now();\n            delta = 0;\n            // reset delta counting variables\n            framedelta = 0;\n            framecount = 0;\n        };\n\n        /**\n         * Calls a function once after a specified delay. See me.timer.setInterval to repeativly call a function.\n         * @name setTimeout\n         * @memberOf me.timer\n         * @param {Function} fn the function you want to execute after delay milliseconds.\n         * @param {Number} delay the number of milliseconds (thousandths of a second) that the function call should be delayed by.\n         * @param {Boolean} [pauseable=true] respects the pause state of the engine.\n         * @param {...*} [param] optional parameters which are passed through to the function specified by fn once the timer expires.\n         * @return {Number} The numerical ID of the timer, which can be used later with me.timer.clearTimeout().\n         * @function\n         * @example\n         * // set a timer to call \"myFunction\" after 1000ms\n         * me.timer.setTimeout(myFunction, 1000);\n         * // set a timer to call \"myFunction\" after 1000ms (respecting the pause state) and passing param1 and param2\n         * me.timer.setTimeout(myFunction, 1000, true, param1, param2);\n         */\n        api.setTimeout = function (fn, delay, pauseable) {\n            timers.push({\n                fn : fn,\n                delay : delay,\n                elapsed : 0,\n                repeat : false,\n                timerId : ++timerId,\n                pauseable : pauseable === true || true,\n                args : arguments.length > 3 ? Array.prototype.slice.call(arguments, 3) : undefined\n            });\n            return timerId;\n        };\n\n        /**\n         * Calls a function continously at the specified interval.  See setTimeout to call function a single time.\n         * @name setInterval\n         * @memberOf me.timer\n         * @param {Function} fn the function to execute\n         * @param {Number} delay the number of milliseconds (thousandths of a second) on how often to execute the function\n         * @param {Boolean} [pauseable=true] respects the pause state of the engine.\n         * @param {...*} [param] optional parameters which are passed through to the function specified by fn once the timer expires.\n         * @return {Number} The numerical ID of the timer, which can be used later with me.timer.clearInterval().\n         * @function\n         * @example\n         * // set a timer to call \"myFunction\" every 1000ms\n         * me.timer.setInterval(myFunction, 1000);\n         * // set a timer to call \"myFunction\" every 1000ms (respecting the pause state) and passing param1 and param2\n         * me.timer.setInterval(myFunction, 1000, true, param1, param2);\n         */\n        api.setInterval = function (fn, delay, pauseable) {\n            timers.push({\n                fn : fn,\n                delay : delay,\n                elapsed : 0,\n                repeat : true,\n                timerId : ++timerId,\n                pauseable : pauseable === true || true,\n                args : arguments.length > 3 ? Array.prototype.slice.call(arguments, 3) : undefined\n            });\n            return timerId;\n        };\n\n        /**\n         * Clears the delay set by me.timer.setTimeout().\n         * @name clearTimeout\n         * @memberOf me.timer\n         * @function\n         * @param {Number} timeoutID ID of the timeout to be cleared\n         */\n        api.clearTimeout = function (timeoutID) {\n            me.utils.function.defer(clearTimer, this, timeoutID);\n        };\n\n        /**\n         * Clears the Interval set by me.timer.setInterval().\n         * @name clearInterval\n         * @memberOf me.timer\n         * @function\n         * @param {Number} intervalID ID of the interval to be cleared\n         */\n        api.clearInterval = function (intervalID) {\n            me.utils.function.defer(clearTimer, this, intervalID);\n        };\n\n        /**\n         * Return the current timestamp in milliseconds <br>\n         * since the game has started or since linux epoch (based on browser support for High Resolution Timer)\n         * @name getTime\n         * @memberOf me.timer\n         * @return {Number}\n         * @function\n         */\n        api.getTime = function () {\n            return now;\n        };\n\n        /**\n         * Return elapsed time in milliseconds since the last update<br>\n         * @name getDelta\n         * @memberOf me.timer\n         * @return {Number}\n         * @function\n         */\n        api.getDelta = function () {\n            return delta;\n        };\n\n        /**\n         * compute the actual frame time and fps rate\n         * @name computeFPS\n         * @ignore\n         * @memberOf me.timer\n         * @function\n         */\n        api.countFPS = function () {\n            framecount++;\n            framedelta += delta;\n            if (framecount % 10 === 0) {\n                this.fps = me.Math.clamp(~~((1000 * framecount) / framedelta), 0, me.sys.fps);\n                framedelta = 0;\n                framecount = 0;\n            }\n        };\n\n        /**\n         * update game tick\n         * should be called once a frame\n         * @param {Number} time current timestamp as provided by the RAF callback\n         * @return {Number} time elapsed since the last update\n         * @ignore\n         */\n        api.update = function (time) {\n            last = now;\n            now = time;\n            delta = (now - last);\n\n            // fix for negative timestamp returned by wechat or chrome on startup\n            if (delta < 0) {\n                delta = 0;\n            }\n\n            // get the game tick\n            api.tick = (delta > minstep && me.sys.interpolation) ? delta / step : 1;\n\n            // update defined timers\n            updateTimers(delta);\n\n            return delta;\n        };\n\n        // return our apiect\n        return api;\n    })();\n})();\n","(function () {\n    /**\n     * This object is used for object pooling - a technique that might speed up your game if used properly.<br>\n     * If some of your classes will be instantiated and removed a lot at a time, it is a\n     * good idea to add the class to this object pool. A separate pool for that class\n     * will be created, which will reuse objects of the class. That way they won't be instantiated\n     * each time you need a new one (slowing your game), but stored into that pool and taking one\n     * already instantiated when you need it.<br><br>\n     * This object is also used by the engine to instantiate objects defined in the map,\n     * which means, that on level loading the engine will try to instantiate every object\n     * found in the map, based on the user defined name in each Object Properties<br>\n     * <img src=\"images/object_properties.png\"/><br>\n     * @namespace me.pool\n     * @memberOf me\n     */\n    me.pool = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        var objectClass = {};\n\n        var instance_counter = 0;\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * Constructor\n         * @ignore\n         */\n        api.init = function () {\n            api.register(\"me.Entity\", me.Entity);\n            api.register(\"me.CollectableEntity\", me.CollectableEntity);\n            api.register(\"me.LevelEntity\", me.LevelEntity);\n            api.register(\"me.Tween\", me.Tween, true);\n            api.register(\"me.Color\", me.Color, true);\n            api.register(\"me.Particle\", me.Particle, true);\n            api.register(\"me.Sprite\", me.Sprite);\n            api.register(\"me.Text\", me.Text, true);\n            api.register(\"me.BitmapText\", me.BitmapText, true);\n            api.register(\"me.BitmapTextData\", me.BitmapTextData, true);\n            api.register(\"me.ImageLayer\", me.ImageLayer, true);\n            api.register(\"me.ColorLayer\", me.ColorLayer, true);\n            api.register(\"me.Vector2d\", me.Vector2d, true);\n            api.register(\"me.Vector3d\", me.Vector3d, true);\n            api.register(\"me.ObservableVector2d\", me.ObservableVector2d, true);\n            api.register(\"me.ObservableVector3d\", me.ObservableVector3d, true);\n            api.register(\"me.Matrix2d\", me.Matrix2d, true);\n            api.register(\"me.Rect\", me.Rect, true);\n            api.register(\"me.Polygon\", me.Polygon, true);\n            api.register(\"me.Line\", me.Line, true);\n            api.register(\"me.Ellipse\", me.Ellipse, true);\n        };\n\n        /**\n         * register an object to the pool. <br>\n         * Pooling must be set to true if more than one such objects will be created. <br>\n         * (note) If pooling is enabled, you shouldn't instantiate objects with `new`.\n         * See examples in {@link me.pool#pull}\n         * @name register\n         * @memberOf me.pool\n         * @public\n         * @function\n         * @param {String} className as defined in the Name field of the Object Properties (in Tiled)\n         * @param {Object} class corresponding Class to be instantiated\n         * @param {Boolean} [objectPooling=false] enables object pooling for the specified class\n         * - speeds up the game by reusing existing objects\n         * @example\n         * // add our users defined entities in the object pool\n         * me.pool.register(\"playerspawnpoint\", PlayerEntity);\n         * me.pool.register(\"cherryentity\", CherryEntity, true);\n         * me.pool.register(\"heartentity\", HeartEntity, true);\n         * me.pool.register(\"starentity\", StarEntity, true);\n         */\n         api.register = function (className, classObj, pooling) {\n             if (typeof (classObj) !== \"undefined\") {\n                 objectClass[className] = {\n                     \"class\" : classObj,\n                     \"pool\" : (pooling ? [] : undefined)\n                 };\n             } else {\n                 throw new Error(\"Cannot register object '\" + className + \"', invalid class\");\n             }\n         };\n\n        /**\n         * Pull a new instance of the requested object (if added into the object pool)\n         * @name pull\n         * @memberOf me.pool\n         * @public\n         * @function\n         * @param {String} className as used in {@link me.pool.register}\n         * @param {} [arguments...] arguments to be passed when instantiating/reinitializing the object\n         * @return {Object} the instance of the requested object\n         * @example\n         * me.pool.register(\"player\", PlayerEntity);\n         * var player = me.pool.pull(\"player\");\n         * @example\n         * me.pool.register(\"bullet\", BulletEntity, true);\n         * me.pool.register(\"enemy\", EnemyEntity, true);\n         * // ...\n         * // when we need to manually create a new bullet:\n         * var bullet = me.pool.pull(\"bullet\", x, y, direction);\n         * // ...\n         * // params aren't a fixed number\n         * // when we need new enemy we can add more params, that the object construct requires:\n         * var enemy = me.pool.pull(\"enemy\", x, y, direction, speed, power, life);\n         * // ...\n         * // when we want to destroy existing object, the remove\n         * // function will ensure the object can then be reallocated later\n         * me.game.world.removeChild(enemy);\n         * me.game.world.removeChild(bullet);\n         */\n        api.pull = function (name) {\n            var args = new Array(arguments.length);\n            for (var i = 0; i < arguments.length; i++) {\n                args[i] = arguments[i];\n            }\n            var entity = objectClass[name];\n            if (entity) {\n                var proto = entity[\"class\"],\n                    pool = entity.pool,\n                    obj;\n\n                if (pool && ((obj = pool.pop()))) {\n                    args.shift();\n                    // call the object onResetEvent function if defined\n                    if (typeof(obj.onResetEvent) === \"function\") {\n                        obj.onResetEvent.apply(obj, args);\n                    }\n                    else {\n                        obj.init.apply(obj, args);\n                    }\n                    instance_counter--;\n                }\n                else {\n                    args[0] = proto;\n                    obj = new (proto.bind.apply(proto, args))();\n                    if (pool) {\n                        obj.className = name;\n                    }\n                }\n                return obj;\n            }\n\n            throw new Error(\"Cannot instantiate object of type '\" + name + \"'\");\n        };\n\n        /**\n         * purge the object pool from any inactive object <br>\n         * Object pooling must be enabled for this function to work<br>\n         * note: this will trigger the garbage collector\n         * @name purge\n         * @memberOf me.pool\n         * @public\n         * @function\n         */\n        api.purge = function () {\n            for (var className in objectClass) {\n                if (objectClass[className]) {\n                    objectClass[className].pool = [];\n                }\n            }\n            instance_counter = 0;\n        };\n\n        /**\n         * Push back an object instance into the object pool <br>\n         * Object pooling for the object class must be enabled,\n         * and object must have been instantiated using {@link me.pool#pull},\n         * otherwise this function won't work\n         * @name push\n         * @memberOf me.pool\n         * @public\n         * @function\n         * @param {Object} instance to be recycled\n         */\n        api.push = function (obj) {\n            var name = obj.className;\n            if (typeof(name) === \"undefined\" || !objectClass[name]) {\n                // object is not registered, don't do anything\n                return;\n            }\n            // store back the object instance for later recycling\n            objectClass[name].pool.push(obj);\n            instance_counter++;\n        };\n\n        /**\n         * Check if an object with the provided name is registered\n         * @name exists\n         * @memberOf me.pool\n         * @public\n         * @function\n         * @param {String} name of the registered object\n         * @return {Boolean} true if the classname is registered\n         */\n        api.exists = function (name) {\n            return name in objectClass;\n        };\n\n        /**\n         * returns the amount of object instance currently in the pool\n         * @name getInstanceCount\n         * @memberOf me.pool\n         * @public\n         * @function\n         * @return {Number} amount of object instance\n         */\n        api.getInstanceCount = function (name) {\n            return instance_counter;\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","(function () {\n\n    /**\n     * a collection of math utility functions\n     * @namespace Math\n     * @memberOf me\n     */\n    me.Math = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * constant to convert from degrees to radians\n         * @public\n         * @type {Number}\n         * @name DEG_TO_RAD\n         * @memberOf me.Math\n         */\n        api.DEG_TO_RAD = Math.PI / 180.0;\n\n        /**\n         * constant to convert from radians to degrees\n         * @public\n         * @type {Number}\n         * @name RAD_TO_DEG\n         * @memberOf me.Math\n         */\n        api.RAD_TO_DEG = 180.0 / Math.PI;\n\n        /**\n         * constant equals to 2 times pi\n         * @public\n         * @type {Number}\n         * @name TAU\n         * @memberOf me.Math\n         */\n        api.TAU = Math.PI * 2;\n\n        /**\n         * constant equals to half pi\n         * @public\n         * @type {Number}\n         * @name ETA\n         * @memberOf me.Math\n         */\n        api.ETA = Math.PI * 0.5;\n\n        /**\n         * returns true if the given value is a power of two\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name isPowerOfTwo\n         * @param {Number} val\n         * @return {boolean}\n         */\n        api.isPowerOfTwo = function (val) {\n            return (val & (val - 1)) === 0;\n        };\n\n        /**\n         * returns the next power of two for the given value\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name nextPowerOfTwo\n         * @param {Number} val\n         * @return {boolean}\n         */\n        api.nextPowerOfTwo = function (val) {\n            val --;\n            val |= val >> 1;\n            val |= val >> 2;\n            val |= val >> 4;\n            val |= val >> 8;\n            val |= val >> 16;\n            val ++;\n            return val;\n        };\n\n        /**\n         * Converts an angle in degrees to an angle in radians\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name degToRad\n         * @param {number} angle angle in degrees\n         * @return {number} corresponding angle in radians\n         * @example\n         * // convert a specific angle\n         * me.Math.degToRad(60); // return 1.0471...\n         */\n        api.degToRad = function (angle) {\n            return angle * api.DEG_TO_RAD;\n        };\n\n        /**\n         * Converts an angle in radians to an angle in degrees.\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name radToDeg\n         * @param {number} radians angle in radians\n         * @return {number} corresponding angle in degrees\n         * @example\n         * // convert a specific angle\n         * me.Math.radToDeg(1.0471975511965976); // return 60\n         */\n        api.radToDeg = function (radians) {\n            return radians * api.RAD_TO_DEG;\n        };\n\n        /**\n         * clamp the given value\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name clamp\n         * @param {number} val the value to clamp\n         * @param {number} low lower limit\n         * @param {number} high higher limit\n         * @return {number} clamped value\n         */\n        api.clamp = function (val, low, high) {\n            return val < low ? low : val > high ? high : +val;\n        };\n\n        /**\n         * return a random integer between min (included) and max (excluded)\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name random\n         * @param {number} min minimum value.\n         * @param {number} max maximum value.\n         * @return {number} random value\n         * @example\n         * // Print a random number; one of 5, 6, 7, 8, 9\n         * console.log(me.Math.random(5, 10) );\n         */\n        api.random = function (min, max) {\n            return (~~(Math.random() * (max - min)) + min);\n        };\n\n        /**\n         * return a random float between min, max (exclusive)\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name randomFloat\n         * @param {number} min minimum value.\n         * @param {number} max maximum value.\n         * @return {number} random value\n         * @example\n         * // Print a random number; one of 5, 6, 7, 8, 9\n         * console.log(me.Math.randomFloat(5, 10) );\n         */\n        api.randomFloat = function (min, max) {\n            return (Math.random() * (max - min)) + min;\n        };\n\n        /**\n         * return a weighted random between min, max (exclusive)\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name weightedRandom\n         * @param {number} min minimum value.\n         * @param {number} max maximum value.\n         * @return {number} random value\n         * @example\n         * // Print a random number; one of 5, 6, 7, 8, 9\n         * console.log(me.Math.weightedRandom(5, 10) );\n         */\n        api.weightedRandom = function (min, max) {\n            return (~~(Math.pow(Math.random(), 2) * (max - min)) + min);\n        };\n\n        /**\n         * round a value to the specified number of digit\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name round\n         * @param {number} num value to be rounded.\n         * @param {number} [dec=0] number of decimal digit to be rounded to.\n         * @return {number} rounded value\n         * @example\n         * // round a specific value to 2 digits\n         * me.Math.round(10.33333, 2); // return 10.33\n         */\n        api.round = function (num, dec) {\n            // if only one argument use the object value\n            var powres = Math.pow(10, dec || 0);\n            return (~~(0.5 + num * powres) / powres);\n        };\n\n        /**\n         * check if the given value is close to the expected one\n         * @public\n         * @function\n         * @memberOf me.Math\n         * @name toBeCloseTo\n         * @param {number} expected value to be compared with.\n         * @param {number} actual actual value to compare\n         * @param {number} [precision=2] float precision for the comparison\n         * @return {boolean} if close to\n         * @example\n         * // test if the given value is close to 10\n         * if (me.Math.toBeCloseTo(10, value)) {\n         *     // do something\n         * }\n         */\n        api.toBeCloseTo = function (expected, actual, precision) {\n            if (typeof precision !== \"number\") {\n                precision = 2;\n            }\n            return Math.abs(expected - actual) < (Math.pow(10, -precision) / 2)\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","(function () {\n    /**\n     * a generic 2D Vector Object\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {Number} [x=0] x value of the vector\n     * @param {Number} [y=0] y value of the vector\n     */\n    me.Vector2d = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y) {\n            return this.set(x || 0, y || 0);\n        },\n\n        /**\n         * @ignore */\n        _set : function (x, y) {\n            this.x = x;\n            this.y = y;\n            return this;\n        },\n\n        /**\n         * set the Vector x and y properties to the given values<br>\n         * @name set\n         * @memberOf me.Vector2d\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        set : function (x, y) {\n            if (x !== +x || y !== +y) {\n                throw new Error(\n                    \"invalid x,y parameters (not a number)\"\n                );\n            }\n\n            /**\n             * x value of the vector\n             * @public\n             * @type Number\n             * @name x\n             * @memberOf me.Vector2d\n             */\n            //this.x = x;\n\n            /**\n             * y value of the vector\n             * @public\n             * @type Number\n             * @name y\n             * @memberOf me.Vector2d\n             */\n            //this.y = y;\n\n            return this._set(x, y);\n        },\n\n        /**\n         * set the Vector x and y properties to 0\n         * @name setZero\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        setZero : function () {\n            return this.set(0, 0);\n        },\n\n        /**\n         * set the Vector x and y properties using the passed vector\n         * @name setV\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        setV : function (v) {\n            return this._set(v.x, v.y);\n        },\n\n        /**\n         * Add the passed vector to this vector\n         * @name add\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        add : function (v) {\n            return this._set(this.x + v.x, this.y + v.y);\n        },\n\n        /**\n         * Substract the passed vector to this vector\n         * @name sub\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        sub : function (v) {\n            return this._set(this.x - v.x, this.y - v.y);\n        },\n\n        /**\n         * Multiply this vector values by the given scalar\n         * @name scale\n         * @memberOf me.Vector2d\n         * @function\n         * @param {Number} x\n         * @param {Number} [y=x]\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        scale : function (x, y) {\n            return this._set(this.x * x, this.y * (typeof (y) !== \"undefined\" ? y : x));\n        },\n\n        /**\n         * Convert this vector into isometric coordinate space\n         * @name toIso\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        toIso : function () {\n            return this._set(this.x - this.y, (this.x + this.y) * 0.5);\n        },\n\n        /**\n         * Convert this vector into 2d coordinate space\n         * @name to2d\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        to2d : function () {\n            return this._set(this.y + this.x / 2, this.y - this.x / 2);\n        },\n\n        /**\n         * Multiply this vector values by the passed vector\n         * @name scaleV\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        scaleV : function (v) {\n            return this._set(this.x * v.x, this.y * v.y);\n        },\n\n        /**\n         * Divide this vector values by the passed value\n         * @name div\n         * @memberOf me.Vector2d\n         * @function\n         * @param {Number} value\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        div : function (n) {\n            return this._set(this.x / n, this.y / n);\n        },\n\n        /**\n         * Update this vector values to absolute values\n         * @name abs\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        abs : function () {\n            return this._set((this.x < 0) ? -this.x : this.x, (this.y < 0) ? -this.y : this.y);\n        },\n\n        /**\n         * Clamp the vector value within the specified value range\n         * @name clamp\n         * @memberOf me.Vector2d\n         * @function\n         * @param {Number} low\n         * @param {Number} high\n         * @return {me.Vector2d} new me.Vector2d\n         */\n        clamp : function (low, high) {\n            return new me.Vector2d(me.Math.clamp(this.x, low, high), me.Math.clamp(this.y, low, high));\n        },\n\n        /**\n         * Clamp this vector value within the specified value range\n         * @name clampSelf\n         * @memberOf me.Vector2d\n         * @function\n         * @param {Number} low\n         * @param {Number} high\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        clampSelf : function (low, high) {\n            return this._set(me.Math.clamp(this.x, low, high), me.Math.clamp(this.y, low, high));\n        },\n\n        /**\n         * Update this vector with the minimum value between this and the passed vector\n         * @name minV\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        minV : function (v) {\n            return this._set((this.x < v.x) ? this.x : v.x, (this.y < v.y) ? this.y : v.y);\n        },\n\n        /**\n         * Update this vector with the maximum value between this and the passed vector\n         * @name maxV\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        maxV : function (v) {\n            return this._set((this.x > v.x) ? this.x : v.x, (this.y > v.y) ? this.y : v.y);\n        },\n\n        /**\n         * Floor the vector values\n         * @name floor\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} new me.Vector2d\n         */\n        floor : function () {\n            return new me.Vector2d(Math.floor(this.x), Math.floor(this.y));\n        },\n\n        /**\n         * Floor this vector values\n         * @name floorSelf\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        floorSelf : function () {\n            return this._set(Math.floor(this.x), Math.floor(this.y));\n        },\n\n        /**\n         * Ceil the vector values\n         * @name ceil\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} new me.Vector2d\n         */\n        ceil : function () {\n            return new me.Vector2d(Math.ceil(this.x), Math.ceil(this.y));\n        },\n\n        /**\n         * Ceil this vector values\n         * @name ceilSelf\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        ceilSelf : function () {\n            return this._set(Math.ceil(this.x), Math.ceil(this.y));\n        },\n\n        /**\n         * Negate the vector values\n         * @name negate\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} new me.Vector2d\n         */\n        negate : function () {\n            return new me.Vector2d(-this.x, -this.y);\n        },\n\n        /**\n         * Negate this vector values\n         * @name negateSelf\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        negateSelf : function () {\n            return this._set(-this.x, -this.y);\n        },\n\n        /**\n         * Copy the x,y values of the passed vector to this one\n         * @name copy\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        copy : function (v) {\n            return this._set(v.x, v.y);\n        },\n\n        /**\n         * return true if the two vectors are the same\n         * @name equals\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {Boolean}\n         */\n        equals : function (v) {\n            return ((this.x === v.x) && (this.y === v.y));\n        },\n\n        /**\n         * normalize this vector (scale the vector so that its magnitude is 1)\n         * @name normalize\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        normalize : function () {\n            var d = this.length();\n            if (d > 0) {\n                return this._set(this.x / d, this.y / d);\n            }\n            return this;\n        },\n\n        /**\n         * change this vector to be perpendicular to what it was before.<br>\n         * (Effectively rotates it 90 degrees in a clockwise direction)\n         * @name perp\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        perp : function () {\n            return this._set(this.y, -this.x);\n        },\n\n        /**\n         * Rotate this vector (counter-clockwise) by the specified angle (in radians).\n         * @name rotate\n         * @memberOf me.Vector2d\n         * @function\n         * @param {number} angle The angle to rotate (in radians)\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        rotate : function (angle) {\n            var x = this.x;\n            var y = this.y;\n            return this._set(x * Math.cos(angle) - y * Math.sin(angle), x * Math.sin(angle) + y * Math.cos(angle));\n        },\n\n        /**\n         * return the dot product of this vector and the passed one\n         * @name dotProduct\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {Number} The dot product.\n         */\n        dotProduct : function (v) {\n            return this.x * v.x + this.y * v.y;\n        },\n\n       /**\n         * return the square length of this vector\n         * @name length2\n         * @memberOf me.Vector2d\n         * @function\n         * @return {Number} The length^2 of this vector.\n         */\n        length2 : function () {\n            return this.dotProduct(this);\n        },\n\n        /**\n         * return the length (magnitude) of this vector\n         * @name length\n         * @memberOf me.Vector2d\n         * @function\n         * @return {Number} the length of this vector\n         */\n        length : function () {\n            return Math.sqrt(this.length2());\n        },\n\n        /**\n         * Linearly interpolate between this vector and the given one.\n         * @name lerp\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @param {Number} alpha distance along the line (alpha = 0 will be this vector, and alpha = 1 will be the given one).\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        lerp : function (v, alpha) {\n            this.x += ( v.x - this.x ) * alpha;\n            this.y += ( v.y - this.y ) * alpha;\n            return this;\n        },\n\n        /**\n         * return the distance between this vector and the passed one\n         * @name distance\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {Number}\n         */\n        distance : function (v) {\n            var dx = this.x - v.x, dy = this.y - v.y;\n            return Math.sqrt(dx * dx + dy * dy);\n        },\n\n        /**\n         * return the angle between this vector and the passed one\n         * @name angle\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v\n         * @return {Number} angle in radians\n         */\n        angle : function (v) {\n            return Math.acos(me.Math.clamp(this.dotProduct(v) / (this.length() * v.length()), -1, 1));\n        },\n\n        /**\n         * project this vector on to another vector.\n         * @name project\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v The vector to project onto.\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        project : function (v) {\n            return this.scale(this.dotProduct(v) / v.length2());\n        },\n\n        /**\n         * Project this vector onto a vector of unit length.<br>\n         * This is slightly more efficient than `project` when dealing with unit vectors.\n         * @name projectN\n         * @memberOf me.Vector2d\n         * @function\n         * @param {me.Vector2d} v The unit vector to project onto.\n         * @return {me.Vector2d} Reference to this object for method chaining\n         */\n        projectN : function (v) {\n            return this.scale(this.dotProduct(v));\n        },\n\n        /**\n         * return a clone copy of this vector\n         * @name clone\n         * @memberOf me.Vector2d\n         * @function\n         * @return {me.Vector2d} new me.Vector2d\n         */\n        clone : function () {\n            return me.pool.pull(\"me.Vector2d\", this.x, this.y);\n        },\n\n        /**\n         * convert the object to a string representation\n         * @name toString\n         * @memberOf me.Vector2d\n         * @function\n         * @return {String}\n         */\n        toString : function () {\n            return \"x:\" + this.x + \",y:\" + this.y;\n        }\n    });\n})();\n","(function () {\n    /**\n     * a generic 3D Vector Object\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {Number} [x=0] x value of the vector\n     * @param {Number} [y=0] y value of the vector\n     * @param {Number} [z=0] z value of the vector\n     */\n    me.Vector3d = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, z) {\n            return this.set(x || 0, y || 0, z || 0);\n        },\n\n        /**\n         * @ignore */\n        _set : function (x, y, z) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            return this;\n        },\n\n        /**\n         * set the Vector x and y properties to the given values<br>\n         * @name set\n         * @memberOf me.Vector3d\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} z\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        set : function (x, y, z) {\n            if (x !== +x || y !== +y || z !== +z) {\n                throw new Error(\n                    \"invalid x, y, z parameters (not a number)\"\n                );\n            }\n\n            /**\n             * x value of the vector\n             * @public\n             * @type Number\n             * @name x\n             * @memberOf me.Vector3d\n             */\n            //this.x = x;\n\n            /**\n             * y value of the vector\n             * @public\n             * @type Number\n             * @name y\n             * @memberOf me.Vector3d\n             */\n            //this.y = y;\n\n            /**\n             * z value of the vector\n             * @public\n             * @type Number\n             * @name z\n             * @memberOf me.Vector3d\n             */\n            //this.z = z;\n\n            return this._set(x, y, z);\n        },\n\n        /**\n         * set the Vector x and y properties to 0\n         * @name setZero\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        setZero : function () {\n            return this.set(0, 0, 0);\n        },\n\n        /**\n         * set the Vector x and y properties using the passed vector\n         * @name setV\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        setV : function (v) {\n            return this._set(v.x, v.y, typeof (v.z) !== \"undefined\" ? v.z : this.z);\n        },\n\n        /**\n         * Add the passed vector to this vector\n         * @name add\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        add : function (v) {\n            return this._set(this.x + v.x, this.y + v.y, this.z + (v.z || 0));\n        },\n\n        /**\n         * Substract the passed vector to this vector\n         * @name sub\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        sub : function (v) {\n            return this._set(this.x - v.x, this.y - v.y, this.z - (v.z || 0));\n        },\n\n        /**\n         * Multiply this vector values by the given scalar\n         * @name scale\n         * @memberOf me.Vector3d\n         * @function\n         * @param {Number} x\n         * @param {Number} [y=x]\n         * @param {Number} [z=x]\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        scale : function (x, y, z) {\n            y = (typeof (y) !== \"undefined\" ? y : x);\n            z = (typeof (z) !== \"undefined\" ? z : x);\n            return this._set(this.x * x, this.y * y, this.z * z);\n        },\n\n        /**\n         * Multiply this vector values by the passed vector\n         * @name scaleV\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        scaleV : function (v) {\n            return this._set(this.x * v.x, this.y * v.y, this.z * (v.z || 1));\n        },\n\n        /**\n         * Convert this vector into isometric coordinate space\n         * @name toIso\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        toIso : function () {\n            return this._set(this.x - this.y, (this.x + this.y) * 0.5, this.z);\n        },\n\n        /**\n         * Convert this vector into 2d coordinate space\n         * @name to2d\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        to2d : function () {\n            return this._set(this.y + this.x / 2, this.y - this.x / 2, this.z);\n        },\n\n        /**\n         * Divide this vector values by the passed value\n         * @name div\n         * @memberOf me.Vector3d\n         * @function\n         * @param {Number} value\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        div : function (n) {\n            return this._set(this.x / n, this.y / n, this.z / n);\n        },\n\n        /**\n         * Update this vector values to absolute values\n         * @name abs\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        abs : function () {\n            return this._set((this.x < 0) ? -this.x : this.x, (this.y < 0) ? -this.y : this.y, (this.z < 0) ? -this.z : this.z);\n        },\n\n        /**\n         * Clamp the vector value within the specified value range\n         * @name clamp\n         * @memberOf me.Vector3d\n         * @function\n         * @param {Number} low\n         * @param {Number} high\n         * @return {me.Vector3d} new me.Vector3d\n         */\n        clamp : function (low, high) {\n            return new me.Vector3d(me.Math.clamp(this.x, low, high), me.Math.clamp(this.y, low, high), me.Math.clamp(this.z, low, high));\n        },\n\n        /**\n         * Clamp this vector value within the specified value range\n         * @name clampSelf\n         * @memberOf me.Vector3d\n         * @function\n         * @param {Number} low\n         * @param {Number} high\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        clampSelf : function (low, high) {\n            return this._set(me.Math.clamp(this.x, low, high), me.Math.clamp(this.y, low, high), me.Math.clamp(this.z, low, high));\n        },\n\n        /**\n         * Update this vector with the minimum value between this and the passed vector\n         * @name minV\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        minV : function (v) {\n            var _vz = v.z || 0;\n            return this._set((this.x < v.x) ? this.x : v.x, (this.y < v.y) ? this.y : v.y, (this.z < _vz) ? this.z : _vz);\n        },\n\n        /**\n         * Update this vector with the maximum value between this and the passed vector\n         * @name maxV\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        maxV : function (v) {\n            var _vz = v.z || 0;\n            return this._set((this.x > v.x) ? this.x : v.x, (this.y > v.y) ? this.y : v.y, (this.z > _vz) ? this.z : _vz);\n        },\n\n        /**\n         * Floor the vector values\n         * @name floor\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} new me.Vector3d\n         */\n        floor : function () {\n            return new me.Vector3d(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z));\n        },\n\n        /**\n         * Floor this vector values\n         * @name floorSelf\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        floorSelf : function () {\n            return this._set(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z));\n        },\n\n        /**\n         * Ceil the vector values\n         * @name ceil\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} new me.Vector3d\n         */\n        ceil : function () {\n            return new me.Vector3d(Math.ceil(this.x), Math.ceil(this.y), Math.ceil(this.z));\n        },\n\n        /**\n         * Ceil this vector values\n         * @name ceilSelf\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        ceilSelf : function () {\n            return this._set(Math.ceil(this.x), Math.ceil(this.y), Math.ceil(this.z));\n        },\n\n        /**\n         * Negate the vector values\n         * @name negate\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} new me.Vector3d\n         */\n        negate : function () {\n            return new me.Vector3d(-this.x, -this.y, -this.z);\n        },\n\n        /**\n         * Negate this vector values\n         * @name negateSelf\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        negateSelf : function () {\n            return this._set(-this.x, -this.y, -this.z);\n        },\n\n        /**\n         * Copy the x,y values of the passed vector to this one\n         * @name copy\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        copy : function (v) {\n            return this._set(v.x, v.y, typeof (v.z) !== \"undefined\" ? v.z : this.z);\n        },\n\n        /**\n         * return true if the two vectors are the same\n         * @name equals\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {Boolean}\n         */\n        equals : function (v) {\n            return ((this.x === v.x) && (this.y === v.y) && (this.z === (v.z || this.z)));\n        },\n\n        /**\n         * normalize this vector (scale the vector so that its magnitude is 1)\n         * @name normalize\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        normalize : function () {\n            var d = this.length();\n            if (d > 0) {\n                return this._set(this.x / d, this.y / d, this.z / d);\n            }\n            return this;\n        },\n\n        /**\n         * change this vector to be perpendicular to what it was before.<br>\n         * (Effectively rotates it 90 degrees in a clockwise direction around the z axis)\n         * @name perp\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        perp : function () {\n            return this._set(this.y, -this.x, this.z);\n        },\n\n        /**\n         * Rotate this vector (counter-clockwise) by the specified angle (in radians) around the z axis\n         * @name rotate\n         * @memberOf me.Vector3d\n         * @function\n         * @param {number} angle The angle to rotate (in radians)\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        rotate : function (angle) {\n            var x = this.x;\n            var y = this.y;\n            return this._set(x * Math.cos(angle) - y * Math.sin(angle), x * Math.sin(angle) + y * Math.cos(angle), this.z);\n        },\n\n        /**\n         * return the dot product of this vector and the passed one\n         * @name dotProduct\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {Number} The dot product.\n         */\n        dotProduct : function (v) {\n            return this.x * v.x + this.y * v.y + this.z * (v.z || 1);\n        },\n\n       /**\n         * return the square length of this vector\n         * @name length2\n         * @memberOf me.Vector3d\n         * @function\n         * @return {Number} The length^2 of this vector.\n         */\n        length2 : function () {\n            return this.dotProduct(this);\n        },\n\n        /**\n         * return the length (magnitude) of this vector\n         * @name length\n         * @memberOf me.Vector3d\n         * @function\n         * @return {Number} the length of this vector\n         */\n        length : function () {\n            return Math.sqrt(this.length2());\n        },\n\n        /**\n         * Linearly interpolate between this vector and the given one.\n         * @name lerp\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector3d} v\n         * @param {Number} alpha distance along the line (alpha = 0 will be this vector, and alpha = 1 will be the given one).\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        lerp : function (v, alpha) {\n            this.x += ( v.x - this.x ) * alpha;\n            this.y += ( v.y - this.y ) * alpha;\n            this.z += ( v.z - this.z ) * alpha;\n            return this;\n        },\n\n        /**\n         * return the distance between this vector and the passed one\n         * @name distance\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {Number}\n         */\n        distance : function (v) {\n            var dx = this.x - v.x, dy = this.y - v.y, dz = this.z - (v.z || 0);\n            return Math.sqrt(dx * dx + dy * dy + dz * dz);\n        },\n\n        /**\n         * return the angle between this vector and the passed one\n         * @name angle\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v\n         * @return {Number} angle in radians\n         */\n        angle : function (v) {\n            return Math.acos(me.Math.clamp(this.dotProduct(v) / (this.length() * v.length()), -1, 1));\n        },\n\n        /**\n         * project this vector on to another vector.\n         * @name project\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v The vector to project onto.\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        project : function (v) {\n            return this.scale(this.dotProduct(v) / v.length2());\n        },\n\n        /**\n         * Project this vector onto a vector of unit length.<br>\n         * This is slightly more efficient than `project` when dealing with unit vectors.\n         * @name projectN\n         * @memberOf me.Vector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d} v The unit vector to project onto.\n         * @return {me.Vector3d} Reference to this object for method chaining\n         */\n        projectN : function (v) {\n            return this.scale(this.dotProduct(v));\n        },\n\n        /**\n         * return a clone copy of this vector\n         * @name clone\n         * @memberOf me.Vector3d\n         * @function\n         * @return {me.Vector3d} new me.Vector3d\n         */\n        clone : function () {\n            return me.pool.pull(\"me.Vector3d\", this.x, this.y, this.z);\n        },\n\n        /**\n         * convert the object to a string representation\n         * @name toString\n         * @memberOf me.Vector3d\n         * @function\n         * @return {String}\n         */\n        toString : function () {\n            return \"x:\" + this.x + \",y:\" + this.y + \",z:\" + this.z;\n        }\n    });\n})();\n","(function () {\n    /**\n     * A Vector2d object that provide notification by executing the given callback when the vector is changed.\n     * @class\n     * @extends me.Vector2d\n     * @constructor\n     * @param {Number} [x=0] x value of the vector\n     * @param {Number} [y=0] y value of the vector\n     * @param {Object} settings additional required parameters\n     * @param {Function} settings.onUpdate the callback to be executed when the vector is changed\n     */\n    me.ObservableVector2d = me.Vector2d.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, settings) {\n            /**\n             * x value of the vector\n             * @public\n             * @type Number\n             * @name x\n             * @memberOf me.ObservableVector2d\n             */\n            Object.defineProperty(this, \"x\", {\n                /**\n                 * @ignore\n                 */\n                get : function () {\n                    return this._x;\n                },\n                /**\n                 * @ignore\n                 */\n                set : function (value) {\n                    var ret = this.onUpdate(value, this._y, this._x, this._y);\n                    if (ret && \"x\" in ret) {\n                        this._x = ret.x;\n                    } else {\n                        this._x = value\n                    }\n                },\n                configurable : true\n            });\n\n            /**\n             * y value of the vector\n             * @public\n             * @type Number\n             * @name y\n             * @memberOf me.ObservableVector2d\n             */\n            Object.defineProperty(this, \"y\", {\n                /**\n                 * @ignore\n                 */\n                get : function () {\n                    return this._y;\n                },\n                /**\n                 * @ignore\n                 */\n                set : function (value) {\n                    var ret = this.onUpdate(this._x, value, this._x, this._y);\n                    if (ret && \"y\" in ret) {\n                        this._y = ret.y;\n                    } else {\n                        this._y = value\n                    }\n                },\n                configurable : true\n            });\n\n            if (typeof(settings) === \"undefined\") {\n                throw new Error(\n                    \"undefined `onUpdate` callback\"\n                );\n            }\n            this.setCallback(settings.onUpdate);\n            this._x = x || 0;\n            this._y = y || 0;\n        },\n\n        /** @ignore */\n        _set : function (x, y) {\n            var ret = this.onUpdate(x, y, this._x, this._y);\n            if (ret && \"x\" in ret && \"y\" in ret) {\n                this._x = ret.x;\n                this._y = ret.y;\n            } else {\n              this._x = x;\n              this._y = y;\n           }\n           return this;\n        },\n\n        /**\n         * set the vector value without triggering the callback\n         * @name setMuted\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {Number} x x value of the vector\n         * @param {Number} y y value of the vector\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        setMuted : function (x, y) {\n            this._x = x;\n            this._y = y;\n            return this;\n        },\n\n        /**\n         * set the callback to be executed when the vector is changed\n         * @name setCallback\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {function} onUpdate callback\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        setCallback : function (fn) {\n            if (typeof(fn) !== \"function\") {\n                throw new Error(\n                    \"invalid `onUpdate` callback\"\n                );\n            }\n            this.onUpdate = fn;\n            return this;\n        },\n\n        /**\n         * Add the passed vector to this vector\n         * @name add\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.ObservableVector2d} v\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        add : function (v) {\n            return this._set(this._x + v.x, this._y + v.y);\n        },\n\n        /**\n         * Substract the passed vector to this vector\n         * @name sub\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.ObservableVector2d} v\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        sub : function (v) {\n            return this._set(this._x - v.x, this._y - v.y);\n        },\n\n        /**\n         * Multiply this vector values by the given scalar\n         * @name scale\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {Number} x\n         * @param {Number} [y=x]\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        scale : function (x, y) {\n            return this._set(this._x * x, this._y * (typeof (y) !== \"undefined\" ? y : x));\n        },\n\n        /**\n         * Multiply this vector values by the passed vector\n         * @name scaleV\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.ObservableVector2d} v\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        scaleV : function (v) {\n            return this._set(this._x * v.x, this._y * v.y);\n        },\n\n        /**\n         * Divide this vector values by the passed value\n         * @name div\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {Number} value\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        div : function (n) {\n            return this._set(this._x / n, this._y / n);\n        },\n\n        /**\n         * Update this vector values to absolute values\n         * @name abs\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        abs : function () {\n            return this._set((this._x < 0) ? -this._x : this._x, (this._y < 0) ? -this._y : this._y);\n        },\n\n        /**\n         * Clamp the vector value within the specified value range\n         * @name clamp\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {Number} low\n         * @param {Number} high\n         * @return {me.ObservableVector2d} new me.ObservableVector2d\n         */\n        clamp : function (low, high) {\n            return new me.ObservableVector2d(me.Math.clamp(this.x, low, high), me.Math.clamp(this.y, low, high), {onUpdate: this.onUpdate});\n        },\n\n        /**\n         * Clamp this vector value within the specified value range\n         * @name clampSelf\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {Number} low\n         * @param {Number} high\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        clampSelf : function (low, high) {\n            return this._set(me.Math.clamp(this._x, low, high), me.Math.clamp(this._y, low, high));\n        },\n\n        /**\n         * Update this vector with the minimum value between this and the passed vector\n         * @name minV\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.ObservableVector2d} v\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        minV : function (v) {\n            return this._set((this._x < v.x) ? this._x : v.x, (this._y < v.y) ? this._y : v.y);\n        },\n\n        /**\n         * Update this vector with the maximum value between this and the passed vector\n         * @name maxV\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.ObservableVector2d} v\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        maxV : function (v) {\n            return this._set((this._x > v.x) ? this._x : v.x, (this._y > v.y) ? this._y : v.y);\n        },\n\n        /**\n         * Floor the vector values\n         * @name floor\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} new me.ObservableVector2d\n         */\n        floor : function () {\n            return new me.ObservableVector2d(Math.floor(this._x), Math.floor(this._y), {onUpdate: this.onUpdate});\n        },\n\n        /**\n         * Floor this vector values\n         * @name floorSelf\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        floorSelf : function () {\n            return this._set(Math.floor(this._x), Math.floor(this._y));\n        },\n\n        /**\n         * Ceil the vector values\n         * @name ceil\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} new me.ObservableVector2d\n         */\n        ceil : function () {\n            return new me.ObservableVector2d(Math.ceil(this._x), Math.ceil(this._y), {onUpdate: this.onUpdate});\n        },\n\n        /**\n         * Ceil this vector values\n         * @name ceilSelf\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        ceilSelf : function () {\n            return this._set(Math.ceil(this._x), Math.ceil(this._y));\n        },\n\n        /**\n         * Negate the vector values\n         * @name negate\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} new me.ObservableVector2d\n         */\n        negate : function () {\n            return new me.ObservableVector2d(-this._x, -this._y, {onUpdate: this.onUpdate});\n        },\n\n        /**\n         * Negate this vector values\n         * @name negateSelf\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        negateSelf : function () {\n            return this._set(-this._x, -this._y);\n        },\n\n        /**\n         * Copy the x,y values of the passed vector to this one\n         * @name copy\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.ObservableVector2d} v\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        copy : function (v) {\n            return this._set(v.x, v.y);\n        },\n\n        /**\n         * return true if the two vectors are the same\n         * @name equals\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.ObservableVector2d} v\n         * @return {Boolean}\n         */\n        equals : function (v) {\n            return ((this._x === v.x) && (this._y === v.y));\n        },\n\n        /**\n         * normalize this vector (scale the vector so that its magnitude is 1)\n         * @name normalize\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        normalize : function () {\n            var d = this.length();\n            if (d > 0) {\n                return this._set(this._x / d, this._y / d);\n            }\n            return this;\n        },\n\n        /**\n         * change this vector to be perpendicular to what it was before.<br>\n         * (Effectively rotates it 90 degrees in a clockwise direction)\n         * @name perp\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        perp : function () {\n            return this._set(this._y, -this._x);\n        },\n\n        /**\n         * Rotate this vector (counter-clockwise) by the specified angle (in radians).\n         * @name rotate\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {number} angle The angle to rotate (in radians)\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        rotate : function (angle) {\n            var x = this._x;\n            var y = this._y;\n            return this._set(x * Math.cos(angle) - y * Math.sin(angle), x * Math.sin(angle) + y * Math.cos(angle));\n        },\n\n        /**\n         * return the dot product of this vector and the passed one\n         * @name dotProduct\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.Vector2d|me.ObservableVector2d} v\n         * @return {Number} The dot product.\n         */\n        dotProduct : function (v) {\n            return this._x * v.x + this._y * v.y;\n        },\n\n        /**\n         * Linearly interpolate between this vector and the given one.\n         * @name lerp\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.Vector2d|me.ObservableVector2d} v\n         * @param {Number} alpha distance along the line (alpha = 0 will be this vector, and alpha = 1 will be the given one).\n         * @return {me.ObservableVector2d} Reference to this object for method chaining\n         */\n        lerp : function (v, alpha) {\n            this._x += ( v.x - this._x ) * alpha;\n            this._y += ( v.y - this._y ) * alpha;\n            return this;\n        },\n\n        /**\n         * return the distance between this vector and the passed one\n         * @name distance\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @param {me.ObservableVector2d} v\n         * @return {Number}\n         */\n        distance : function (v) {\n            return Math.sqrt((this._x - v.x) * (this._x - v.x) + (this._y - v.y) * (this._y - v.y));\n        },\n\n        /**\n         * return a clone copy of this vector\n         * @name clone\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.ObservableVector2d} new me.ObservableVector2d\n         */\n        clone : function () {\n            return me.pool.pull(\"me.ObservableVector2d\", this._x, this._y, {onUpdate: this.onUpdate});\n        },\n\n        /**\n         * return a `me.Vector2d` copy of this `me.ObservableVector2d` object\n         * @name toVector2d\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {me.Vector2d} new me.Vector2d\n         */\n        toVector2d : function () {\n            return me.pool.pull(\"me.Vector2d\", this._x, this._y);\n        },\n\n        /**\n         * convert the object to a string representation\n         * @name toString\n         * @memberOf me.ObservableVector2d\n         * @function\n         * @return {String}\n         */\n        toString : function () {\n            return \"x:\" + this._x + \",y:\" + this._y;\n        }\n    });\n})();\n","(function () {\n    /**\n     * A Vector3d object that provide notification by executing the given callback when the vector is changed.\n     * @class\n     * @extends me.Vector3d\n     * @constructor\n     * @param {Number} [x=0] x value of the vector\n     * @param {Number} [y=0] y value of the vector\n     * @param {Number} [z=0] z value of the vector\n     * @param {Object} settings additional required parameters\n     * @param {Function} settings.onUpdate the callback to be executed when the vector is changed\n     */\n    me.ObservableVector3d = me.Vector3d.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, z, settings) {\n            /**\n             * x value of the vector\n             * @public\n             * @type Number\n             * @name x\n             * @memberOf me.ObservableVector3d\n             */\n            Object.defineProperty(this, \"x\", {\n                /**\n                 * @ignore\n                 */\n                get : function () {\n                    return this._x;\n                },\n                /**\n                 * @ignore\n                 */\n                set : function (value) {\n                    var ret = this.onUpdate(value, this._y, this._z, this._x, this._y, this._z);\n                    if (ret && \"x\" in ret) {\n                        this._x = ret.x;\n                    } else {\n                        this._x = value\n                    }\n                },\n                configurable : true\n            });\n\n            /**\n             * y value of the vector\n             * @public\n             * @type Number\n             * @name y\n             * @memberOf me.ObservableVector3d\n             */\n            Object.defineProperty(this, \"y\", {\n                /**\n                 * @ignore\n                 */\n                get : function () {\n                    return this._y;\n                },\n                /**\n                 * @ignore\n                 */\n                set : function (value) {\n                    var ret = this.onUpdate(this._x, value, this._z, this._x, this._y, this._z);\n                    if (ret && \"y\" in ret) {\n                        this._y = ret.y;\n                    } else {\n                        this._y = value\n                    }\n                },\n                configurable : true\n            });\n\n            /**\n             * z value of the vector\n             * @public\n             * @type Number\n             * @name z\n             * @memberOf me.ObservableVector3d\n             */\n            Object.defineProperty(this, \"z\", {\n                /**\n                 * @ignore\n                 */\n                get : function () {\n                    return this._z;\n                },\n                /**\n                 * @ignore\n                 */\n                set : function (value) {\n                    var ret = this.onUpdate(this._x, this._y, value, this._x, this._y, this._z);\n                    if (ret && \"z\" in ret) {\n                        this._z = ret.z;\n                    } else {\n                        this._z = value\n                    }\n                },\n                configurable : true\n            });\n\n            if (typeof(settings) === \"undefined\") {\n                throw new Error(\n                    \"undefined `onUpdate` callback\"\n                );\n            }\n            this.setCallback(settings.onUpdate);\n            this._x = x || 0;\n            this._y = y || 0;\n            this._z = z || 0;\n        },\n\n        /**\n         * @ignore */\n        _set : function (x, y, z) {\n            var ret = this.onUpdate(x, y, z, this._x, this._y, this._z);\n            if (ret && \"x\" in ret && \"y\" in ret && \"z\" in ret) {\n                this._x = ret.x;\n                this._y = ret.y;\n                this._z = ret.z;\n            } else {\n              this._x = x;\n              this._y = y;\n              this._z = z;\n            }\n            return this;\n        },\n\n        /**\n         * set the vector value without triggering the callback\n         * @name setMuted\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {Number} x x value of the vector\n         * @param {Number} y y value of the vector\n         * @param {Number} z z value of the vector\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        setMuted : function (x, y, z) {\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            return this;\n        },\n\n        /**\n         * set the callback to be executed when the vector is changed\n         * @name setCallback\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {function} onUpdate callback\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        setCallback : function (fn) {\n            if (typeof(fn) !== \"function\") {\n                throw new Error(\n                    \"invalid `onUpdate` callback\"\n                );\n            }\n            this.onUpdate = fn;\n            return this;\n        },\n\n        /**\n         * Add the passed vector to this vector\n         * @name add\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        add : function (v) {\n            return this._set(this._x + v.x, this._y + v.y, this._z + (v.z || 0));\n        },\n\n        /**\n         * Substract the passed vector to this vector\n         * @name sub\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        sub : function (v) {\n            return this._set(this._x - v.x, this._y - v.y, this._z - (v.z || 0));\n        },\n\n        /**\n         * Multiply this vector values by the given scalar\n         * @name scale\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {Number} x\n         * @param {Number} [y=x]\n         * @param {Number} [z=x]\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        scale : function (x, y, z) {\n            y = (typeof (y) !== \"undefined\" ? y : x);\n            z = (typeof (z) !== \"undefined\" ? z : x);\n            return this._set(this._x * x, this._y * y, this._z * z);\n        },\n\n        /**\n         * Multiply this vector values by the passed vector\n         * @name scaleV\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        scaleV : function (v) {\n            return this._set(this._x * v.x, this._y * v.y, this._z * (v.z || 1));\n        },\n\n        /**\n         * Divide this vector values by the passed value\n         * @name div\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {Number} value\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        div : function (n) {\n            return this._set(this._x / n, this._y / n, this._z / n);\n        },\n\n        /**\n         * Update this vector values to absolute values\n         * @name abs\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        abs : function () {\n            return this._set(\n                (this._x < 0) ? -this._x : this._x,\n                (this._y < 0) ? -this._y : this._y,\n                (this._Z < 0) ? -this._z : this._z\n            );\n        },\n\n        /**\n         * Clamp the vector value within the specified value range\n         * @name clamp\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {Number} low\n         * @param {Number} high\n         * @return {me.ObservableVector3d} new me.ObservableVector3d\n         */\n        clamp : function (low, high) {\n            return new me.ObservableVector3d(\n                me.Math.clamp(this._x, low, high),\n                me.Math.clamp(this._y, low, high),\n                me.Math.clamp(this._z, low, high),\n                {onUpdate: this.onUpdate}\n            );\n        },\n\n        /**\n         * Clamp this vector value within the specified value range\n         * @name clampSelf\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {Number} low\n         * @param {Number} high\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        clampSelf : function (low, high) {\n            return this._set(\n                me.Math.clamp(this._x, low, high),\n                me.Math.clamp(this._y, low, high),\n                me.Math.clamp(this._z, low, high)\n            );\n        },\n\n        /**\n         * Update this vector with the minimum value between this and the passed vector\n         * @name minV\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        minV : function (v) {\n            var _vz = v.z || 0;\n            return this._set(\n                (this._x < v.x) ? this._x : v.x,\n                (this._y < v.y) ? this._y : v.y,\n                (this._z < _vz) ? this._z : _vz\n            );\n        },\n\n        /**\n         * Update this vector with the maximum value between this and the passed vector\n         * @name maxV\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        maxV : function (v) {\n            var _vz = v.z || 0;\n            return this._set(\n                (this._x > v.x) ? this._x : v.x,\n                (this._y > v.y) ? this._y : v.y,\n                (this._z > _vz) ? this._z : _vz\n            );\n        },\n\n        /**\n         * Floor the vector values\n         * @name floor\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} new me.ObservableVector3d\n         */\n        floor : function () {\n            return new me.ObservableVector3d(\n                Math.floor(this._x),\n                Math.floor(this._y),\n                Math.floor(this._z),\n                {onUpdate: this.onUpdate}\n            );\n        },\n\n        /**\n         * Floor this vector values\n         * @name floorSelf\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        floorSelf : function () {\n            return this._set(Math.floor(this._x), Math.floor(this._y), Math.floor(this._z));\n        },\n\n        /**\n         * Ceil the vector values\n         * @name ceil\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} new me.ObservableVector3d\n         */\n        ceil : function () {\n            return new me.ObservableVector3d(\n                Math.ceil(this._x),\n                Math.ceil(this._y),\n                Math.ceil(this._z),\n                {onUpdate: this.onUpdate}\n            );\n        },\n\n        /**\n         * Ceil this vector values\n         * @name ceilSelf\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        ceilSelf : function () {\n            return this._set(Math.ceil(this._x), Math.ceil(this._y), Math.ceil(this._z));\n        },\n\n        /**\n         * Negate the vector values\n         * @name negate\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} new me.ObservableVector3d\n         */\n        negate : function () {\n            return new me.ObservableVector3d(\n                -this._x,\n                -this._y,\n                -this._z,\n                {onUpdate: this.onUpdate}\n            );\n        },\n\n        /**\n         * Negate this vector values\n         * @name negateSelf\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        negateSelf : function () {\n            return this._set(-this._x, -this._y, -this._z);\n        },\n\n        /**\n         * Copy the x,y,z values of the passed vector to this one\n         * @name copy\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        copy : function (v) {\n            return this._set(v.x, v.y, typeof (v.z) !== \"undefined\" ? v.z : this._z);\n        },\n\n        /**\n         * return true if the two vectors are the same\n         * @name equals\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {Boolean}\n         */\n        equals : function (v) {\n            return ((this._x === v.x) && (this._y === v.y) && (this._z === (v.z || this._z)));\n        },\n\n        /**\n         * normalize this vector (scale the vector so that its magnitude is 1)\n         * @name normalize\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        normalize : function () {\n            var d = this.length();\n            if (d > 0) {\n                return this._set(this._x / d, this._y / d, this._z / d);\n            }\n            return this;\n        },\n\n        /**\n         * change this vector to be perpendicular to what it was before.<br>\n         * (Effectively rotates it 90 degrees in a clockwise direction)\n         * @name perp\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        perp : function () {\n            return this._set(this._y, -this._x, this._z);\n        },\n\n        /**\n         * Rotate this vector (counter-clockwise) by the specified angle (in radians).\n         * @name rotate\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {number} angle The angle to rotate (in radians)\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        rotate : function (angle) {\n            var x = this._x;\n            var y = this._y;\n            return this._set(\n                x * Math.cos(angle) - y * Math.sin(angle),\n                x * Math.sin(angle) + y * Math.cos(angle),\n                this._z\n            );\n        },\n\n        /**\n         * return the dot product of this vector and the passed one\n         * @name dotProduct\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {Number} The dot product.\n         */\n        dotProduct : function (v) {\n            return this._x * v.x + this._y * v.y + this._z * (v.z || 1);\n        },\n\n        /**\n         * Linearly interpolate between this vector and the given one.\n         * @name lerp\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector3d|me.ObservableVector3d} v\n         * @param {Number} alpha distance along the line (alpha = 0 will be this vector, and alpha = 1 will be the given one).\n         * @return {me.ObservableVector3d} Reference to this object for method chaining\n         */\n        lerp : function (v, alpha) {\n            this._x += ( v.x - this._x ) * alpha;\n            this._y += ( v.y - this._y ) * alpha;\n            this._z += ( v.z - this._z ) * alpha;\n            return this;\n        },\n\n        /**\n         * return the distance between this vector and the passed one\n         * @name distance\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @param {me.Vector2d|me.Vector3d|me.ObservableVector2d|me.ObservableVector3d} v\n         * @return {Number}\n         */\n        distance : function (v) {\n            var dx = this._x - v.x, dy = this._y - v.y, dz = this._z - (v.z || 0);\n            return Math.sqrt(dx * dx + dy * dy + dz * dz);\n        },\n\n        /**\n         * return a clone copy of this vector\n         * @name clone\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.ObservableVector3d} new me.ObservableVector3d\n         */\n        clone : function () {\n            return me.pool.pull(\"me.ObservableVector3d\",\n                this._x,\n                this._y,\n                this._z,\n                {onUpdate: this.onUpdate}\n            );\n        },\n\n        /**\n         * return a `me.Vector3d` copy of this `me.ObservableVector3d` object\n         * @name toVector3d\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {me.Vector3d} new me.Vector3d\n         */\n        toVector3d : function () {\n            return me.pool.pull(\"me.Vector3d\", this._x, this._y, this._z);\n        },\n\n        /**\n         * convert the object to a string representation\n         * @name toString\n         * @memberOf me.ObservableVector3d\n         * @function\n         * @return {String}\n         */\n        toString : function () {\n            return \"x:\" + this._x + \",y:\" + this._y + \",z:\" + this._z;\n        }\n    });\n})();\n","(function () {\n    /**\n     * a Matrix2d Object.<br>\n     * the identity matrix and parameters position : <br>\n     * <img src=\"images/identity-matrix_2x.png\"/>\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {me.Matrix2d} [mat2d] An instance of me.Matrix2d to copy from\n     * @param {Number[]} [arguments...] Matrix elements. See {@link me.Matrix2d.setTransform}\n     */\n    me.Matrix2d = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function () {\n            if (typeof(this.val) === \"undefined\") {\n                this.val = new Float32Array(9);\n            }\n            if (arguments.length && arguments[0] instanceof me.Matrix2d) {\n                this.copy(arguments[0]);\n            }\n            else if (arguments.length >= 6) {\n                this.setTransform.apply(this, arguments);\n            }\n            else {\n                this.identity();\n            }\n        },\n\n        /**\n         * reset the transformation matrix to the identity matrix (no transformation).<br>\n         * the identity matrix and parameters position : <br>\n         * <img src=\"images/identity-matrix_2x.png\"/>\n         * @name identity\n         * @memberOf me.Matrix2d\n         * @function\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        identity : function () {\n            this.setTransform(\n                1, 0, 0,\n                0, 1, 0,\n                0, 0, 1\n            );\n            return this;\n        },\n\n        /**\n         * set the matrix to the specified value\n         * @name setTransform\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {Number} a\n         * @param {Number} b\n         * @param {Number} c\n         * @param {Number} d\n         * @param {Number} e\n         * @param {Number} f\n         * @param {Number} [g=0]\n         * @param {Number} [h=0]\n         * @param {Number} [i=1]\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        setTransform : function () {\n            var a = this.val;\n\n            if (arguments.length === 9) {\n                a[0] = arguments[0]; // a - m00\n                a[1] = arguments[1]; // b - m10\n                a[2] = arguments[2]; // c - m20\n                a[3] = arguments[3]; // d - m01\n                a[4] = arguments[4]; // e - m11\n                a[5] = arguments[5]; // f - m21\n                a[6] = arguments[6]; // g - m02\n                a[7] = arguments[7]; // h - m12\n                a[8] = arguments[8]; // i - m22\n            } else if (arguments.length === 6) {\n                a[0] = arguments[0]; // a\n                a[1] = arguments[2]; // c\n                a[2] = arguments[4]; // e\n                a[3] = arguments[1]; // b\n                a[4] = arguments[3]; // d\n                a[5] = arguments[5]; // f\n                a[6] = 0; // g\n                a[7] = 0; // h\n                a[8] = 1; // i\n            }\n\n            return this;\n        },\n\n        /**\n         * Copies over the values from another me.Matrix2d.\n         * @name copy\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {me.Matrix2d} m the matrix object to copy from\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        copy : function (b) {\n            this.val.set(b.val);\n            return this;\n        },\n\n        /**\n         * multiply both matrix\n         * @name multiply\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {me.Matrix2d} b Other matrix\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        multiply : function (b) {\n            b = b.val;\n            var a = this.val,\n                a0 = a[0],\n                a1 = a[1],\n                a3 = a[3],\n                a4 = a[4],\n                b0 = b[0],\n                b1 = b[1],\n                b3 = b[3],\n                b4 = b[4],\n                b6 = b[6],\n                b7 = b[7];\n\n            a[0] = a0 * b0 + a3 * b1;\n            a[1] = a1 * b0 + a4 * b1;\n            a[3] = a0 * b3 + a3 * b4;\n            a[4] = a1 * b3 + a4 * b4;\n            a[6] += a0 * b6 + a3 * b7;\n            a[7] += a1 * b6 + a4 * b7;\n\n            return this;\n        },\n\n        /**\n         * Transpose the value of this matrix.\n         * @name transpose\n         * @memberOf me.Matrix2d\n         * @function\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        transpose : function () {\n            var tmp, a = this.val;\n\n            tmp = a[1];\n            a[1] = a[3];\n            a[3] = tmp;\n            tmp = a[2];\n            a[2] = a[6];\n            a[6] = tmp;\n            tmp = a[5];\n            a[5] = a[7];\n            a[7] = tmp;\n\n            return this;\n        },\n\n        /**\n         * invert this matrix, causing it to apply the opposite transformation.\n         * @name invert\n         * @memberOf me.Matrix2d\n         * @function\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        invert : function () {\n            var val = this.val;\n\n            var a = val[ 0 ], b = val[ 1 ], c = val[ 2 ],\n                d = val[ 3 ], e = val[ 4 ], f = val[ 5 ],\n                g = val[ 6 ], h = val[ 7 ], i = val[ 8 ];\n\n            var ta = i * e - f * h,\n                td = f * g - i * d,\n                tg = h * d - e * g;\n\n            var n = a * ta + b * td + c * tg;\n\n            val[ 0 ] = ta / n;\n            val[ 1 ] = ( c * h - i * b ) / n;\n            val[ 2 ] = ( f * b - c * e ) / n;\n\n            val[ 3 ] = td / n;\n            val[ 4 ] = ( i * a - c * g ) / n;\n            val[ 5 ] = ( c * d - f * a ) / n;\n\n            val[ 6 ] = tg / n;\n            val[ 7 ] = ( b * g - h * a ) / n;\n            val[ 8 ] = ( e * a - b * d ) / n;\n\n            return this;\n        },\n\n       /**\n        * Transforms the given vector according to this matrix.\n        * @name multiplyVector\n        * @memberOf me.Matrix2d\n        * @function\n        * @param {me.Vector2d} vector the vector object to be transformed\n        * @return {me.Vector2d} result vector object. Useful for chaining method calls.\n        */\n        multiplyVector : function (v) {\n            var a = this.val,\n                x = v.x,\n                y = v.y;\n\n            v.x = x * a[0] + y * a[3] + a[6];\n            v.y = x * a[1] + y * a[4] + a[7];\n\n            return v;\n        },\n\n        /**\n         * Transforms the given vector using the inverted current matrix.\n         * @name multiplyVector\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {me.Vector2d} vector the vector object to be transformed\n         * @return {me.Vector2d} result vector object. Useful for chaining method calls.\n         */\n        multiplyVectorInverse : function (v) {\n            var a = this.val,\n                x = v.x,\n                y = v.y;\n\n            var invD = 1 / ((a[0] * a[4]) + (a[3] * -a[1]));\n\n            v.x = (a[4] * invD * x) + (-a[3] * invD * y) + (((a[7] * a[3]) - (a[6] * a[4])) * invD);\n            v.y = (a[0] * invD * y) + (-a[1] * invD * x) + (((-a[7] * a[0]) + (a[6] * a[1])) * invD);\n\n            return v;\n        },\n\n        /**\n         * scale the matrix\n         * @name scale\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {Number} x a number representing the abscissa of the scaling vector.\n         * @param {Number} [y=x] a number representing the ordinate of the scaling vector.\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        scale : function (x, y) {\n            var a = this.val,\n               _x = x,\n               _y = typeof(y) === \"undefined\" ? _x : y;\n\n            a[0] *= _x;\n            a[1] *= _x;\n            a[3] *= _y;\n            a[4] *= _y;\n\n            return this;\n        },\n\n        /**\n         * adds a 2D scaling transformation.\n         * @name scaleV\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {me.Vector2d} vector scaling vector\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        scaleV : function (v) {\n            return this.scale(v.x, v.y);\n        },\n\n        /**\n         * specifies a 2D scale operation using the [sx, 1] scaling vector\n         * @name scaleX\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {Number} x x scaling vector\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        scaleX : function (x) {\n            return this.scale(x, 1);\n        },\n\n        /**\n         * specifies a 2D scale operation using the [1,sy] scaling vector\n         * @name scaleY\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {Number} y y scaling vector\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        scaleY : function (y) {\n            return this.scale(1, y);\n        },\n\n        /**\n         * rotate the matrix (counter-clockwise) by the specified angle (in radians).\n         * @name rotate\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {Number} angle Rotation angle in radians.\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        rotate : function (angle) {\n            if (angle !== 0) {\n                var a = this.val,\n                    a0 = a[0],\n                    a1 = a[1],\n                    a3 = a[3],\n                    a4 = a[4],\n                    s = Math.sin(angle),\n                    c = Math.cos(angle);\n\n                a[0] = a0 * c + a3 * s;\n                a[1] = a1 * c + a4 * s;\n                a[3] = a0 * -s + a3 * c;\n                a[4] = a1 * -s + a4 * c;\n            }\n            return this;\n        },\n\n        /**\n         * translate the matrix position on the horizontal and vertical axis\n         * @name translate\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {Number} x the x coordindates to translate the matrix by\n         * @param {Number} y the y coordindates to translate the matrix by\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        translate : function (x, y) {\n            var a = this.val;\n\n            a[6] += a[0] * x + a[3] * y;\n            a[7] += a[1] * x + a[4] * y;\n\n            return this;\n        },\n\n        /**\n         * translate the matrix by a vector on the horizontal and vertical axis\n         * @name translateV\n         * @memberOf me.Matrix2d\n         * @function\n         * @param {me.Vector2d} v the vector to translate the matrix by\n         * @return {me.Matrix2d} Reference to this object for method chaining\n         */\n        translateV : function (v) {\n            return this.translate(v.x, v.y);\n        },\n\n        /**\n         * returns true if the matrix is an identity matrix.\n         * @name isIdentity\n         * @memberOf me.Matrix2d\n         * @function\n         * @return {Boolean}\n         **/\n        isIdentity : function () {\n            var a = this.val;\n\n            return (\n                a[0] === 1 &&\n                a[1] === 0 &&\n                a[2] === 0 &&\n                a[3] === 0 &&\n                a[4] === 1 &&\n                a[5] === 0 &&\n                a[6] === 0 &&\n                a[7] === 0 &&\n                a[8] === 1\n            );\n        },\n\n        /**\n         * Clone the Matrix\n         * @name clone\n         * @memberOf me.Matrix2d\n         * @function\n         * @return {me.Matrix2d}\n         */\n        clone : function () {\n            return me.pool.pull(\"me.Matrix2d\", this);\n        },\n\n        /**\n         * convert the object to a string representation\n         * @name toString\n         * @memberOf me.Matrix2d\n         * @function\n         * @return {String}\n         */\n        toString : function () {\n            var a = this.val;\n\n            return \"me.Matrix2d(\" +\n                a[0] + \", \" + a[1] + \", \" + a[2] + \", \" +\n                a[3] + \", \" + a[4] + \", \" + a[5] + \", \" +\n                a[6] + \", \" + a[7] + \", \" + a[8] +\n            \")\";\n        }\n    });\n\n    /**\n     * tx component of the matrix\n     * @public\n     * @type {Number}\n     * @readonly\n     * @see me.Matrix2d.translate\n     * @name tx\n     * @memberOf me.Matrix2d\n     */\n    Object.defineProperty(me.Matrix2d.prototype, \"tx\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this.val[6];\n        },\n        configurable : true\n    });\n\n    /**\n     * ty component of the matrix\n     * @public\n     * @type {Number}\n     * @readonly\n     * @see me.Matrix2d.translate\n     * @name ty\n     * @memberOf me.Matrix2d\n     */\n    Object.defineProperty(me.Matrix2d.prototype, \"ty\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this.val[7];\n        },\n        configurable : true\n    });\n\n})();\n","(function () {\n    /**\n     * an ellipse Object\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {Number} x the center x coordinate of the ellipse\n     * @param {Number} y the center y coordinate of the ellipse\n     * @param {Number} w width (diameter) of the ellipse\n     * @param {Number} h height (diameter) of the ellipse\n     */\n    me.Ellipse = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, w, h) {\n            /**\n             * the center coordinates of the ellipse\n             * @public\n             * @type {me.Vector2d}\n             * @name pos\n             * @memberOf me.Ellipse#\n             */\n            this.pos = new me.Vector2d();\n\n            /**\n             * The bounding rectangle for this shape\n             * @private\n             * @type {me.Rect}\n             * @name _bounds\n             * @memberOf me.Ellipse#\n             */\n            this._bounds = undefined;\n\n            /**\n             * Maximum radius of the ellipse\n             * @public\n             * @type {Number}\n             * @name radius\n             * @memberOf me.Ellipse\n             */\n            this.radius = NaN;\n\n            /**\n             * Pre-scaled radius vector for ellipse\n             * @public\n             * @type {me.Vector2d}\n             * @name radiusV\n             * @memberOf me.Ellipse#\n             */\n            this.radiusV = new me.Vector2d();\n\n            /**\n             * Radius squared, for pythagorean theorom\n             * @public\n             * @type {me.Vector2d}\n             * @name radiusSq\n             * @memberOf me.Ellipse#\n             */\n            this.radiusSq = new me.Vector2d();\n\n            /**\n             * x/y scaling ratio for ellipse\n             * @public\n             * @type {me.Vector2d}\n             * @name ratio\n             * @memberOf me.Ellipse#\n             */\n            this.ratio = new me.Vector2d();\n\n            // the shape type\n            this.shapeType = \"Ellipse\";\n            this.setShape(x, y, w, h);\n        },\n\n        /** @ignore */\n        onResetEvent : function (x, y, w, h) {\n            this.setShape(x, y, w, h);\n        },\n\n        /**\n         * set new value to the Ellipse shape\n         * @name setShape\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param {Number} x position of the ellipse\n         * @param {Number} y position of the ellipse\n         * @param {Number} w width (diameter) of the ellipse\n         * @param {Number} h height (diameter) of the ellipse\n         */\n        setShape : function (x, y, w, h) {\n            var hW = w / 2;\n            var hH = h / 2;\n            this.pos.set(x, y);\n            this.radius = Math.max(hW, hH);\n            this.ratio.set(hW / this.radius, hH / this.radius);\n            this.radiusV.set(this.radius, this.radius).scaleV(this.ratio);\n            var r = this.radius * this.radius;\n            this.radiusSq.set(r, r).scaleV(this.ratio);\n            this.updateBounds();\n            return this;\n        },\n\n        /**\n         * Rotate this Ellipse (counter-clockwise) by the specified angle (in radians).\n         * @name rotate\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param {Number} angle The angle to rotate (in radians)\n         * @return {me.Ellipse} Reference to this object for method chaining\n         */\n        rotate : function (/*angle*/) {\n            // TODO\n            return this;\n        },\n\n        /**\n         * Scale this Ellipse by the specified scalar.\n         * @name scale\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} [y=x]\n         * @return {me.Ellipse} Reference to this object for method chaining\n         */\n        scale : function (x, y) {\n            y = typeof (y) !== \"undefined\" ? y : x;\n            return this.setShape(\n                this.pos.x,\n                this.pos.y,\n                this.radiusV.x * 2 * x,\n                this.radiusV.y * 2 * y\n            );\n        },\n\n        /**\n         * Scale this Ellipse by the specified vector.\n         * @name scale\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Ellipse} Reference to this object for method chaining\n         */\n        scaleV : function (v) {\n            return this.scale(v.x, v.y);\n        },\n\n        /**\n         * apply the given transformation matrix to this ellipse\n         * @name transform\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param {me.Matrix2d} matrix the transformation matrix\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        transform : function (/* m */) {\n            // TODO\n            return this;\n        },\n\n        /**\n         * translate the circle/ellipse by the specified offset\n         * @name translate\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param {Number} x x offset\n         * @param {Number} y y offset\n         * @return {me.Ellipse} this ellipse\n         */\n        translate : function (x, y) {\n            this.pos.x += x;\n            this.pos.y += y;\n            this._bounds.translate(x, y);\n            return this;\n        },\n\n        /**\n         * translate the circle/ellipse by the specified vector\n         * @name translateV\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param {me.Vector2d} v vector offset\n         * @return {me.Rect} this ellipse\n         */\n        translateV : function (v) {\n            this.pos.add(v);\n            this._bounds.translateV(v);\n            return this;\n        },\n\n        /**\n         * check if this circle/ellipse contains the specified point\n         * @name containsPointV\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param  {me.Vector2d} point\n         * @return {boolean} true if contains\n         */\n        containsPointV: function (v) {\n            return this.containsPoint(v.x, v.y);\n        },\n\n        /**\n         * check if this circle/ellipse contains the specified point\n         * @name containsPoint\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @param  {Number} x x coordinate\n         * @param  {Number} y y coordinate\n         * @return {boolean} true if contains\n         */\n        containsPoint: function (x, y) {\n            // Make position relative to object center point.\n            x -= this.pos.x;\n            y -= this.pos.y;\n            // Pythagorean theorem.\n            return (\n                ((x * x) / this.radiusSq.x) +\n                ((y * y) / this.radiusSq.y)\n            ) <= 1.0;\n        },\n\n        /**\n         * returns the bounding box for this shape, the smallest Rectangle object completely containing this shape.\n         * @name getBounds\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @return {me.Rect} this shape bounding box Rectangle object\n         */\n        getBounds : function () {\n            return this._bounds;\n        },\n\n        /**\n         * update the bounding box for this shape.\n         * @name updateBounds\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @return {me.Rect} this shape bounding box Rectangle object\n         */\n        updateBounds : function () {\n            var rx = this.radiusV.x,\n                ry = this.radiusV.y,\n                x = this.pos.x - rx,\n                y = this.pos.y - ry,\n                w = rx * 2,\n                h = ry * 2;\n\n            if (!this._bounds) {\n                this._bounds = new me.Rect(x, y, w, h);\n            }  else {\n                this._bounds.setShape(x, y, w, h);\n            }\n            return this._bounds;\n        },\n\n        /**\n         * clone this Ellipse\n         * @name clone\n         * @memberOf me.Ellipse.prototype\n         * @function\n         * @return {me.Ellipse} new Ellipse\n         */\n        clone : function () {\n            return new me.Ellipse(\n                this.pos.x,\n                this.pos.y,\n                this.radiusV.x * 2,\n                this.radiusV.y * 2\n            );\n        }\n    });\n})();\n","'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(ear, triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return p;\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n        var b = splitPolygon(outerNode, hole);\n        filterPoints(b, b.next);\n    }\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m.prev; // hole touches outer segment; pick lower endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m.next;\n\n    while (p !== stop) {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    }\n\n    return m;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) &&\n           locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    if ((equals(p1, q1) && equals(p2, q2)) ||\n        (equals(p1, q2) && equals(p2, q1))) return true;\n    return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 &&\n           area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n","// external import\nimport earcut from \"earcut\";\n\n(function () {\n    /**\n     * a polygon Object.<br>\n     * Please do note that melonJS implements a simple Axis-Aligned Boxes collision algorithm, which requires all polygons used for collision to be convex with all vertices defined with clockwise winding.\n     * A polygon is convex when all line segments connecting two points in the interior do not cross any edge of the polygon\n     * (which means that all angles are less than 180 degrees), as described here below : <br>\n     * <center><img src=\"images/convex_polygon.png\"/></center><br>\n     * A polygon's `winding` is clockwise iff its vertices (points) are declared turning to the right. The image above shows COUNTERCLOCKWISE winding.\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {Number} x origin point of the Polygon\n     * @param {Number} y origin point of the Polygon\n     * @param {me.Vector2d[]} points array of vector defining the Polygon\n     */\n    me.Polygon = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, points) {\n            /**\n             * origin point of the Polygon\n             * @public\n             * @type {me.Vector2d}\n             * @name pos\n             * @memberof me.Polygon#\n             */\n            this.pos = new me.Vector2d();\n\n            /**\n             * The bounding rectangle for this shape\n             * @ignore\n             * @type {me.Rect}\n             * @name _bounds\n             * @memberOf me.Polygon#\n             */\n            this._bounds = undefined;\n\n            /**\n             * Array of points defining the Polygon <br>\n             * Note: If you manually change `points`, you **must** call `recalc`afterwards so that the changes get applied correctly.\n             * @public\n             * @type {me.Vector2d[]}\n             * @name points\n             * @memberOf me.Polygon#\n             */\n            this.points = null;\n\n            /**\n             * The edges here are the direction of the `n`th edge of the polygon, relative to\n             * the `n`th point. If you want to draw a given edge from the edge value, you must\n             * first translate to the position of the starting point.\n             * @ignore\n             */\n            this.edges = [];\n\n            /**\n             * a list of indices for all vertices composing this polygon (@see earcut)\n             * @ignore\n             */\n            this.indices = [];\n\n            /**\n             * The normals here are the direction of the normal for the `n`th edge of the polygon, relative\n             * to the position of the `n`th point. If you want to draw an edge normal, you must first\n             * translate to the position of the starting point.\n             * @ignore\n             */\n            this.normals = [];\n\n            // the shape type\n            this.shapeType = \"Polygon\";\n            this.setShape(x, y, points);\n        },\n\n        /** @ignore */\n        onResetEvent : function (x, y, points) {\n            this.setShape(x, y, points);\n        },\n\n        /**\n         * set new value to the Polygon\n         * @name setShape\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param {Number} x position of the Polygon\n         * @param {Number} y position of the Polygon\n         * @param {me.Vector2d[]} points array of vector defining the Polygon\n         */\n        setShape : function (x, y, points) {\n            this.pos.set(x, y);\n\n            if (!Array.isArray(points)) {\n                return this;\n            }\n\n            // convert given points to me.Vector2d if required\n            if (!(points[0] instanceof me.Vector2d)) {\n                var _points = this.points = [];\n                points.forEach(function (point) {\n                   _points.push(new me.Vector2d(point.x, point.y));\n                });\n            } else {\n                // array of me.Vector2d\n                this.points = points;\n            }\n\n            this.recalc();\n            this.updateBounds();\n\n            return this;\n        },\n\n        /**\n         * apply the given transformation matrix to this Polygon\n         * @name transform\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param {me.Matrix2d} matrix the transformation matrix\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        transform : function (m) {\n            var points = this.points;\n            var len = points.length;\n            for (var i = 0; i < len; i++) {\n                m.multiplyVector(points[i]);\n            }\n            this.recalc();\n            this.updateBounds();\n            return this;\n        },\n\n        /**\n         * apply an isometric projection to this shape\n         * @name toIso\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        toIso : function () {\n            return this.rotate(Math.PI / 4).scale(Math.SQRT2, Math.SQRT1_2);\n        },\n\n        /**\n         * apply a 2d projection to this shape\n         * @name to2d\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        to2d : function () {\n            return this.scale(Math.SQRT1_2, Math.SQRT2).rotate(-Math.PI / 4);\n        },\n\n        /**\n         * Rotate this Polygon (counter-clockwise) by the specified angle (in radians).\n         * @name rotate\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param {Number} angle The angle to rotate (in radians)\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        rotate : function (angle) {\n            if (angle !== 0) {\n                var points = this.points;\n                var len = points.length;\n                for (var i = 0; i < len; i++) {\n                    points[i].rotate(angle);\n                }\n                this.recalc();\n                this.updateBounds();\n            }\n            return this;\n        },\n\n        /**\n         * Scale this Polygon by the given scalar.\n         * @name scale\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} [y=x]\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        scale : function (x, y) {\n            y = typeof (y) !== \"undefined\" ? y : x;\n\n            var points = this.points;\n            var len = points.length;\n            for (var i = 0; i < len; i++) {\n                points[i].scale(x, y);\n            }\n            this.recalc();\n            this.updateBounds();\n            return this;\n        },\n\n        /**\n         * Scale this Polygon by the given vector\n         * @name scaleV\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param {me.Vector2d} v\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        scaleV : function (v) {\n            return this.scale(v.x, v.y);\n        },\n\n        /**\n         * Computes the calculated collision polygon.\n         * This **must** be called if the `points` array, `angle`, or `offset` is modified manually.\n         * @name recalc\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        recalc : function () {\n            var i;\n            var edges = this.edges;\n            var normals = this.normals;\n            var indices = this.indices;\n\n            // Copy the original points array and apply the offset/angle\n            var points = this.points;\n            var len = points.length;\n\n            if (len < 3) {\n                throw new Error(\"Requires at least 3 points\");\n            }\n\n            // Calculate the edges/normals\n            for (i = 0; i < len; i++) {\n                if (edges[i] === undefined) {\n                    edges[i] = new me.Vector2d();\n                }\n                edges[i].copy(points[(i + 1) % len]).sub(points[i]);\n\n                if (normals[i] === undefined) {\n                    normals[i] = new me.Vector2d();\n                }\n                normals[i].copy(edges[i]).perp().normalize();\n            }\n            // trunc array\n            edges.length = len;\n            normals.length = len;\n            // do not do anything here, indices will be computed by\n            // toIndices if array is empty upon function call\n            indices.length = 0;\n\n            return this;\n        },\n\n        /**\n         * returns a list of indices for all triangles defined in this polygon\n         * @name getIndices\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param {Vector2d[]} a list of vector\n         * @return {me.Polygon} this Polygon\n         */\n        getIndices : function (x, y) {\n            if (this.indices.length === 0) {\n                var points = this.points;\n                var data = [];\n\n                // flatten the points vector array\n                for (var i = 0; i < points.length; i++) {\n                    // XXX Optimize me\n                    data.push(points[i].x);\n                    data.push(points[i].y);\n                }\n                this.indices = earcut(data);\n            }\n            return this.indices;\n        },\n\n        /**\n         * translate the Polygon by the specified offset\n         * @name translate\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param {Number} x x offset\n         * @param {Number} y y offset\n         * @return {me.Polygon} this Polygon\n         */\n        translate : function (x, y) {\n            this.pos.x += x;\n            this.pos.y += y;\n            this._bounds.translate(x, y);\n            return this;\n        },\n\n        /**\n         * translate the Polygon by the specified vector\n         * @name translateV\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param {me.Vector2d} v vector offset\n         * @return {me.Polygon} Reference to this object for method chaining\n         */\n        translateV : function (v) {\n            this.pos.add(v);\n            this._bounds.translateV(v);\n            return this;\n        },\n\n        /**\n         * check if this Polygon contains the specified point\n         * @name containsPointV\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param  {me.Vector2d} point\n         * @return {boolean} true if contains\n         */\n        containsPointV: function (v) {\n            return this.containsPoint(v.x, v.y);\n        },\n\n        /**\n         * check if this Polygon contains the specified point <br>\n         * (Note: it is highly recommended to first do a hit test on the corresponding <br>\n         *  bounding rect, as the function can be highly consuming with complex shapes)\n         * @name containsPoint\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @param  {Number} x x coordinate\n         * @param  {Number} y y coordinate\n         * @return {boolean} true if contains\n         */\n        containsPoint: function (x, y) {\n            var intersects = false;\n            var posx = this.pos.x, posy = this.pos.y;\n            var points = this.points;\n            var len = points.length;\n\n            //http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n            for (var i = 0, j = len - 1; i < len; j = i++) {\n                var iy = points[i].y + posy, ix = points[i].x + posx,\n                    jy = points[j].y + posy, jx = points[j].x + posx;\n                if (((iy > y) !== (jy > y)) && (x < (jx - ix) * (y - iy) / (jy - iy) + ix)) {\n                    intersects = !intersects;\n                }\n            }\n            return intersects;\n        },\n\n        /**\n         * returns the bounding box for this shape, the smallest Rectangle object completely containing this shape.\n         * @name getBounds\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @return {me.Rect} this shape bounding box Rectangle object\n         */\n        getBounds : function () {\n            return this._bounds;\n        },\n\n        /**\n         * update the bounding box for this shape.\n         * @name updateBounds\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @return {me.Rect} this shape bounding box Rectangle object\n         */\n        updateBounds : function () {\n            if (!this._bounds) {\n                this._bounds = new me.Rect(0, 0, 0, 0);\n            }\n            this._bounds.setPoints(this.points);\n            this._bounds.translateV(this.pos);\n\n            return this._bounds;\n        },\n\n        /**\n         * clone this Polygon\n         * @name clone\n         * @memberOf me.Polygon.prototype\n         * @function\n         * @return {me.Polygon} new Polygon\n         */\n        clone : function () {\n            var copy = [];\n            this.points.forEach(function (point) {\n                copy.push(point.clone());\n            });\n            return new me.Polygon(this.pos.x, this.pos.y, copy);\n        }\n    });\n})();\n","(function () {\n    /**\n     * a rectangle Object\n     * @class\n     * @extends me.Polygon\n     * @memberOf me\n     * @constructor\n     * @param {Number} x position of the Rectangle\n     * @param {Number} y position of the Rectangle\n     * @param {Number} w width of the rectangle\n     * @param {Number} h height of the rectangle\n     */\n    me.Rect = me.Polygon.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, w, h) {\n            this._super(me.Polygon, \"init\", [x, y, [\n                new me.Vector2d(0, 0), // 0, 0\n                new me.Vector2d(w, 0), // 1, 0\n                new me.Vector2d(w, h), // 1, 1\n                new me.Vector2d(0, h)  // 0, 1\n            ]]);\n            this.shapeType = \"Rectangle\";\n        },\n\n        /** @ignore */\n        onResetEvent : function (x, y, w, h) {\n            this.setShape(x, y, w, h);\n        },\n\n        /**\n         * set new value to the rectangle shape\n         * @name setShape\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param {Number} x position of the Rectangle\n         * @param {Number} y position of the Rectangle\n         * @param {Number|Array} w|points width of the rectangle, or an array of vector defining the rectangle\n         * @param {Number} [h] height of the rectangle, if a numeral width parameter is specified\n         * @return {me.Rect} this rectangle\n         */\n        setShape : function (x, y, w, h) {\n            var points = w; // assume w is an array by default\n\n            if (arguments.length === 4) {\n                points = this.points;\n                points[0].set(0, 0); // 0, 0\n                points[1].set(w, 0); // 1, 0\n                points[2].set(w, h); // 1, 1\n                points[3].set(0, h); // 0, 1\n            }\n\n            this._super(me.Polygon, \"setShape\", [x, y, points]);\n\n            // private properties to cache width & height\n            this._width = this.points[2].x; // w\n            this._height = this.points[2].y; // h\n\n            return this;\n        },\n\n        /**\n         * resize the rectangle\n         * @name resize\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param {Number} w new width of the rectangle\n         * @param {Number} h new height of the rectangle\n         * @return {me.Rect} this rectangle\n         */\n        resize : function (w, h) {\n            this.width = w;\n            this.height = h;\n            return this;\n        },\n\n        /**\n         * returns the bounding box for this shape, the smallest rectangle object completely containing this shape.\n         * @name getBounds\n         * @memberOf me.Rect.prototype\n         * @function\n         * @return {me.Rect} this shape bounding box Rectangle object\n         */\n        getBounds : function () {\n            return this;\n        },\n\n        /**\n         * resize the rectangle to contain all the given points coordinates.\n         * @name setPoints\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param {me.Vector2d[]} points array of vector defining a shape\n         * @return {me.Rect} this shape bounding box Rectangle object\n         */\n        setPoints : function (points) {\n            var x = Infinity, y = Infinity, right = -Infinity, bottom = -Infinity;\n            points.forEach(function (point) {\n                x = Math.min(x, point.x);\n                y = Math.min(y, point.y);\n                right = Math.max(right, point.x);\n                bottom = Math.max(bottom, point.y);\n            });\n            this.setShape(x, y, right - x, bottom - y);\n            return this;\n        },\n\n        /**\n         * Computes the calculated collision polygon.\n         * This **must** be called if the `points` array is modified manually.\n         * @ignore\n         * @name recalc\n         * @memberOf me.Rect.prototype\n         * @function\n         */\n        recalc : function () {\n            this._super(me.Polygon, \"recalc\");\n            this._width = this.points[2].x;\n            this._height = this.points[2].y;\n            return this;\n        },\n\n        /**\n         * update the bounding box for this shape.\n         * @name updateBounds\n         * @memberOf me.Rect.prototype\n         * @function\n         * @return {me.Rect} this shape bounding box Rectangle object\n         */\n        updateBounds : function () {\n            return this;\n        },\n\n        /**\n         * clone this rectangle\n         * @name clone\n         * @memberOf me.Rect.prototype\n         * @function\n         * @return {me.Rect} new rectangle\n         */\n        clone : function () {\n            return new me.Rect(this.pos.x, this.pos.y, this._width, this._height);\n        },\n\n        /**\n         * copy the position and size of the given rectangle into this one\n         * @name copy\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param {me.Rect} rect Source rectangle\n         * @return {me.Rect} new rectangle\n         */\n        copy : function (rect) {\n            return this.setShape(rect.pos.x, rect.pos.y, rect._width, rect._height);\n        },\n\n        /**\n         * translate the rect by the specified offset\n         * @name translate\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param {Number} x x offset\n         * @param {Number} y y offset\n         * @return {me.Rect} this rectangle\n         */\n        translate : function (x, y) {\n            this.pos.x += x;\n            this.pos.y += y;\n            return this;\n        },\n\n        /**\n         * translate the rect by the specified vector\n         * @name translateV\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param {me.Vector2d} v vector offset\n         * @return {me.Rect} this rectangle\n         */\n        translateV : function (v) {\n            return this.translate(v.x, v.y);\n        },\n\n        /**\n         * merge this rectangle with another one\n         * @name union\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param {me.Rect} rect other rectangle to union with\n         * @return {me.Rect} the union(ed) rectangle\n         */\n        union : function (/** {me.Rect} */ r) {\n            var x1 = Math.min(this.left, r.left);\n            var y1 = Math.min(this.top, r.top);\n\n            this.resize(\n                Math.max(this.right, r.right) - x1,\n                Math.max(this.bottom, r.bottom) - y1\n            );\n\n            this.pos.set(x1, y1);\n\n            return this;\n        },\n\n        /**\n         * check if this rectangle is intersecting with the specified one\n         * @name overlaps\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param  {me.Rect} rect\n         * @return {boolean} true if overlaps\n         */\n        overlaps : function (r)    {\n            return (\n                this.left < r.right &&\n                r.left < this.right &&\n                this.top < r.bottom &&\n                r.top < this.bottom\n            );\n        },\n\n        /**\n         * check if this rectangle contains the specified one\n         * @name contains\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param  {me.Rect} rect\n         * @return {boolean} true if contains\n         */\n        contains: function (r) {\n            return (\n                r.left >= this.left &&\n                r.right <= this.right &&\n                r.top >= this.top &&\n                r.bottom <= this.bottom\n            );\n        },\n\n        /**\n         * check if this rectangle contains the specified point\n         * @name containsPoint\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param  {Number} x x coordinate\n         * @param  {Number} y y coordinate\n         * @return {boolean} true if contains\n         */\n        containsPoint: function (x, y) {\n            return (\n                x >= this.left &&\n                x <= this.right &&\n                y >= this.top &&\n                y <= this.bottom\n            );\n        },\n\n        /**\n         * check if this rectangle is identical to the specified one\n         * @name equals\n         * @memberOf me.Rect.prototype\n         * @function\n         * @param  {me.Rect} rect\n         * @return {boolean} true if equals\n         */\n        equals: function (r) {\n            return (\n                r.left === this.left &&\n                r.right === this.right &&\n                r.top === this.top &&\n                r.bottom === this.bottom\n            );\n        },\n\n        /**\n         * determines whether all coordinates of this rectangle are finite numbers.\n         * @name isFinite\n         * @memberOf me.Rect.prototype\n         * @function\n         * @return {boolean} false if all coordinates are positive or negative Infinity or NaN; otherwise, true.\n         */\n        isFinite: function () {\n            return (isFinite(this.pos.x) && isFinite(this.pos.y) && isFinite(this._width) && isFinite(this._height));\n        },\n\n        /**\n         * Returns a polygon whose edges are the same as this box.\n         * @name toPolygon\n         * @memberOf me.Rect.prototype\n         * @function\n         * @return {me.Polygon} a new Polygon that represents this rectangle.\n         */\n        toPolygon: function () {\n            return new me.Polygon(\n                this.pos.x, this.pos.y, this.points\n            );\n        }\n    });\n\n    // redefine some properties to ease our life when getting the rectangle coordinates\n\n    /**\n     * left coordinate of the Rectangle\n     * @public\n     * @type {Number}\n     * @name left\n     * @memberOf me.Rect\n     */\n    Object.defineProperty(me.Rect.prototype, \"left\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this.pos.x;\n        },\n        configurable : true\n    });\n\n    /**\n     * right coordinate of the Rectangle\n     * @public\n     * @type {Number}\n     * @name right\n     * @memberOf me.Rect\n     */\n    Object.defineProperty(me.Rect.prototype, \"right\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            var w = this._width;\n            return (this.pos.x + w) || w;\n        },\n        configurable : true\n    });\n\n    /**\n     * top coordinate of the Rectangle\n     * @public\n     * @type {Number}\n     * @name top\n     * @memberOf me.Rect\n     */\n    Object.defineProperty(me.Rect.prototype, \"top\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this.pos.y;\n        },\n        configurable : true\n    });\n\n    /**\n     * bottom coordinate of the Rectangle\n     * @public\n     * @type {Number}\n     * @name bottom\n     * @memberOf me.Rect\n     */\n    Object.defineProperty(me.Rect.prototype, \"bottom\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            var h = this._height;\n            return (this.pos.y + h) || h;\n        },\n        configurable : true\n    });\n\n    /**\n     * width of the Rectangle\n     * @public\n     * @type {Number}\n     * @name width\n     * @memberOf me.Rect\n     */\n    Object.defineProperty(me.Rect.prototype, \"width\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this._width;\n        },\n        /**\n         * @ignore\n         */\n        set : function (value) {\n            if (this._width !== value) {\n                this.points[1].x = this.points[2].x = value;\n                // _width updated in recalc\n                this.recalc();\n            }\n        },\n        configurable : true\n    });\n\n    /**\n     * height of the Rectangle\n     * @public\n     * @type {Number}\n     * @name height\n     * @memberOf me.Rect\n     */\n    Object.defineProperty(me.Rect.prototype, \"height\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this._height;\n        },\n        /**\n         * @ignore\n         */\n        set : function (value) {\n            if (this._height !== value) {\n                this.points[2].y = this.points[3].y = value;\n                // _height updated in recalc\n                this.recalc();\n            }\n        },\n        configurable : true\n    });\n\n    /**\n     * absolute center of this rectangle on the horizontal axis\n     * @public\n     * @type {Number}\n     * @name centerX\n     * @memberOf me.Rect\n     */\n    Object.defineProperty(me.Rect.prototype, \"centerX\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this.pos.x + (this._width / 2);\n        },\n        /**\n         * @ignore\n         */\n        set : function (value) {\n            this.pos.x = value - (this._width / 2);\n        },\n        configurable : true\n    });\n\n    /**\n     * absolute center of this rectangle on the vertical axis\n     * @public\n     * @type {Number}\n     * @name centerY\n     * @memberOf me.Rect\n     */\n    Object.defineProperty(me.Rect.prototype, \"centerY\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this.pos.y + (this._height / 2);\n        },\n        /**\n         * @ignore\n         */\n        set : function (value) {\n            this.pos.y = value - (this._height / 2);\n        },\n        configurable : true\n    });\n\n})();\n","(function () {\n    /**\n     * a line segment Object.<br>\n     * @class\n     * @extends me.Polygon\n     * @memberOf me\n     * @constructor\n     * @param {Number} x origin point of the Line\n     * @param {Number} y origin point of the Line\n     * @param {me.Vector2d[]} points array of vectors defining the Line\n     */\n    me.Line = me.Polygon.extend({\n\n        /**\n         * check if this line segment contains the specified point\n         * @name containsPointV\n         * @memberOf me.Line.prototype\n         * @function\n         * @param  {me.Vector2d} point\n         * @return {boolean} true if contains\n         */\n        containsPointV: function (v) {\n            return this.containsPoint(v.x, v.y);\n        },\n\n        /**\n         * check if this line segment contains the specified point\n         * @name containsPoint\n         * @memberOf me.Line.prototype\n         * @function\n         * @param  {Number} x x coordinate\n         * @param  {Number} y y coordinate\n         * @return {boolean} true if contains\n         */\n        containsPoint: function (x, y) {\n            // translate the given coordinates,\n            // rather than creating temp translated vectors\n            x -= this.pos.x; // Cx\n            y -= this.pos.y; // Cy\n            var start = this.points[0]; // Ax/Ay\n            var end = this.points[1]; // Bx/By\n\n            //(Cy - Ay) * (Bx - Ax) = (By - Ay) * (Cx - Ax)\n            return (y - start.y) * (end.x - start.x) === (end.y - start.y) * (x - start.x);\n        },\n\n        /**\n         * Computes the calculated collision edges and normals.\n         * This **must** be called if the `points` array, `angle`, or `offset` is modified manually.\n         * @name recalc\n         * @memberOf me.Line.prototype\n         * @function\n         */\n        recalc : function () {\n            var edges = this.edges;\n            var normals = this.normals;\n            // Copy the original points array and apply the offset/angle\n            var points = this.points;\n\n            if (points.length !== 2) {\n                throw new Error(\"Requires exactly 2 points\");\n            }\n\n            // Calculate the edges/normals\n            if (edges[0] === undefined) {\n                edges[0] = new me.Vector2d();\n            }\n            edges[0].copy(points[1]).sub(points[0]);\n            if (normals[0] === undefined) {\n                normals[0] = new me.Vector2d();\n            }\n            normals[0].copy(edges[0]).perp().normalize();\n\n            return this;\n        },\n\n        /**\n         * clone this line segment\n         * @name clone\n         * @memberOf me.Line.prototype\n         * @function\n         * @return {me.Line} new Line\n         */\n        clone : function () {\n            var copy = [];\n            this.points.forEach(function (point) {\n                copy.push(point.clone());\n            });\n            return new me.Line(this.pos.x, this.pos.y, copy);\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * a Generic Body Object with some physic properties and behavior functionality<br>\n     The body object is offten attached as a member of an Entity.  The Body object can handle movements of the parent with\n     the body.update call.  It important to know that when body.update is called there are several things that happen related to\n     the movement and positioning of the parent entity (assuming its an Entity).  1) The force/gravity/friction parameters are used\n     to calcuate a new velocity and 2) the parent position is updated by adding this to the parent.pos (position me.Vector2d)\n     value. Thus Affecting the movement of the parent.  Look at the source code for /src/physics/body.js:update (me.Body.update) for\n     a better understanding.\n\n\n     * @class\n     * @extends me.Rect\n     * @memberOf me\n     * @constructor\n     * @param {me.Renderable} ancestor the parent object this body is attached to\n     * @param {me.Rect[]|me.Polygon[]|me.Line[]|me.Ellipse[]} [shapes] the initial list of shapes\n     * @param {Function} [onBodyUpdate] callback for when the body is updated (e.g. add/remove shapes)\n     */\n    me.Body = me.Rect.extend({\n        /**\n         * @ignore\n         */\n        init : function (parent, shapes, onBodyUpdate) {\n\n            /**\n             * a reference to the parent object that contains this body,\n             * or undefined if it has not been added to one.\n             * @public\n             * @type me.Renderable\n             * @default undefined\n             * @name me.Body#ancestor\n             */\n            this.ancestor = parent;\n\n            /**\n             * The collision shapes of the body <br>\n             * @ignore\n             * @type {me.Polygon[]|me.Line[]|me.Ellipse[]}\n             * @name shapes\n             * @memberOf me.Body\n             */\n            if (typeof(this.shapes) === \"undefined\") {\n                this.shapes = [];\n            }\n\n            /**\n             * The body collision mask, that defines what should collide with what.<br>\n             * (by default will collide with all entities)\n             * @ignore\n             * @type Number\n             * @default me.collision.types.ALL_OBJECT\n             * @name collisionMask\n             * @see me.collision.types\n             * @memberOf me.Body\n             */\n            this.collisionMask = me.collision.types.ALL_OBJECT;\n\n            /**\n             * define the collision type of the body for collision filtering\n             * @public\n             * @type Number\n             * @default me.collision.types.ENEMY_OBJECT\n             * @name collisionType\n             * @see me.collision.types\n             * @memberOf me.Body\n             * @example\n             * // set the body collision type\n             * myEntity.body.collisionType = me.collision.types.PLAYER_OBJECT;\n             */\n            this.collisionType = me.collision.types.ENEMY_OBJECT;\n\n            /**\n             * body velocity<br>\n             *\n             * @public\n             * @type me.Vector2d\n             * @default <0,0>\n             * @name vel\n             * @memberOf me.Body\n             */\n            if (typeof(this.vel) === \"undefined\") {\n                this.vel = new me.Vector2d();\n            }\n            this.vel.set(0, 0);\n\n            /**\n             * body acceleration <br>\n             * Not fully implemented yet.  At this time accel is used to set the MaximumVelocity allowed.\n             * @public\n             * @type me.Vector2d\n             * @default <0,0>\n             * @name accel\n             * @deprecated\n             * @see me.Body.force\n             * @memberOf me.Body\n             */\n            if (typeof(this.accel) === \"undefined\") {\n                this.accel = new me.Vector2d();\n            }\n            this.accel.set(0, 0);\n\n            /**\n             * body force or acceleration (automatically) applied to the body.\n             * when defining a force, user should also define a max velocity\n             * @public\n             * @type me.Vector2d\n             * @default <0,0>\n             * @name force\n             * @see me.Body.setMaxVelocity\n             * @memberOf me.Body\n             * @example\n             * init: function () {\n             *    // define a default maximum acceleration, initial force and friction\n             *    this.body.force.set(0, 0);\n             *    this.body.friction.set(0.4, 0);\n             *    this.body.setMaxVelocity(3, 15);\n             * },\n             *\n             * // apply a postive or negative force when pressing left of right key\n             * update : function (dt) {\n             *     if (me.input.isKeyPressed(\"left\"))    {\n             *          this.body.force.x = -this.body.maxVel.x;\n             *      } else if (me.input.isKeyPressed(\"right\")) {\n             *         this.body.force.x = this.body.maxVel.x;\n             *     } else {\n             *         this.body.force.x = 0;\n             *     }\n             * }\n             */\n            if (typeof(this.force) === \"undefined\") {\n                this.force = new me.Vector2d();\n            }\n            this.force.set(0, 0);\n\n\n            /**\n             * body friction\n             * @public\n             * @type me.Vector2d\n             * @default <0,0>\n             * @name friction\n             * @memberOf me.Body\n             */\n            if (typeof(this.friction) === \"undefined\") {\n                this.friction = new me.Vector2d();\n            }\n            this.friction.set(0, 0);\n\n            /**\n             * the body bouciness level when colliding with other solid bodies :\n             * a value of 0 will not bounce, a value of 1 will fully rebound.\n             * @public\n             * @type {Number}\n             * @default 0\n             * @name bounce\n             * @memberOf me.Body\n             */\n            this.bounce = 0;\n\n            /**\n             * the body mass\n             * @public\n             * @type {Number}\n             * @default 1\n             * @name mass\n             * @memberOf me.Body\n             */\n            this.mass = 1;\n\n            /**\n             * max velocity (to limit body velocity)\n             * @public\n             * @type me.Vector2d\n             * @default <490,490>\n             * @name maxVel\n             * @memberOf me.Body\n             */\n            if (typeof(this.maxVel) === \"undefined\") {\n                this.maxVel = new me.Vector2d();\n            }\n            // cap by default to half the default gravity force\n            this.maxVel.set(490, 490);\n\n            /**\n             * Default gravity value for this body.\n             * To be set to to < 0, 0 > for RPG, shooter, etc...<br>\n             * Note: y axis gravity can also globally be defined through me.sys.gravity\n             * @public\n             * @see me.sys.gravity\n             * @type me.Vector2d\n             * @default <0,0.98>\n             * @default\n             * @name gravity\n             * @memberOf me.Body\n             */\n            if (typeof(this.gravity) === \"undefined\") {\n                this.gravity = new me.Vector2d();\n            }\n            this.gravity.set(\n                0, typeof(me.sys.gravity) === \"number\" ? me.sys.gravity : 0.98\n            );\n\n            /**\n             * falling state of the body<br>\n             * true if the object is falling<br>\n             * false if the object is standing on something<br>\n             * @readonly\n             * @public\n             * @type Boolean\n             * @default false\n             * @name falling\n             * @memberOf me.Body\n             */\n            this.falling = false;\n\n            /**\n             * jumping state of the body<br>\n             * equal true if the body is jumping<br>\n             * @readonly\n             * @public\n             * @type Boolean\n             * @default false\n             * @name jumping\n             * @memberOf me.Body\n             */\n            this.jumping = false;\n\n            // call the super constructor\n            this._super(\n                me.Rect,\n                \"init\", [\n                    0,\n                    0,\n                    this.ancestor.width,\n                    this.ancestor.height\n                ]\n            );\n\n            if (typeof(onBodyUpdate) === \"function\") {\n                this.onBodyUpdate = onBodyUpdate;\n            }\n\n            // parses the given shapes array and add them\n            if (Array.isArray(shapes)) {\n                for (var s = 0; s < shapes.length; s++) {\n                    this.addShape(shapes[s], true);\n                }\n                this.updateBounds();\n            }\n        },\n\n        /**\n         * add a collision shape to this body <br>\n         * (note: me.Rect objects will be converted to me.Polygon before being added)\n         * @name addShape\n         * @memberOf me.Body\n         * @public\n         * @function\n         * @param {me.Rect|me.Polygon|me.Line|me.Ellipse} shape a shape object\n         * @param {Boolean} batchInsert if true the body bounds won't be updated after adding a shape\n         * @return {Number} the shape array length\n         */\n        addShape : function (shape, batchInsert) {\n            if (shape instanceof me.Rect) {\n                this.shapes.push(shape.toPolygon());\n            } else {\n                // else polygon or circle\n                this.shapes.push(shape);\n            }\n\n            if (batchInsert !== true) {\n                // update the body bounds to take in account the added shape\n                this.updateBounds();\n            }\n\n            // return the length of the shape list\n            return this.shapes.length;\n        },\n\n        /**\n         * add collision mesh based on a given Physics Editor JSON object.\n         * (this will also apply any physic properties defined in the given JSON file)\n         * @name addShapesFromJSON\n         * @memberOf me.Body\n         * @public\n         * @function\n         * @param {Object} json a JSON object as exported from the a Physics Editor tool\n         * @param {String} id the shape identifier within the given the json object\n         * @param {String} [scale=1] the desired scale of the body (physic-body-editor only)\n         * @see https://www.codeandweb.com/physicseditor\n         * @return {Number} the shape array length\n         * @example\n         * this.body.addShapesFromJSON(me.loader.getJSON(\"shapesdef1\"), settings.banana);\n         */\n        addShapesFromJSON : function (json, id, scale) {\n            var data;\n            scale = scale || 1;\n\n            // identify the json format\n            if (typeof(json.rigidBodies) === \"undefined\") {\n                // Physic Editor Format (https://www.codeandweb.com/physicseditor)\n                data = json[id];\n\n                if (typeof(data) === \"undefined\") {\n                    throw new Error(\"Identifier (\" + id + \") undefined for the given PhysicsEditor JSON object)\");\n                }\n\n                if (data.length) {\n                    // go through all shapes and add them to the body\n                    for (var i = 0; i < data.length; i++) {\n                        var points = [];\n                        for (var s = 0; s < data[i].shape.length; s += 2) {\n                            points.push(new me.Vector2d(data[i].shape[s], data[i].shape[s + 1]));\n                        }\n                        this.addShape(new me.Polygon(0, 0, points), true);\n                    }\n                    // apply density, friction and bounce properties from the first shape\n                    // Note : how to manage different mass or friction for all different shapes?\n                    this.mass = data[0].density || 0;\n                    this.friction.set(data[0].friction || 0, data[0].friction || 0);\n                    this.bounce = data[0].bounce || 0;\n                }\n            } else {\n                // Physic Body Editor Format (http://www.aurelienribon.com/blog/projects/physics-body-editor/)\n                json.rigidBodies.forEach(function (shape) {\n                    if (shape.name === id) {\n                        data = shape;\n                        // how to stop a forEach loop?\n                    }\n                });\n\n                if (typeof(data) === \"undefined\") {\n                    throw new Error(\"Identifier (\" + id + \") undefined for the given PhysicsEditor JSON object)\");\n                }\n\n                // shapes origin point\n                // top-left origin in the editor is (0,1)\n                this.pos.set(data.origin.x, 1.0 - data.origin.y).scale(scale);\n\n                var self = this;\n                // parse all polygons\n                data.polygons.forEach(function (poly) {\n                    var points = [];\n                    poly.forEach(function (point) {\n                        // top-left origin in the editor is (0,1)\n                        points.push(new me.Vector2d(point.x, 1.0 - point.y).scale(scale));\n                    });\n                    self.addShape(new me.Polygon(0, 0, points), true);\n                });\n                // parse all circles\n                data.circles.forEach(function (circle) {\n                    self.addShape(new me.Ellipse(\n                        circle.cx * scale,\n                        (1.0 - circle.cy) * scale,\n                        circle.r * 2 * scale,\n                        circle.r * 2 * scale\n                    ), true);\n                });\n            }\n\n            // update the body bounds to take in account the added shapes\n            this.updateBounds();\n\n            // return the length of the shape list\n            return this.shapes.length;\n        },\n\n        /**\n         * return the collision shape at the given index\n         * @name getShape\n         * @memberOf me.Body\n         * @public\n         * @function\n         * @param {Number} [index=0] the shape object at the specified index\n         * @return {me.Polygon|me.Line|me.Ellipse} shape a shape object if defined\n         */\n        getShape : function (index) {\n            return this.shapes[index || 0];\n        },\n\n        /**\n         * remove the specified shape from the body shape list\n         * @name removeShape\n         * @memberOf me.Body\n         * @public\n         * @function\n         * @param {me.Polygon|me.Line|me.Ellipse} shape a shape object\n         * @return {Number} the shape array length\n         */\n        removeShape : function (shape) {\n            me.utils.array.remove(this.shapes, shape);\n\n            // update the body bounds to take in account the removed shape\n            this.updateBounds();\n\n            // return the length of the shape list\n            return this.shapes.length;\n        },\n\n        /**\n         * remove the shape at the given index from the body shape list\n         * @name removeShapeAt\n         * @memberOf me.Body\n         * @public\n         * @function\n         * @param {Number} index the shape object at the specified index\n         * @return {Number} the shape array length\n         */\n        removeShapeAt : function (index) {\n            return this.removeShape(this.getShape(index));\n        },\n\n        /**\n         * By default all entities are able to collide with all other entities, <br>\n         * but it's also possible to specificy 'collision filters' to provide a finer <br>\n         * control over which entities can collide with each other.\n         * @name setCollisionMask\n         * @memberOf me.Body\n         * @public\n         * @function\n         * @see me.collision.types\n         * @param {Number} bitmask the collision mask\n         * @example\n         * // filter collision detection with collision shapes, enemies and collectables\n         * myEntity.body.setCollisionMask(me.collision.types.WORLD_SHAPE | me.collision.types.ENEMY_OBJECT | me.collision.types.COLLECTABLE_OBJECT);\n         * ...\n         * // disable collision detection with all other objects\n         * myEntity.body.setCollisionMask(me.collision.types.NO_OBJECT);\n         */\n        setCollisionMask : function (bitmask) {\n            this.collisionMask = bitmask;\n        },\n\n        /**\n         * the built-in function to solve the collision response\n         * @protected\n         * @name respondToCollision\n         * @memberOf me.Body\n         * @function\n         * @param {me.collision.ResponseObject} response the collision response object\n         */\n        respondToCollision: function (response) {\n            // the overlap vector\n            var overlap = response.overlapV;\n\n            // FIXME: Respond proportionally to object mass\n\n            // Move out of the other object shape\n            this.ancestor.pos.sub(overlap);\n\n            // adjust velocity\n            if (overlap.x !== 0) {\n                this.vel.x = ~~(0.5 + this.vel.x - overlap.x) || 0;\n                if (this.bounce > 0) {\n                    this.vel.x *= -this.bounce;\n                }\n            }\n            if (overlap.y !== 0) {\n                this.vel.y = ~~(0.5 + this.vel.y - overlap.y) || 0;\n                if (this.bounce > 0) {\n                    this.vel.y *= -this.bounce;\n                }\n\n                // cancel the falling an jumping flags if necessary\n                var dir = Math.sign(this.gravity.y) || 1;\n                this.falling = overlap.y >= dir;\n                this.jumping = overlap.y <= -dir;\n            }\n        },\n\n        /**\n         * update the body bounding rect (private)\n         * the body rect size is here used to cache the total bounding rect\n         * @private\n         * @name updateBounds\n         * @memberOf me.Body\n         * @function\n         */\n        updateBounds : function () {\n            if (this.shapes.length > 0) {\n                // reset the rect with default values\n                var _bounds = this.shapes[0].getBounds();\n                this.pos.setV(_bounds.pos);\n                this.resize(_bounds.width, _bounds.height);\n\n                for (var i = 1; i < this.shapes.length; i++) {\n                    this.union(this.shapes[i].getBounds());\n                }\n            }\n\n            // trigger the onBodyChange\n            if (typeof this.onBodyUpdate === \"function\") {\n                this.onBodyUpdate(this);\n            }\n\n            return this;\n        },\n\n        /**\n         * Sets accel to Velocity if x or y is not 0.  Net effect is to set the maxVel.x/y to the passed values for x/y<br>\n         * note: This does not set the vel member of the body object. This is identical to the setMaxVelocity call except that the\n         * accel property is updated to match the passed x and y.\n         * setMaxVelocity if needed<br>\n         * @name setVelocity\n         * @memberOf me.Body\n         * @function\n         * @param {Number} x velocity on x axis\n         * @param {Number} y velocity on y axis\n         * @protected\n         * @deprecated\n         * @see me.Body.force\n         */\n        setVelocity : function (x, y) {\n            this.accel.x = x !== 0 ? x : this.accel.x;\n            this.accel.y = y !== 0 ? y : this.accel.y;\n\n            // limit by default to the same max value\n            this.setMaxVelocity(x, y);\n        },\n\n        /**\n         * cap the body velocity (body.maxVel property) to the specified value<br>\n         * @name setMaxVelocity\n         * @memberOf me.Body\n         * @function\n         * @param {Number} x max velocity on x axis\n         * @param {Number} y max velocity on y axis\n         * @protected\n         */\n        setMaxVelocity : function (x, y) {\n            this.maxVel.x = x;\n            this.maxVel.y = y;\n        },\n\n        /**\n         * set the body default friction\n         * @name setFriction\n         * @memberOf me.Body\n         * @function\n         * @param {Number} x horizontal friction\n         * @param {Number} y vertical friction\n         * @protected\n         */\n        setFriction : function (x, y) {\n            this.friction.x = x || 0;\n            this.friction.y = y || 0;\n        },\n\n        /**\n         * apply friction to a vector\n         * @ignore\n         */\n        applyFriction : function (vel) {\n            var fx = this.friction.x * me.timer.tick,\n                nx = vel.x + fx,\n                x = vel.x - fx,\n                fy = this.friction.y * me.timer.tick,\n                ny = vel.y + fy,\n                y = vel.y - fy;\n\n            vel.x = (\n                (nx < 0) ? nx :\n                ( x > 0) ? x  : 0\n            );\n            vel.y = (\n                (ny < 0) ? ny :\n                ( y > 0) ? y  : 0\n            );\n        },\n\n        /**\n         * compute the new velocity value\n         * @ignore\n         */\n        computeVelocity : function (vel) {\n\n            // apply fore if defined\n            if (this.force.x) {\n                vel.x += this.force.x * me.timer.tick;\n            }\n            if (this.force.y) {\n                vel.y += this.force.y * me.timer.tick;\n            }\n\n            // apply friction\n            if (this.friction.x || this.friction.y) {\n                this.applyFriction(vel);\n            }\n\n            // apply gravity if defined\n            if (this.gravity.y) {\n                vel.x += this.gravity.x * this.mass * me.timer.tick;\n            }\n            if (this.gravity.y) {\n                vel.y += this.gravity.y * this.mass * me.timer.tick;\n                // check if falling / jumping\n                this.falling = (vel.y * Math.sign(this.gravity.y)) > 0;\n                this.jumping = (this.falling ? false : this.jumping);\n            }\n\n            // cap velocity\n            if (vel.y !== 0) {\n                vel.y = me.Math.clamp(vel.y, -this.maxVel.y, this.maxVel.y);\n            }\n            if (vel.x !== 0) {\n                vel.x = me.Math.clamp(vel.x, -this.maxVel.x, this.maxVel.x);\n            }\n\n        },\n\n        /**\n         * Updates the parent's position as well as computes the new body's velocity based\n         * on the values of force/friction/gravity.  Velocity chages are proportional to the\n         * me.timer.tick value (which can be used to scale velocities).  The approach to moving the\n         * parent Entity is to compute new values of the Body.vel property then add them to\n         * the parent.pos value thus changing the postion the amount of Body.vel each time the\n         * update call is made. <br>\n         * Updates to Body.vel are bounded by maxVel (which defaults to viewport size if not set) <br>\n         *\n         * In addition, when the gravity calcuation is made, if the Body.vel.y > 0 then the Body.falling\n         * property is set to true and Body.jumping is set to !Body.falling.\n         *\n         * At this time a call to Body.Update does not call the onBodyUpdate callback that is listed in the init: function.\n         * @name update\n         * @memberOf me.Body\n         * @function\n         * @return {boolean} true if resulting velocity is different than 0\n         * @see source code for me.Body.computeVelocity (private member)\n         */\n        update : function (/* dt */) {\n            // update the velocity\n            this.computeVelocity(this.vel);\n\n            // update the body ancestor position\n            this.ancestor.pos.add(this.vel);\n\n            // returns true if vel is different from 0\n            return (this.vel.x !== 0 || this.vel.y !== 0);\n        },\n\n        /**\n         * Destroy function<br>\n         * @ignore\n         */\n        destroy : function () {\n            this.onBodyUpdate = undefined;\n            this.ancestor = undefined;\n            this.shapes.length = 0;\n        }\n    });\n})();\n","/*\n * A QuadTree implementation in JavaScript, a 2d spatial subdivision algorithm.\n * Based on the QuadTree Library by Timo Hausmann and released under the MIT license\n * https://github.com/timohausmann/quadtree-js/\n**/\n\n(function () {\n\n\n    /**\n     * a pool of `QuadTree` objects\n     */\n    var QT_ARRAY = [];\n\n    /**\n     * will pop a quadtree object from the array\n     * or create a new one if the array is empty\n     */\n    var QT_ARRAY_POP = function (bounds, max_objects, max_levels, level) {\n        if (QT_ARRAY.length > 0) {\n            var _qt =  QT_ARRAY.pop();\n            _qt.bounds = bounds;\n            _qt.max_objects = max_objects || 4;\n            _qt.max_levels  = max_levels || 4;\n            _qt.level = level || 0;\n            return _qt;\n        } else {\n            return new me.QuadTree(bounds, max_objects, max_levels, level);\n        }\n    };\n\n    /**\n     * Push back a quadtree back into the array\n     */\n    var QT_ARRAY_PUSH = function (qt) {\n        QT_ARRAY.push(qt);\n    };\n\n    /**\n     * a temporary vector object to be reused\n     */\n    var QT_VECTOR = new me.Vector2d();\n\n\n    /**\n     * Quadtree Constructor <br>\n     * note: the global quadtree instance is available through `me.collision.quadTree`\n     * @class\n     * @name QuadTree\n     * @extends Object\n     * @memberOf me\n     * @constructor\n     * @see me.collision.quadTree\n     * @param {me.Rect} bounds bounds of the node\n     * @param {Number} [max_objects=4] max objects a node can hold before splitting into 4 subnodes\n     * @param {Number} [max_levels=4] total max levels inside root Quadtree\n     * @param {Number} [level] deepth level, required for subnodes\n     */\n    function Quadtree(bounds, max_objects, max_levels, level) {\n        this.max_objects = max_objects || 4;\n        this.max_levels  = max_levels || 4;\n\n        this.level = level || 0;\n        this.bounds = bounds;\n\n        this.objects = [];\n        this.nodes = [];\n    }\n\n\n    /*\n     * Split the node into 4 subnodes\n     */\n    Quadtree.prototype.split = function () {\n\n        var nextLevel = this.level + 1,\n            subWidth  = ~~(0.5 + this.bounds.width / 2),\n            subHeight = ~~(0.5 + this.bounds.height / 2),\n            x = ~~(0.5 + this.bounds.pos.x),\n            y = ~~(0.5 + this.bounds.pos.y);\n\n         //top right node\n        this.nodes[0] = QT_ARRAY_POP({\n            pos : {\n                x : x + subWidth,\n                y : y\n            },\n            width : subWidth,\n            height : subHeight\n        }, this.max_objects, this.max_levels, nextLevel);\n\n        //top left node\n        this.nodes[1] = QT_ARRAY_POP({\n            pos : {\n                x : x,\n                y : y\n            },\n            width : subWidth,\n            height : subHeight\n        }, this.max_objects, this.max_levels, nextLevel);\n\n        //bottom left node\n        this.nodes[2] = QT_ARRAY_POP({\n            pos : {\n                x : x,\n                y : y + subHeight\n            },\n            width : subWidth,\n            height : subHeight\n        }, this.max_objects, this.max_levels, nextLevel);\n\n        //bottom right node\n        this.nodes[3] = QT_ARRAY_POP({\n            pos : {\n                x : x + subWidth,\n                y : y + subHeight\n            },\n            width : subWidth,\n            height : subHeight\n        }, this.max_objects, this.max_levels, nextLevel);\n    };\n\n\n    /*\n     * Determine which node the object belongs to\n     * @param {me.Rect} rect bounds of the area to be checked\n     * @return Integer index of the subnode (0-3), or -1 if rect cannot completely fit within a subnode and is part of the parent node\n     */\n    Quadtree.prototype.getIndex = function (item) {\n\n        var rect = item.getBounds(),\n            pos = rect.pos;\n\n        // use world coordinates for floating items\n        if (item.floating || (item.ancestor && item.ancestor.floating)) {\n            pos = me.game.viewport.localToWorld(pos.x, pos.y, QT_VECTOR);\n        }\n\n        var index = -1,\n            rx = pos.x,\n            ry = pos.y,\n            rw = rect.width,\n            rh = rect.height,\n            verticalMidpoint = this.bounds.pos.x + (this.bounds.width / 2),\n            horizontalMidpoint = this.bounds.pos.y + (this.bounds.height / 2),\n            //rect can completely fit within the top quadrants\n            topQuadrant = (ry < horizontalMidpoint && ry + rh < horizontalMidpoint),\n            //rect can completely fit within the bottom quadrants\n            bottomQuadrant = (ry > horizontalMidpoint);\n\n        //rect can completely fit within the left quadrants\n        if (rx < verticalMidpoint && rx + rw < verticalMidpoint) {\n            if (topQuadrant) {\n                index = 1;\n            } else if (bottomQuadrant) {\n                index = 2;\n            }\n        } else if (rx > verticalMidpoint) {\n            //rect can completely fit within the right quadrants\n            if (topQuadrant) {\n                index = 0;\n            } else if (bottomQuadrant) {\n                index = 3;\n            }\n        }\n\n        return index;\n    };\n\n    /**\n     * Insert the given object container into the node.\n     * @name insertContainer\n     * @memberOf me.QuadTree\n     * @function\n     * @param {me.Container} container group of objects to be added\n     */\n    Quadtree.prototype.insertContainer = function (container) {\n\n        for (var i = container.children.length, child; i--, (child = container.children[i]);) {\n            if (child.isKinematic !== true) {\n                if (child instanceof me.Container) {\n                    if (child.name !== \"rootContainer\") {\n                        this.insert(child);\n                    }\n                    // recursivly insert all childs\n                    this.insertContainer(child);\n                } else {\n                    // only insert object with a bounding box\n                    // Probably redundant with `isKinematic`\n                    if (typeof (child.getBounds) === \"function\") {\n                        this.insert(child);\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n     * Insert the given object into the node. If the node\n     * exceeds the capacity, it will split and add all\n     * objects to their corresponding subnodes.\n     * @name insert\n     * @memberOf me.QuadTree\n     * @function\n     * @param {Object} item object to be added\n     */\n    Quadtree.prototype.insert = function (item) {\n\n        var index = -1;\n\n        //if we have subnodes ...\n        if (this.nodes.length > 0) {\n            index = this.getIndex(item);\n\n            if (index !== -1) {\n                this.nodes[index].insert(item);\n                return;\n            }\n        }\n\n        this.objects.push(item);\n\n        if (this.objects.length > this.max_objects && this.level < this.max_levels) {\n\n            //split if we don't already have subnodes\n            if (this.nodes.length === 0) {\n                this.split();\n            }\n\n            var i = 0;\n\n            //add all objects to there corresponding subnodes\n            while (i < this.objects.length) {\n\n                index = this.getIndex(this.objects[i]);\n\n                if (index !== -1) {\n                    this.nodes[index].insert(this.objects.splice(i, 1)[0]);\n                } else {\n                    i = i + 1;\n                }\n            }\n        }\n    };\n\n    /**\n     * Return all objects that could collide with the given object\n     * @name retrieve\n     * @memberOf me.QuadTree\n     * @function\n     * @param {Object} object object to be checked against\n     * @param {Object} [function] a sorting function for the returned array\n     * @return {Object[]} array with all detected objects\n     */\n    Quadtree.prototype.retrieve = function (item, fn) {\n\n        var returnObjects = this.objects;\n\n        //if we have subnodes ...\n        if (this.nodes.length > 0) {\n\n            var index = this.getIndex(item);\n\n            //if rect fits into a subnode ..\n            if (index !== -1) {\n                returnObjects = returnObjects.concat(this.nodes[index].retrieve(item));\n            } else {\n                 //if rect does not fit into a subnode, check it against all subnodes\n                for (var i = 0; i < this.nodes.length; i = i + 1) {\n                    returnObjects = returnObjects.concat(this.nodes[i].retrieve(item));\n                }\n            }\n        }\n\n        if (typeof(fn) === \"function\") {\n            returnObjects.sort(fn);\n        }\n\n        return returnObjects;\n    };\n\n    /**\n     * Remove the given item from the quadtree.\n     * (this function won't recalculate the impacted node)\n     * @name remove\n     * @memberOf me.QuadTree\n     * @function\n     * @param {Object} object object to be removed\n     * @return true if the item was found and removed.\n     */\n     Quadtree.prototype.remove = function (item) {\n        var found = false;\n\n        if (typeof (item.getBounds) === \"undefined\") {\n            // ignore object that cannot be added in the first place\n            return false;\n        }\n\n        //if we have subnodes ...\n        if (this.nodes.length > 0) {\n            // determine to which node the item belongs to\n            var index = this.getIndex(item);\n\n            if (index !== -1) {\n                found = me.utils.array.remove(this.nodes[index], item);\n                // trim node if empty\n                if (found && this.nodes[index].isPrunable()) {\n                    this.nodes.splice(index, 1);\n                }\n            }\n        }\n\n        if (found === false) {\n            // try and remove the item from the list of items in this node\n            if (this.objects.indexOf(item) !== -1) {\n                me.utils.array.remove(this.objects, item);\n                found = true;\n            }\n        }\n\n        return found;\n    };\n\n    /**\n     * return true if the node is prunable\n     * @name isPrunable\n     * @memberOf me.QuadTree\n     * @function\n     * @return true if the node is prunable\n     */\n    Quadtree.prototype.isPrunable = function () {\n        return !(this.hasChildren() || (this.objects.length > 0));\n    };\n\n    /**\n     * return true if the node has any children\n     * @name hasChildren\n     * @memberOf me.QuadTree\n     * @function\n     * @return true if the node has any children\n     */\n    Quadtree.prototype.hasChildren = function () {\n        for (var i = 0; i < this.nodes.length; i = i + 1) {\n            var subnode = this.nodes[i];\n            if (subnode.length > 0 || subnode.objects.length > 0) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    /**\n     * clear the quadtree\n     * @name clear\n     * @memberOf me.QuadTree\n     * @function\n     */\n    Quadtree.prototype.clear = function (bounds) {\n\n        this.objects.length = 0;\n\n        for (var i = 0; i < this.nodes.length; i = i + 1) {\n            this.nodes[i].clear();\n            // recycle the quadTree object\n            QT_ARRAY_PUSH(this.nodes[i]);\n        }\n        // empty the array\n        this.nodes.length = 0;\n\n        // resize the root bounds if required\n        if (typeof bounds !== \"undefined\") {\n            this.bounds.setShape(bounds.pos.x, bounds.pos.y, bounds.width, bounds.height);\n        }\n    };\n\n    //make Quadtree available in the me namespace\n    me.QuadTree = Quadtree;\n\n})();\n","/*\n * Separating Axis Theorem implementation, based on the SAT.js library by Jim Riecken <jimr@jimr.ca>\n * Available under the MIT License - https://github.com/jriecken/sat-js\n */\n(function () {\n\n    /**\n     * Constants for Vornoi regions\n     * @ignore\n     */\n    var LEFT_VORNOI_REGION = -1;\n\n    /**\n     * Constants for Vornoi regions\n     * @ignore\n     */\n    var MIDDLE_VORNOI_REGION = 0;\n\n    /**\n     * Constants for Vornoi regions\n     * @ignore\n     */\n    var RIGHT_VORNOI_REGION = 1;\n\n\n    /**\n     * A pool of `Vector` objects that are used in calculations to avoid allocating memory.\n     * @type {Array.<Vector>}\n     */\n    var T_VECTORS = [];\n    for (var v = 0; v < 10; v++) { T_VECTORS.push(new me.Vector2d()); }\n\n    /**\n     * A pool of arrays of numbers used in calculations to avoid allocating memory.\n     * @type {Array.<Array.<number>>}\n     */\n    var T_ARRAYS = [];\n    for (var a = 0; a < 5; a++) { T_ARRAYS.push([]); }\n\n    // a dummy entity object when using Line for raycasting\n    var dummyEntity = {\n        pos : new me.Vector2d(0, 0),\n        ancestor : {\n            _absPos : new me.Vector2d(0, 0)\n        }\n    };\n\n    /**\n     * Flattens the specified array of points onto a unit vector axis,\n     * resulting in a one dimensional range of the minimum and\n     * maximum value on that axis.\n     * @param {Array.<Vector>} points The points to flatten.\n     * @param {Vector} normal The unit vector axis to flatten on.\n     * @param {Array.<number>} result An array.  After calling this function,\n     *   result[0] will be the minimum value,\n     *   result[1] will be the maximum value.\n     */\n    function flattenPointsOn(points, normal, result) {\n        var min = Number.MAX_VALUE;\n        var max = -Number.MAX_VALUE;\n        var len = points.length;\n        for (var i = 0; i < len; i++) {\n            // The magnitude of the projection of the point onto the normal\n            var dot = points[i].dotProduct(normal);\n            if (dot < min) { min = dot; }\n            if (dot > max) { max = dot; }\n        }\n        result[0] = min;\n        result[1] = max;\n    }\n\n    /**\n     * Check whether two convex polygons are separated by the specified\n     * axis (must be a unit vector).\n     * @param {Vector} aPos The position of the first polygon.\n     * @param {Vector} bPos The position of the second polygon.\n     * @param {Array.<Vector>} aPoints The points in the first polygon.\n     * @param {Array.<Vector>} bPoints The points in the second polygon.\n     * @param {Vector} axis The axis (unit sized) to test against.  The points of both polygons\n     *   will be projected onto this axis.\n     * @param {Response=} response A Response object (optional) which will be populated\n     *   if the axis is not a separating axis.\n     * @return {boolean} true if it is a separating axis, false otherwise.  If false,\n     *   and a response is passed in, information about how much overlap and\n     *   the direction of the overlap will be populated.\n     */\n    function isSeparatingAxis(aPos, bPos, aPoints, bPoints, axis, response) {\n        var rangeA = T_ARRAYS.pop();\n        var rangeB = T_ARRAYS.pop();\n        // The magnitude of the offset between the two polygons\n        var offsetV = T_VECTORS.pop().copy(bPos).sub(aPos);\n        var projectedOffset = offsetV.dotProduct(axis);\n\n        // Project the polygons onto the axis.\n        flattenPointsOn(aPoints, axis, rangeA);\n        flattenPointsOn(bPoints, axis, rangeB);\n        // Move B's range to its position relative to A.\n        rangeB[0] += projectedOffset;\n        rangeB[1] += projectedOffset;\n        // Check if there is a gap. If there is, this is a separating axis and we can stop\n        if (rangeA[0] > rangeB[1] || rangeB[0] > rangeA[1]) {\n            T_VECTORS.push(offsetV);\n            T_ARRAYS.push(rangeA);\n            T_ARRAYS.push(rangeB);\n            return true;\n        }\n\n        // This is not a separating axis. If we're calculating a response, calculate the overlap.\n        if (response) {\n            var overlap = 0;\n            // A starts further left than B\n            if (rangeA[0] < rangeB[0]) {\n                response.aInB = false;\n                // A ends before B does. We have to pull A out of B\n                if (rangeA[1] < rangeB[1]) {\n                    overlap = rangeA[1] - rangeB[0];\n                    response.bInA = false;\n                // B is fully inside A.  Pick the shortest way out.\n                } else {\n                    var option1 = rangeA[1] - rangeB[0];\n                    var option2 = rangeB[1] - rangeA[0];\n                    overlap = option1 < option2 ? option1 : -option2;\n                }\n            // B starts further left than A\n            } else {\n                response.bInA = false;\n                // B ends before A ends. We have to push A out of B\n                if (rangeA[1] > rangeB[1]) {\n                    overlap = rangeA[0] - rangeB[1];\n                    response.aInB = false;\n                // A is fully inside B.  Pick the shortest way out.\n                } else {\n                    var option11 = rangeA[1] - rangeB[0];\n                    var option22 = rangeB[1] - rangeA[0];\n                    overlap = option11 < option22 ? option11 : -option22;\n                }\n            }\n\n            // If this is the smallest amount of overlap we've seen so far, set it as the minimum overlap.\n            var absOverlap = Math.abs(overlap);\n            if (absOverlap < response.overlap) {\n                response.overlap = absOverlap;\n                response.overlapN.copy(axis);\n                if (overlap < 0) {\n                    response.overlapN.negateSelf();\n                }\n            }\n        }\n        T_VECTORS.push(offsetV);\n        T_ARRAYS.push(rangeA);\n        T_ARRAYS.push(rangeB);\n        return false;\n    }\n\n\n    /**\n     * Calculates which Vornoi region a point is on a line segment. <br>\n     * It is assumed that both the line and the point are relative to `(0,0)`<br>\n     * <pre>\n     *             |       (0)      |\n     *      (-1)  [S]--------------[E]  (1)\n     *             |       (0)      |\n     * </pre>\n     *\n     * @ignore\n     * @param {Vector} line The line segment.\n     * @param {Vector} point The point.\n     * @return  {number} LEFT_VORNOI_REGION (-1) if it is the left region,\n     *          MIDDLE_VORNOI_REGION (0) if it is the middle region,\n     *          RIGHT_VORNOI_REGION (1) if it is the right region.\n     */\n    function vornoiRegion(line, point) {\n        var len2 = line.length2();\n        var dp = point.dotProduct(line);\n        if (dp < 0) {\n            // If the point is beyond the start of the line, it is in the\n            // left vornoi region.\n            return LEFT_VORNOI_REGION;\n        } else if (dp > len2) {\n            // If the point is beyond the end of the line, it is in the\n            // right vornoi region.\n            return RIGHT_VORNOI_REGION;\n        } else {\n            // Otherwise, it's in the middle one.\n            return MIDDLE_VORNOI_REGION;\n        }\n    }\n\n    /**\n     * A singleton for managing collision detection (and projection-based collision response) of 2D shapes.<br>\n     * Based on the Separating Axis Theorem and supports detecting collisions between simple Axis-Aligned Boxes, convex polygons and circles based shapes.\n     * @namespace me.collision\n     * @memberOf me\n     */\n    me.collision = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * the world quadtree used for the collision broadphase\n         * @name quadTree\n         * @memberOf me.collision\n         * @public\n         * @type {me.QuadTree}\n         */\n        api.quadTree = null;\n\n        /**\n         * The maximum number of levels that the quadtree will create.\n         * @name maxDepth\n         * @memberOf me.collision\n         * @public\n         * @type {Number}\n         * @default 4\n         * @see me.collision.quadTree\n         *\n         */\n        api.maxDepth = 4;\n\n        /**\n         * The maximum number of children that a quadtree node can contain before it is split into sub-nodes.\n         * @name maxChildren\n         * @memberOf me.collision\n         * @public\n         * @type {Number}\n         * @default 8\n         * @see me.collision.quadTree\n         */\n        api.maxChildren = 8;\n\n        /**\n         * bounds of the physic world.\n         * @name bounds\n         * @memberOf me.collision\n         * @public\n         * @type {me.Rect}\n         */\n        api.bounds = null;\n\n        /**\n         * Enum for collision type values.\n         * @property NO_OBJECT to disable collision check\n         * @property PLAYER_OBJECT\n         * @property NPC_OBJECT\n         * @property ENEMY_OBJECT\n         * @property COLLECTABLE_OBJECT\n         * @property ACTION_OBJECT e.g. doors\n         * @property PROJECTILE_OBJECT e.g. missiles\n         * @property WORLD_SHAPE e.g. walls; for map collision shapes\n         * @property USER user-defined collision types (see example)\n         * @property ALL_OBJECT all of the above (including user-defined types)\n         * @readonly\n         * @enum {Number}\n         * @name types\n         * @memberOf me.collision\n         * @see me.body.setCollisionMask\n         * @see me.body.collisionType\n         * @example\n         * // set the entity body collision type\n         * myEntity.body.collisionType = me.collision.types.PLAYER_OBJECT;\n         *\n         * // filter collision detection with collision shapes, enemies and collectables\n         * myEntity.body.setCollisionMask(\n         *     me.collision.types.WORLD_SHAPE |\n         *     me.collision.types.ENEMY_OBJECT |\n         *     me.collision.types.COLLECTABLE_OBJECT\n         * );\n         *\n         * // User-defined collision types are defined using BITWISE LEFT-SHIFT:\n         * game.collisionTypes = {\n         *     LOCKED_DOOR : me.collision.types.USER << 0,\n         *     OPEN_DOOR   : me.collision.types.USER << 1,\n         *     LOOT        : me.collision.types.USER << 2,\n         * };\n         *\n         * // Set collision type for a door entity\n         * myDoorEntity.body.collisionType = game.collisionTypes.LOCKED_DOOR;\n         *\n         * // Set collision mask for the player entity, so it collides with locked doors and loot\n         * myPlayerEntity.body.setCollisionMask(\n         *     me.collision.types.ENEMY_OBJECT |\n         *     me.collision.types.WORLD_SHAPE |\n         *     game.collisionTypes.LOCKED_DOOR |\n         *     game.collisionTypes.LOOT\n         * );\n         */\n        api.types = {\n            /** to disable collision check */\n            NO_OBJECT           : 0,\n            PLAYER_OBJECT       : 1 << 0,\n            NPC_OBJECT          : 1 << 1,\n            ENEMY_OBJECT        : 1 << 2,\n            COLLECTABLE_OBJECT  : 1 << 3,\n            ACTION_OBJECT       : 1 << 4, // door, etc...\n            PROJECTILE_OBJECT   : 1 << 5, // missiles, etc...\n            WORLD_SHAPE         : 1 << 6, // walls, etc...\n            USER                : 1 << 7, // user-defined types start here...\n            ALL_OBJECT          : 0xFFFFFFFF // all objects\n        };\n\n        /**\n         * Initialize the collision/physic world\n         * @ignore\n         */\n        api.init = function () {\n            // default bounds to the game world size\n            api.bounds = me.game.world.getBounds().clone();\n            // initializa the quadtree\n            api.quadTree = new me.QuadTree(api.bounds, api.maxChildren, api.maxDepth);\n\n            // reset the collision detection engine if a new level is loaded\n            me.event.subscribe(me.event.LEVEL_LOADED, function () {\n                // align default bounds to the game world bounds\n                api.bounds.copy(me.game.world.getBounds());\n                // reset the quadtree\n                api.quadTree.clear(api.bounds);\n            });\n        };\n\n        /**\n         * An object representing the result of an intersection.\n         * @property {me.Renderable} a The first object participating in the intersection\n         * @property {me.Renderable} b The second object participating in the intersection\n         * @property {Number} overlap Magnitude of the overlap on the shortest colliding axis\n         * @property {me.Vector2d} overlapV The overlap vector (i.e. `overlapN.scale(overlap, overlap)`). If this vector is subtracted from the position of a, a and b will no longer be colliding\n         * @property {me.Vector2d} overlapN The shortest colliding axis (unit-vector)\n         * @property {Boolean} aInB Whether the first object is entirely inside the second\n         * @property {Boolean} bInA Whether the second object is entirely inside the first\n         * @property {Number} indexShapeA The index of the colliding shape for the object a body\n         * @property {Number} indexShapeB The index of the colliding shape for the object b body\n         * @name ResponseObject\n         * @memberOf me.collision\n         * @public\n         * @type {Object}\n         * @see me.collision.check\n         */\n        api.ResponseObject = function () {\n            this.a = null;\n            this.b = null;\n            this.overlapN = new me.Vector2d();\n            this.overlapV = new me.Vector2d();\n            this.aInB = true;\n            this.bInA = true;\n            this.indexShapeA = -1;\n            this.indexShapeB = -1;\n            this.overlap = Number.MAX_VALUE;\n        };\n\n        /**\n         * Set some values of the response back to their defaults. <br>\n         * Call this between tests if you are going to reuse a single <br>\n         * Response object for multiple intersection tests <br>\n         * (recommended as it will avoid allocating extra memory) <br>\n         * @name clear\n         * @memberOf me.collision.ResponseObject\n         * @public\n         * @function\n         */\n        api.ResponseObject.prototype.clear = function () {\n            this.aInB = true;\n            this.bInA = true;\n            this.overlap = Number.MAX_VALUE;\n            this.indexShapeA = -1;\n            this.indexShapeB = -1;\n            return this;\n        };\n\n        /**\n         * a global instance of a response object used for collision detection <br>\n         * this object will be reused amongst collision detection call if not user-defined response is specified\n         * @name response\n         * @memberOf me.collision\n         * @public\n         * @type {me.collision.ResponseObject}\n         */\n        api.response = new api.ResponseObject();\n\n        /**\n         * a callback used to determine if two objects should collide (based on both respective objects collision mask and type).<br>\n         * you can redefine this function if you need any specific rules over what should collide with what.\n         * @name shouldCollide\n         * @memberOf me.collision\n         * @public\n         * @function\n         * @param {me.Renderable} a a reference to the object A.\n         * @param {me.Renderable} b a reference to the object B.\n         * @return {Boolean} true if they should collide, false otherwise\n         */\n        api.shouldCollide = function (a, b) {\n            return (\n                a.isKinematic !== true && b.isKinematic !== true &&\n                a.body && b.body &&\n                (a.body.collisionMask & b.body.collisionType) !== 0 &&\n                (a.body.collisionType & b.body.collisionMask) !== 0\n            );\n        };\n\n        /**\n         * Checks if the specified entity collides with others entities\n         * @name check\n         * @memberOf me.collision\n         * @public\n         * @function\n         * @param {me.Renderable} obj entity to be tested for collision\n         * @param {me.collision.ResponseObject} [respObj=me.collision.response] a user defined response object that will be populated if they intersect.\n         * @return {Boolean} in case of collision, false otherwise\n         * @example\n         * update : function (dt) {\n         *    // ...\n         *\n         *    // handle collisions against other shapes\n         *    me.collision.check(this);\n         *\n         *    // ...\n         * },\n         *\n         * // colision handler\n         * onCollision : function (response) {\n         *     if (response.b.body.collisionType === me.collision.types.ENEMY_OBJECT) {\n         *         // makes the other entity solid, by substracting the overlap vector to the current position\n         *         this.pos.sub(response.overlapV);\n         *         this.hurt();\n         *         // not solid\n         *         return false;\n         *     }\n         *     // Make the object solid\n         *     return true;\n         * },\n         */\n        api.check = function (objA, responseObject) {\n            var collision = 0;\n            var response = responseObject || api.response;\n\n            // retreive a list of potential colliding objects\n            var candidates = api.quadTree.retrieve(objA);\n\n            for (var i = candidates.length, objB; i--, (objB = candidates[i]);) {\n\n                // check if both objects \"should\" collide\n                if ((objB !== objA) && api.shouldCollide(objA, objB) &&\n                    // fast AABB check if both bounding boxes are overlaping\n                    objA.getBounds().overlaps(objB.getBounds())) {\n\n                    // go trough all defined shapes in A\n                    var aLen = objA.body.shapes.length;\n                    var bLen = objB.body.shapes.length;\n                    if (aLen === 0 || bLen === 0) {\n                        continue;\n                    }\n\n                    var indexA = 0;\n                    do {\n                        var shapeA = objA.body.getShape(indexA);\n                        // go through all defined shapes in B\n                        var indexB = 0;\n                        do {\n                            var shapeB = objB.body.getShape(indexB);\n\n                            // full SAT collision check\n                            if (api[\"test\" + shapeA.shapeType + shapeB.shapeType]\n                                .call(\n                                    this,\n                                    objA, // a reference to the object A\n                                    shapeA,\n                                    objB,  // a reference to the object B\n                                    shapeB,\n                                     // clear response object before reusing\n                                    response.clear()) === true\n                            ) {\n                                // we touched something !\n                                collision++;\n\n                                // set the shape index\n                                response.indexShapeA = indexA;\n                                response.indexShapeB = indexB;\n\n                                // execute the onCollision callback\n                                if (objA.onCollision && objA.onCollision(response, objB) !== false) {\n                                    objA.body.respondToCollision.call(objA.body, response);\n                                }\n                                if (objB.onCollision && objB.onCollision(response, objA) !== false) {\n                                    objB.body.respondToCollision.call(objB.body, response);\n                                }\n                            }\n                            indexB++;\n                        } while (indexB < bLen);\n                        indexA++;\n                    } while (indexA < aLen);\n                }\n            }\n            // we could return the amount of objects we collided with ?\n            return collision > 0;\n        };\n\n        /**\n         * Checks for object colliding with the given line\n         * @name rayCast\n         * @memberOf me.collision\n         * @public\n         * @function\n         * @param {me.Line} line line to be tested for collision\n         * @param {Array.<me.Renderable>} [result] a user defined array that will be populated with intersecting physic objects.\n         * @return {Array.<me.Renderable>} an array of intersecting physic objects\n         * @example\n         *    // define a line accross the viewport\n         *    var ray = new me.Line(\n         *        // absolute position of the line\n         *        0, 0, [\n         *        // starting point relative to the initial position\n         *        new me.Vector2d(0, 0),\n         *        // ending point\n         *        new me.Vector2d(me.game.viewport.width, me.game.viewport.height)\n         *    ]);\n         *\n         *    // check for collition\n         *    result = me.collision.rayCast(ray);\n         *\n         *    if (result.length > 0) {\n         *        // ...\n         *    }\n         */\n        api.rayCast = function (line, resultArray) {\n            var collision = 0;\n            var result = resultArray || [];\n\n            // retrieve a list of potential colliding objects\n            var candidates = api.quadTree.retrieve(line.getBounds());\n\n            for (var i = candidates.length, objB; i--, (objB = candidates[i]);) {\n\n                // fast AABB check if both bounding boxes are overlaping\n                if (objB.body && line.getBounds().overlaps(objB.getBounds())) {\n\n                    // go trough all defined shapes in B (if any)\n                    var bLen = objB.body.shapes.length;\n                    if ( objB.body.shapes.length === 0) {\n                        continue;\n                    }\n\n                    var shapeA = line;\n\n                    // go through all defined shapes in B\n                    var indexB = 0;\n                    do {\n                        var shapeB = objB.body.getShape(indexB);\n\n                        // full SAT collision check\n                        if (api[\"test\" + shapeA.shapeType + shapeB.shapeType]\n                            .call(\n                                this,\n                                dummyEntity, // a reference to the object A\n                                shapeA,\n                                objB,  // a reference to the object B\n                                shapeB\n                        )) {\n                            // we touched something !\n                            result[collision] = objB;\n                            collision++;\n                        }\n                        indexB++;\n                    } while (indexB < bLen);\n                }\n            }\n\n            // cap result in case it was not empty\n            result.length = collision;\n\n            // return the list of colliding objects\n            return result;\n        };\n\n        /**\n         * Checks whether polygons collide.\n         * @ignore\n         * @param {me.Renderable} a a reference to the object A.\n         * @param {me.Polygon} polyA a reference to the object A Polygon to be tested\n         * @param {me.Renderable} b a reference to the object B.\n         * @param {me.Polygon} polyB a reference to the object B Polygon to be tested\n         * @param {Response=} response Response object (optional) that will be populated if they intersect.\n         * @return {boolean} true if they intersect, false if they don't.\n         */\n        api.testPolygonPolygon = function (a, polyA, b, polyB, response) {\n            // specific point for\n            var aPoints = polyA.points;\n            var aNormals = polyA.normals;\n            var aLen = aNormals.length;\n            var bPoints = polyB.points;\n            var bNormals = polyB.normals;\n            var bLen = bNormals.length;\n            // aboslute shape position\n            var posA = T_VECTORS.pop().copy(a.pos).add(a.ancestor._absPos).add(polyA.pos);\n            var posB = T_VECTORS.pop().copy(b.pos).add(b.ancestor._absPos).add(polyB.pos);\n            var i;\n\n            // If any of the edge normals of A is a separating axis, no intersection.\n            for (i = 0; i < aLen; i++) {\n                if (isSeparatingAxis(posA, posB, aPoints, bPoints, aNormals[i], response)) {\n                    T_VECTORS.push(posA);\n                    T_VECTORS.push(posB);\n                    return false;\n                }\n            }\n\n            // If any of the edge normals of B is a separating axis, no intersection.\n            for (i = 0; i < bLen; i++) {\n                if (isSeparatingAxis(posA, posB, aPoints, bPoints, bNormals[i], response)) {\n                    T_VECTORS.push(posA);\n                    T_VECTORS.push(posB);\n                    return false;\n                }\n            }\n\n            // Since none of the edge normals of A or B are a separating axis, there is an intersection\n            // and we've already calculated the smallest overlap (in isSeparatingAxis).  Calculate the\n            // final overlap vector.\n            if (response) {\n                response.a = a;\n                response.b = b;\n                response.overlapV.copy(response.overlapN).scale(response.overlap);\n            }\n            T_VECTORS.push(posA);\n            T_VECTORS.push(posB);\n            return true;\n        };\n\n        /**\n         * Check if two Ellipse collide.\n         * @ignore\n         * @param {me.Renderable} a a reference to the object A.\n         * @param {me.Ellipse} ellipseA a reference to the object A Ellipse to be tested\n         * @param {me.Renderable} b a reference to the object B.\n         * @param {me.Ellipse} ellipseB a reference to the object B Ellipse to be tested\n         * @param {Response=} response Response object (optional) that will be populated if\n         *   the circles intersect.\n         * @return {boolean} true if the circles intersect, false if they don't.\n         */\n        api.testEllipseEllipse = function (a, ellipseA, b, ellipseB, response) {\n            // Check if the distance between the centers of the two\n            // circles is greater than their combined radius.\n            var differenceV = T_VECTORS.pop().copy(b.pos).add(b.ancestor._absPos).add(ellipseB.pos)\n                .sub(a.pos).add(a.ancestor._absPos).sub(ellipseA.pos);\n            var radiusA = ellipseA.radius;\n            var radiusB = ellipseB.radius;\n            var totalRadius = radiusA + radiusB;\n            var totalRadiusSq = totalRadius * totalRadius;\n            var distanceSq = differenceV.length2();\n            // If the distance is bigger than the combined radius, they don't intersect.\n            if (distanceSq > totalRadiusSq) {\n                T_VECTORS.push(differenceV);\n                return false;\n            }\n            // They intersect.  If we're calculating a response, calculate the overlap.\n            if (response) {\n                var dist = Math.sqrt(distanceSq);\n                response.a = a;\n                response.b = b;\n                response.overlap = totalRadius - dist;\n                response.overlapN.copy(differenceV.normalize());\n                response.overlapV.copy(differenceV).scale(response.overlap);\n                response.aInB = radiusA <= radiusB && dist <= radiusB - radiusA;\n                response.bInA = radiusB <= radiusA && dist <= radiusA - radiusB;\n            }\n            T_VECTORS.push(differenceV);\n            return true;\n        };\n\n        /**\n         * Check if a polygon and an ellipse collide.\n         * @ignore\n         * @param {me.Renderable} a a reference to the object A.\n         * @param {me.Polygon} polyA a reference to the object A Polygon to be tested\n         * @param {me.Renderable} b a reference to the object B.\n         * @param {me.Ellipse} ellipseB a reference to the object B Ellipse to be tested\n         * @param {Response=} response Response object (optional) that will be populated if they intersect.\n         * @return {boolean} true if they intersect, false if they don't.\n         */\n        api.testPolygonEllipse = function (a, polyA, b, ellipseB, response) {\n            // Get the position of the circle relative to the polygon.\n            var circlePos = T_VECTORS.pop().copy(b.pos).add(b.ancestor._absPos).add(ellipseB.pos)\n                .sub(a.pos).add(a.ancestor._absPos).sub(polyA.pos);\n            var radius = ellipseB.radius;\n            var radius2 = radius * radius;\n            var points = polyA.points;\n            var edges = polyA.edges;\n            var len = edges.length;\n            var edge = T_VECTORS.pop();\n            var normal = T_VECTORS.pop();\n            var point = T_VECTORS.pop();\n            var dist = 0;\n\n            // For each edge in the polygon:\n            for (var i = 0; i < len; i++) {\n                var next = i === len - 1 ? 0 : i + 1;\n                var prev = i === 0 ? len - 1 : i - 1;\n                var overlap = 0;\n                var overlapN = null;\n\n                // Get the edge.\n                edge.copy(edges[i]);\n                // Calculate the center of the circle relative to the starting point of the edge.\n                point.copy(circlePos).sub(points[i]);\n\n                // If the distance between the center of the circle and the point\n                // is bigger than the radius, the polygon is definitely not fully in\n                // the circle.\n                if (response && point.length2() > radius2) {\n                    response.aInB = false;\n                }\n\n                // Calculate which Vornoi region the center of the circle is in.\n                var region = vornoiRegion(edge, point);\n                var inRegion = true;\n                // If it's the left region:\n                if (region === LEFT_VORNOI_REGION) {\n                    var point2 = null;\n                    if (len > 1) {\n                        // We need to make sure we're in the RIGHT_VORNOI_REGION of the previous edge.\n                        edge.copy(edges[prev]);\n                        // Calculate the center of the circle relative the starting point of the previous edge\n                        point2 = T_VECTORS.pop().copy(circlePos).sub(points[prev]);\n                        region = vornoiRegion(edge, point2);\n                        if (region !== RIGHT_VORNOI_REGION) {\n                            inRegion = false;\n                        }\n                    }\n\n                    if (inRegion) {\n                        // It's in the region we want.  Check if the circle intersects the point.\n                        dist = point.length();\n                        if (dist > radius) {\n                            // No intersection\n                            T_VECTORS.push(circlePos);\n                            T_VECTORS.push(edge);\n                            T_VECTORS.push(normal);\n                            T_VECTORS.push(point);\n                            if (point2) {\n                                T_VECTORS.push(point2);\n                            }\n                            return false;\n                        } else if (response) {\n                            // It intersects, calculate the overlap.\n                            response.bInA = false;\n                            overlapN = point.normalize();\n                            overlap = radius - dist;\n                        }\n                    }\n\n                    if (point2) {\n                        T_VECTORS.push(point2);\n                    }\n                // If it's the right region:\n                } else if (region === RIGHT_VORNOI_REGION) {\n                    if (len > 1) {\n                        // We need to make sure we're in the left region on the next edge\n                        edge.copy(edges[next]);\n                        // Calculate the center of the circle relative to the starting point of the next edge.\n                        point.copy(circlePos).sub(points[next]);\n                        region = vornoiRegion(edge, point);\n                        if (region !== LEFT_VORNOI_REGION) {\n                            inRegion = false;\n                        }\n                    }\n\n                    if (inRegion) {\n                        // It's in the region we want.  Check if the circle intersects the point.\n                        dist = point.length();\n                        if (dist > radius) {\n                            // No intersection\n                            T_VECTORS.push(circlePos);\n                            T_VECTORS.push(edge);\n                            T_VECTORS.push(normal);\n                            T_VECTORS.push(point);\n                            return false;\n                        } else if (response) {\n                            // It intersects, calculate the overlap.\n                            response.bInA = false;\n                            overlapN = point.normalize();\n                            overlap = radius - dist;\n                        }\n                    }\n                // Otherwise, it's the middle region:\n                } else {\n                    // Need to check if the circle is intersecting the edge,\n                    // Get the normal.\n                    normal.copy(polyA.normals[i]);\n                    // Find the perpendicular distance between the center of the\n                    // circle and the edge.\n                    dist = point.dotProduct(normal);\n                    var distAbs = Math.abs(dist);\n                    // If the circle is on the outside of the edge, there is no intersection.\n                    if ((len === 1 || dist > 0) && distAbs > radius) {\n                        // No intersection\n                        T_VECTORS.push(circlePos);\n                        T_VECTORS.push(edge);\n                        T_VECTORS.push(normal);\n                        T_VECTORS.push(point);\n                        return false;\n                    } else if (response) {\n                        // It intersects, calculate the overlap.\n                        overlapN = normal;\n                        overlap = radius - dist;\n                        // If the center of the circle is on the outside of the edge, or part of the\n                        // circle is on the outside, the circle is not fully inside the polygon.\n                        if (dist >= 0 || overlap < 2 * radius) {\n                            response.bInA = false;\n                        }\n                    }\n                }\n\n                // If this is the smallest overlap we've seen, keep it.\n                // (overlapN may be null if the circle was in the wrong Vornoi region).\n                if (overlapN && response && Math.abs(overlap) < Math.abs(response.overlap)) {\n                    response.overlap = overlap;\n                    response.overlapN.copy(overlapN);\n                }\n            }\n\n            // Calculate the final overlap vector - based on the smallest overlap.\n            if (response) {\n                response.a = a;\n                response.b = b;\n                response.overlapV.copy(response.overlapN).scale(response.overlap);\n            }\n            T_VECTORS.push(circlePos);\n            T_VECTORS.push(edge);\n            T_VECTORS.push(normal);\n            T_VECTORS.push(point);\n            return true;\n        };\n\n        /**\n         * Check if an ellipse and a polygon collide. <br>\n         * **NOTE:** This is slightly less efficient than testPolygonEllipse as it just\n         * runs testPolygonEllipse and reverses the response at the end.\n         * @ignore\n         * @param {me.Renderable} a a reference to the object A.\n         * @param {me.Ellipse} ellipseA a reference to the object A Ellipse to be tested\n         * @param {me.Renderable} a a reference to the object B.\n         * @param {me.Polygon} polyB a reference to the object B Polygon to be tested\n         * @param {Response=} response Response object (optional) that will be populated if\n         *   they intersect.\n         * @return {boolean} true if they intersect, false if they don't.\n         */\n        api.testEllipsePolygon = function (a, ellipseA, b, polyB, response) {\n            // Test the polygon against the circle.\n            var result = api.testPolygonEllipse(b, polyB, a, ellipseA, response);\n            if (result && response) {\n                // Swap A and B in the response.\n                var resa = response.a;\n                var aInB = response.aInB;\n                response.overlapN.negateSelf();\n                response.overlapV.negateSelf();\n                response.a = response.b;\n                response.b = resa;\n                response.aInB = response.bInA;\n                response.bInA = aInB;\n            }\n            return result;\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","(function () {\n\n    /**\n     * A base class for renderable objects.\n     * @class\n     * @extends me.Rect\n     * @memberOf me\n     * @constructor\n     * @param {Number} x position of the renderable object (accessible through inherited pos.x property)\n     * @param {Number} y position of the renderable object (accessible through inherited pos.y property)\n     * @param {Number} width object width\n     * @param {Number} height object height\n     */\n    me.Renderable = me.Rect.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, width, height) {\n            /**\n             * to identify the object as a renderable object\n             * @ignore\n             */\n            this.isRenderable = true;\n\n            /**\n             * If true then physic collision and input events will not impact this renderable\n             * @public\n             * @type Boolean\n             * @default true\n             * @name isKinematic\n             * @memberOf me.Renderable\n             */\n            this.isKinematic = true;\n\n            /**\n             * the renderable physic body\n             * @public\n             * @type {me.Body}\n             * @see me.Body\n             * @see me.collision.check\n             * @name body\n             * @memberOf me.Renderable#\n             * @example\n             *  // define a new Player Class\n             *  game.PlayerEntity = me.Sprite.extend({\n             *      // constructor\n             *      init:function (x, y, settings) {\n             *          // call the parent constructor\n             *          this._super(me.Sprite, 'init', [x, y , settings]);\n             *\n             *          // define a basic walking animation\n             *          this.addAnimation(\"walk\",  [...]);\n             *          // define a standing animation (using the first frame)\n             *          this.addAnimation(\"stand\",  [...]);\n             *          // set the standing animation as default\n             *          this.setCurrentAnimation(\"stand\");\n             *\n             *          // add a physic body\n             *          this.body = new me.Body(this);\n             *          // add a default collision shape\n             *          this.body.addShape(new me.Rect(0, 0, this.width, this.height));\n             *          // configure max speed and friction\n             *          this.body.setMaxVelocity(3, 15);\n             *          this.body.setFriction(0.4, 0);\n             *\n             *          // enable physic collision (off by default for basic me.Renderable)\n             *          this.isKinematic = false;\n             *\n             *          // set the display to follow our position on both axis\n             *          me.game.viewport.follow(this.pos, me.game.viewport.AXIS.BOTH);\n             *      },\n             *\n             *      ...\n             *\n             * }\n             */\n            this.body = undefined;\n\n            /**\n             * the renderable default transformation matrix\n             * @public\n             * @type me.Matrix2d\n             * @name currentTransform\n             * @memberOf me.Renderable#\n             */\n            if (typeof this.currentTransform === \"undefined\") {\n                this.currentTransform = me.pool.pull(\"me.Matrix2d\");\n            }\n            this.currentTransform.identity();\n\n           /**\n            * (G)ame (U)nique (Id)entifier\" <br>\n            * a GUID will be allocated for any renderable object added <br>\n            * to an object container (including the `me.game.world` container)\n            * @public\n            * @type String\n            * @name GUID\n            * @memberOf me.Renderable\n            */\n            this.GUID = undefined;\n\n            /**\n             * an event handler that is called when the renderable leave or enter a camera viewport\n             * @public\n             * @type function\n             * @default undefined\n             * @name onVisibilityChange\n             * @memberOf me.Renderable#\n             * @example\n             * this.onVisibilityChange = function(inViewport) {\n             *     if (inViewport === true) {\n             *         console.log(\"object has entered the in a camera viewport!\");\n             *     }\n             * };\n             */\n            this.onVisibilityChange = undefined;\n\n            /**\n             * Whether the renderable object will always update, even when outside of the viewport<br>\n             * @public\n             * @type Boolean\n             * @default false\n             * @name alwaysUpdate\n             * @memberOf me.Renderable\n             */\n            this.alwaysUpdate = false;\n\n            /**\n             * Whether to update this object when the game is paused.\n             * @public\n             * @type Boolean\n             * @default false\n             * @name updateWhenPaused\n             * @memberOf me.Renderable\n             */\n            this.updateWhenPaused = false;\n\n            /**\n             * make the renderable object persistent over level changes<br>\n             * @public\n             * @type Boolean\n             * @default false\n             * @name isPersistent\n             * @memberOf me.Renderable\n             */\n            this.isPersistent = false;\n\n            /**\n             * If true, this renderable will be rendered using screen coordinates,\n             * as opposed to world coordinates. Use this, for example, to define UI elements.\n             * @public\n             * @type Boolean\n             * @default false\n             * @name floating\n             * @memberOf me.Renderable\n             */\n            this.floating = false;\n\n            /**\n             * The anchor point is used for attachment behavior, and/or when applying transformations.<br>\n             * The coordinate system places the origin at the top left corner of the frame (0, 0) and (1, 1) means the bottom-right corner<br>\n             * <img src=\"images/anchor_point.png\"/> :<br>\n             * a Renderable's anchor point defaults to (0.5,0.5), which corresponds to the center position.<br>\n             * @public\n             * @type me.ObservableVector2d\n             * @default <0.5,0.5>\n             * @name anchorPoint\n             * @memberOf me.Renderable#\n             */\n            if (this.anchorPoint instanceof me.ObservableVector2d) {\n                this.anchorPoint.setMuted(0.5, 0.5).setCallback(this.onAnchorUpdate.bind(this));\n            } else {\n                this.anchorPoint = me.pool.pull(\"me.ObservableVector2d\", 0.5, 0.5, { onUpdate: this.onAnchorUpdate.bind(this) });\n            }\n\n            /**\n             * When enabled, an object container will automatically apply\n             * any defined transformation before calling the child draw method.\n             * @public\n             * @type Boolean\n             * @default true\n             * @name autoTransform\n             * @memberOf me.Renderable\n             * @example\n             * // enable \"automatic\" transformation when the object is activated\n             * onActivateEvent: function () {\n             *     // reset the transformation matrix\n             *     this.renderable.currentTransform.identity();\n             *     // ensure the anchor point is the renderable center\n             *     this.renderable.anchorPoint.set(0.5, 0.5);\n             *     // enable auto transform\n             *     this.renderable.autoTransform = true;\n             *     ....\n             * },\n             * // add a rotation effect when updating the entity\n             * update : function (dt) {\n             *     ....\n             *     this.renderable.currentTransform.rotate(0.025);\n             *     ....\n             *     return this._super(me.Entity, 'update', [dt]);\n             * },\n             */\n            this.autoTransform = true;\n\n            /**\n             * Define the renderable opacity<br>\n             * Set to zero if you do not wish an object to be drawn\n             * @see me.Renderable#setOpacity\n             * @see me.Renderable#getOpacity\n             * @public\n             * @type Number\n             * @default 1.0\n             * @name me.Renderable#alpha\n             */\n            this.alpha = 1.0;\n\n            /**\n             * a reference to the parent object that contains this renderable\n             * @public\n             * @type me.Container|me.Entity\n             * @default undefined\n             * @name me.Renderable#ancestor\n             */\n            this.ancestor = undefined;\n\n            /**\n             * The bounding rectangle for this renderable\n             * @ignore\n             * @type {me.Rect}\n             * @name _bounds\n             * @memberOf me.Renderable\n             */\n            if (this._bounds instanceof me.Rect) {\n                this._bounds.setShape(x, y, width, height);\n            } else {\n                this._bounds = me.pool.pull(\"me.Rect\", x, y, width, height);\n            }\n\n            /**\n             * A mask limits rendering elements to the shape and position of the given mask object.\n             * So, if the renderable is larger than the mask, only the intersecting part of the renderable will be visible.\n             * @public\n             * @type {me.Rect|me.Polygon|me.Line|me.Ellipse}\n             * @name mask\n             * @default undefined\n             * @memberOf me.Renderable#\n             * @example\n             * // apply a mask in the shape of a Star\n             * myNPCSprite.mask = new me.Polygon(myNPCSprite.width / 2, 0, [\n             *    // draw a star\n             *    {x: 0, y: 0},\n             *    {x: 14, y: 30},\n             *    {x: 47, y: 35},\n             *    {x: 23, y: 57},\n             *    {x: 44, y: 90},\n             *    {x: 0, y: 62},\n             *    {x: -44, y: 90},\n             *    {x: -23, y: 57},\n             *    {x: -47, y: 35},\n             *    {x: -14, y: 30}\n             * ]);\n             */\n            this.mask = undefined;\n\n            /**\n             * apply a tint to this renderable (WebGL Only)\n             * @public\n             * @type {me.Color}\n             * @name tint\n             * @default undefined\n             * @memberOf me.Renderable#\n             * @example\n             * // add a red tint to this renderable\n             * this.renderable.tint = new me.Color(255, 128, 128);\n             * // disable the tint\n             * this.renderable.tint.setColor(255, 255, 255);\n             */\n            this.tint = undefined;\n\n            /**\n             * The name of the renderable\n             * @public\n             * @type {String}\n             * @name name\n             * @default \"\"\n             * @memberOf me.Renderable\n             */\n            this.name = \"\";\n\n            /**\n             * Absolute position in the game world\n             * @ignore\n             * @type {me.Vector2d}\n             * @name _absPos\n             * @memberOf me.Renderable#\n             */\n            if (this._absPos instanceof me.Vector2d) {\n                this._absPos.set(x, y);\n            }\n            else {\n                this._absPos = me.pool.pull(\"me.Vector2d\", x, y);\n            }\n\n            /**\n             * Position of the Renderable relative to its parent container\n             * @public\n             * @type {me.ObservableVector3d}\n             * @name pos\n             * @memberOf me.Renderable#\n             */\n            if (this.pos instanceof me.ObservableVector3d) {\n                this.pos.setMuted(x, y, 0).setCallback(this.updateBoundsPos.bind(this));\n            } else {\n                this.pos = me.pool.pull(\"me.ObservableVector3d\", x, y, 0, { onUpdate: this.updateBoundsPos.bind(this) });\n            }\n\n            this._width = width;\n            this._height = height;\n\n            // keep track of when we flip\n            this._flip = {\n                x : false,\n                y : false\n            };\n\n            // viewport flag\n            this._inViewport = false;\n\n            this.shapeType = \"Rectangle\";\n\n            // ensure it's fully opaque by default\n            this.setOpacity(1.0);\n        },\n\n        /** @ignore */\n        onResetEvent : function () {\n            this.init.apply(this, arguments);\n        },\n\n        /**\n         * returns the bounding box for this renderable\n         * @name getBounds\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @return {me.Rect} bounding box Rectangle object\n         */\n        getBounds : function () {\n            return this._bounds;\n        },\n\n        /**\n         * get the renderable alpha channel value<br>\n         * @name getOpacity\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @return {Number} current opacity value between 0 and 1\n         */\n        getOpacity : function () {\n            return this.alpha;\n        },\n\n        /**\n         * set the renderable alpha channel value<br>\n         * @name setOpacity\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @param {Number} alpha opacity value between 0.0 and 1.0\n         */\n        setOpacity : function (alpha) {\n            if (typeof (alpha) === \"number\") {\n                this.alpha = me.Math.clamp(alpha, 0.0, 1.0);\n                // Set to 1 if alpha is NaN\n                if (isNaN(this.alpha)) {\n                    this.alpha = 1.0;\n                }\n            }\n        },\n\n        /**\n         * flip the renderable on the horizontal axis (around the center of the renderable)\n         * @see me.Matrix2d.scaleX\n         * @name flipX\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @param {Boolean} [flip=false] `true` to flip this renderable.\n         * @return {me.Renderable} Reference to this object for method chaining\n         */\n        flipX : function (flip) {\n            this._flip.x = !!flip;\n            return this;\n        },\n\n        /**\n         * flip the renderable on the vertical axis (around the center of the renderable)\n         * @see me.Matrix2d.scaleY\n         * @name flipY\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @param {Boolean} [flip=false] `true` to flip this renderable.\n         * @return {me.Renderable} Reference to this object for method chaining\n         */\n        flipY : function (flip) {\n            this._flip.y = !!flip;\n            return this;\n        },\n\n        /**\n         * multiply the renderable currentTransform with the given matrix\n         * @name transform\n         * @memberOf me.Renderable.prototype\n         * @see me.Renderable#currentTransform\n         * @function\n         * @param {me.Matrix2d} matrix the transformation matrix\n         * @return {me.Renderable} Reference to this object for method chaining\n         */\n        transform : function (m) {\n            var bounds = this.getBounds();\n            this.currentTransform.multiply(m);\n            bounds.setPoints(bounds.transform(m).points);\n            bounds.pos.setV(this.pos);\n            return this;\n        },\n\n        /**\n         * scale the renderable around his anchor point.  Scaling actually applies changes\n         * to the currentTransform member wich is used by the renderer to scale the object\n         * when rendering.  It does not scale the object itself.  For example if the renderable\n         * is an image, the image.width and image.height properties are unaltered but the currentTransform\n         * member will be changed.\n         * @name scale\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @param {Number} x a number representing the abscissa of the scaling vector.\n         * @param {Number} [y=x] a number representing the ordinate of the scaling vector.\n         * @return {me.Renderable} Reference to this object for method chaining\n         */\n        scale : function (x, y) {\n            var _x = x,\n                _y = typeof(y) === \"undefined\" ? _x : y;\n\n            // set the scaleFlag\n            this.currentTransform.scale(_x, _y);\n            // resize the bounding box\n            this.getBounds().resize(this.width * _x, this.height * _y);\n            return this;\n        },\n\n        /**\n         * scale the renderable around his anchor point\n         * @name scaleV\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @param {me.Vector2d} vector scaling vector\n         * @return {me.Renderable} Reference to this object for method chaining\n         */\n        scaleV : function (v) {\n            this.scale(v.x, v.y);\n            return this;\n        },\n\n        /**\n         * update function. <br>\n         * automatically called by the game manager {@link me.game}\n         * @name update\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @protected\n         * @param {Number} dt time since the last update in milliseconds.\n         * @return false\n         **/\n        update : function (/* dt */) {\n            return false;\n        },\n\n        /**\n         * update the renderable's bounding rect (private)\n         * @ignore\n         * @name updateBoundsPos\n         * @memberOf me.Renderable.prototype\n         * @function\n         */\n        updateBoundsPos : function (newX, newY) {\n            var bounds = this.getBounds();\n            bounds.pos.set(newX, newY, bounds.pos.z);\n            // XXX: This is called from the constructor, before it gets an ancestor\n            if (this.ancestor instanceof me.Container && !this.floating) {\n                bounds.pos.add(this.ancestor._absPos);\n            }\n            return bounds;\n        },\n\n        /**\n         * called when the anchor point value is changed\n         * @private\n         * @name onAnchorUpdate\n         * @memberOf me.Renderable.prototype\n         * @function\n         */\n        onAnchorUpdate : function () {\n            ; // to be extended\n        },\n\n        /**\n         * update the bounds\n         * @private\n         * @deprecated\n         * @name updateBounds\n         * @memberOf me.Renderable.prototype\n         * @function\n         */\n        updateBounds : function () {\n            console.warn(\"Deprecated: me.Renderable.updateBounds\");\n            return this._super(me.Rect, \"updateBounds\");\n        },\n\n        /**\n         * prepare the rendering context before drawing\n         * (apply defined transforms, anchor point). <br>\n         * automatically called by the game manager {@link me.game}\n         * @name preDraw\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @protected\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer a renderer object\n         **/\n        preDraw : function (renderer) {\n            var bounds = this.getBounds();\n            var ax = bounds.width * this.anchorPoint.x,\n                ay = bounds.height * this.anchorPoint.y;\n\n            // save context\n            renderer.save();\n            // apply the defined alpha value\n            renderer.setGlobalAlpha(renderer.globalAlpha() * this.getOpacity());\n\n            // apply flip\n            if (this._flip.x || this._flip.y) {\n                var dx = this._flip.x ? this.centerX - ax : 0,\n                    dy = this._flip.y ? this.centerY - ay : 0;\n\n                renderer.translate(dx, dy);\n                renderer.scale(this._flip.x  ? -1 : 1, this._flip.y  ? -1 : 1);\n                renderer.translate(-dx, -dy);\n            }\n\n            if ((this.autoTransform === true) && (!this.currentTransform.isIdentity())) {\n                this.currentTransform.translate(-ax, -ay);\n                // apply the renderable transformation matrix\n                renderer.transform(this.currentTransform);\n                this.currentTransform.translate(ax, ay);\n            } else {\n                // translate to the defined anchor point\n                renderer.translate(-ax, -ay);\n            }\n\n            if (typeof this.mask !== \"undefined\") {\n                renderer.setMask(this.mask);\n            }\n\n            if (typeof this.tint !== \"undefined\") {\n                renderer.setTint(this.tint);\n            }\n\n        },\n\n        /**\n         * object draw. <br>\n         * automatically called by the game manager {@link me.game}\n         * @name draw\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @protected\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer a renderer object\n         **/\n        draw : function (/*renderer*/) {\n            // empty one !\n        },\n\n        /**\n         * restore the rendering context after drawing. <br>\n         * automatically called by the game manager {@link me.game}\n         * @name postDraw\n         * @memberOf me.Renderable.prototype\n         * @function\n         * @protected\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer a renderer object\n         **/\n        postDraw : function (renderer) {\n            if (typeof this.mask !== \"undefined\") {\n                renderer.clearMask();\n            }\n            if (typeof this.tint !== \"undefined\") {\n                renderer.clearTint();\n            }\n            // restore the context\n            renderer.restore();\n        },\n\n        /**\n         * Destroy function<br>\n         * @ignore\n         */\n        destroy : function () {\n            // allow recycling object properties\n            me.pool.push(this.currentTransform);\n            this.currentTransform = undefined;\n\n            me.pool.push(this.anchorPoint);\n            this.anchorPoint = undefined;\n\n            me.pool.push(this.pos);\n            this.pos = undefined;\n\n            me.pool.push(this._absPos);\n            this._absPos = undefined;\n\n            me.pool.push(this._bounds);\n            this._bounds = undefined;\n\n            this.onVisibilityChange = undefined;\n\n            if (typeof this.mask !== \"undefined\") {\n                me.pool.push(this.mask);\n                this.mask = undefined;\n            }\n\n            if (typeof this.tint !== \"undefined\") {\n                me.pool.push(this.tint);\n                this.tint = undefined;\n            }\n\n            this.ancestor = undefined;\n\n            // destroy the physic body if defined\n            if (typeof this.body !== \"undefined\") {\n                this.body.destroy.apply(this.body, arguments);\n                this.body = undefined;\n            }\n\n            this.onDestroyEvent.apply(this, arguments);\n        },\n\n        /**\n         * OnDestroy Notification function<br>\n         * Called by engine before deleting the object\n         * @name onDestroyEvent\n         * @memberOf me.Renderable\n         * @function\n         */\n        onDestroyEvent : function () {\n            // to be extended !\n        }\n    });\n\n    /**\n     * Whether the renderable object is visible and within the viewport\n     * @public\n     * @readonly\n     * @type Boolean\n     * @default false\n     * @name inViewport\n     * @memberOf me.Renderable\n     */\n    Object.defineProperty(me.Renderable.prototype, \"inViewport\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this._inViewport;\n        },\n        /**\n         * @ignore\n         */\n        set : function (value) {\n            if (this._inViewport !== value) {\n                this._inViewport = value;\n                if (typeof this.onVisibilityChange === \"function\") {\n                    this.onVisibilityChange.call(this, value);\n                }\n            }\n        },\n        configurable : true\n    });\n\n    /**\n     * width of the Renderable bounding box\n     * @public\n     * @type {Number}\n     * @name width\n     * @memberOf me.Renderable\n     */\n    Object.defineProperty(me.Renderable.prototype, \"width\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this._width;\n        },\n        /**\n         * @ignore\n         */\n        set : function (value) {\n            if (this._width !== value) {\n                this.getBounds().width = value;\n                this._width = value;\n            }\n        },\n        configurable : true\n    });\n\n    /**\n     * height of the Renderable bounding box\n     * @public\n     * @type {Number}\n     * @name height\n     * @memberOf me.Renderable\n     */\n    Object.defineProperty(me.Renderable.prototype, \"height\", {\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this._height;\n        },\n        /**\n         * @ignore\n         */\n        set : function (value) {\n            if (this._height !== value) {\n                this.getBounds().height = value;\n                this._height = value;\n            }\n        },\n        configurable : true\n    });\n})();\n","(function () {\n\n    /**\n     * a generic Color Layer Object.  Fills the entire Canvas with the color not just the container the object belongs to.\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {String} name Layer name\n     * @param {me.Color|String} color CSS color\n     * @param {Number} z z-index position\n     */\n    me.ColorLayer = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init: function (name, color, z) {\n            // parent constructor\n            this._super(me.Renderable, \"init\", [0, 0, Infinity, Infinity]);\n\n            // apply given parameters\n            this.name = name;\n            this.pos.z = z;\n            this.floating = true;\n\n            /**\n             * the layer color component\n             * @public\n             * @type me.Color\n             * @name color\n             * @memberOf me.ColorLayer#\n             */\n            // parse the given color\n            if (color instanceof me.Color) {\n                this.color = color;\n            } else {\n                // string (#RGB, #ARGB, #RRGGBB, #AARRGGBB)\n                this.color = me.pool.pull(\"me.Color\").parseCSS(color);\n            }\n            this.anchorPoint.set(0, 0);\n        },\n\n        /**\n         * draw the color layer\n         * @ignore\n         */\n        draw : function (renderer, rect) {\n            var color = renderer.getColor();\n            var vpos = me.game.viewport.pos;\n            renderer.setColor(this.color);\n            renderer.fillRect(\n                rect.left - vpos.x, rect.top - vpos.y,\n                rect.width, rect.height\n            );\n            renderer.setColor(color);\n        },\n\n        /**\n         * Destroy function\n         * @ignore\n         */\n        destroy : function () {\n            me.pool.push(this.color);\n            this.color = undefined;\n            this._super(me.Renderable, \"destroy\");\n        }\n    });\n\n})();\n","(function () {\n\n    /**\n     * a generic Image Layer Object\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {Number} x x coordinate\n     * @param {Number} y y coordinate\n     * @param {Object} settings ImageLayer properties\n     * @param {HTMLImageElement|HTMLCanvasElement|String} settings.image Image reference. See {@link me.loader.getImage}\n     * @param {String} [settings.name=\"me.ImageLayer\"] layer name\n     * @param {Number} [settings.z=0] z-index position\n     * @param {Number|me.Vector2d} [settings.ratio=1.0] Scrolling ratio to be applied. See {@link me.ImageLayer#ratio}\n     * @param {String} [settings.repeat='repeat'] define if and how an Image Layer should be repeated (accepted values are 'repeat',\n 'repeat-x', 'repeat-y', 'no-repeat'). See {@link me.ImageLayer#repeat}\n     * @param {Number|me.Vector2d} [settings.anchorPoint=0.0] Image origin. See {@link me.ImageLayer#anchorPoint}\n     * @example\n     * // create a repetitive background pattern on the X axis using the citycloud image asset\n     * me.game.world.addChild(new me.ImageLayer(0, 0, {\n     *     image:\"citycloud\",\n     *     repeat :\"repeat-x\"\n     * }), 1);\n     */\n    me.ImageLayer = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init: function (x, y, settings) {\n            // call the constructor\n            this._super(me.Renderable, \"init\", [x, y, Infinity, Infinity]);\n\n            // get the corresponding image\n            this.image = (typeof settings.image === \"object\") ? settings.image : me.loader.getImage(settings.image);\n\n            // throw an error if image is null/undefined\n            if (!this.image) {\n                throw new Error((\n                    (typeof(settings.image) === \"string\") ?\n                    \"'\" + settings.image + \"'\" :\n                    \"Image\"\n                ) + \" file for Image Layer '\" + this.name + \"' not found!\");\n            }\n\n            this.imagewidth = this.image.width;\n            this.imageheight = this.image.height;\n\n            // set the sprite name if specified\n            if (typeof (settings.name) === \"string\") {\n                this.name = settings.name;\n            }\n\n            // render in screen coordinates\n            this.floating = true;\n\n            // displaying order\n            this.pos.z = settings.z || 0;\n\n            this.offset = me.pool.pull(\"me.Vector2d\", x, y);\n\n            /**\n             * Define the image scrolling ratio<br>\n             * Scrolling speed is defined by multiplying the viewport delta position (e.g. followed entity) by the specified ratio.\n             * Setting this vector to &lt;0.0,0.0&gt; will disable automatic scrolling.<br>\n             * To specify a value through Tiled, use one of the following format : <br>\n             * - a number, to change the value for both axis <br>\n             * - a json expression like `json:{\"x\":0.5,\"y\":0.5}` if you wish to specify a different value for both x and y\n             * @public\n             * @type me.Vector2d\n             * @default <1.0,1.0>\n             * @name me.ImageLayer#ratio\n             */\n            this.ratio = me.pool.pull(\"me.Vector2d\", 1.0, 1.0);\n\n            if (typeof(settings.ratio) !== \"undefined\") {\n                // little hack for backward compatiblity\n                if (typeof(settings.ratio) === \"number\") {\n                    this.ratio.set(settings.ratio, settings.ratio);\n                } else /* vector */ {\n                    this.ratio.setV(settings.ratio);\n                }\n            }\n\n            if (typeof(settings.anchorPoint) === \"undefined\") {\n                /**\n                 * Define how the image is anchored to the viewport bounds<br>\n                 * By default, its upper-left corner is anchored to the viewport bounds upper left corner.<br>\n                 * The anchorPoint is a unit vector where each component falls in range [0.0,1.0].<br>\n                 * Some common examples:<br>\n                 * * &lt;0.0,0.0&gt; : (Default) Anchor image to the upper-left corner of viewport bounds\n                 * * &lt;0.5,0.5&gt; : Center the image within viewport bounds\n                 * * &lt;1.0,1.0&gt; : Anchor image to the lower-right corner of viewport bounds\n                 * To specify a value through Tiled, use one of the following format : <br>\n                 * - a number, to change the value for both axis <br>\n                 * - a json expression like `json:{\"x\":0.5,\"y\":0.5}` if you wish to specify a different value for both x and y\n                 * @public\n                 * @type me.Vector2d\n                 * @default <0.0,0.0>\n                 * @name me.ImageLayer#anchorPoint\n                 */\n                this.anchorPoint.set(0, 0);\n            }\n            else {\n                if (typeof(settings.anchorPoint) === \"number\") {\n                    this.anchorPoint.set(settings.anchorPoint, settings.anchorPoint);\n                }\n                else /* vector */ {\n                    this.anchorPoint.setV(settings.anchorPoint);\n                }\n            }\n\n            /**\n             * Define if and how an Image Layer should be repeated.<br>\n             * By default, an Image Layer is repeated both vertically and horizontally.<br>\n             * Acceptable values : <br>\n             * * 'repeat' - The background image will be repeated both vertically and horizontally <br>\n             * * 'repeat-x' - The background image will be repeated only horizontally.<br>\n             * * 'repeat-y' - The background image will be repeated only vertically.<br>\n             * * 'no-repeat' - The background-image will not be repeated.<br>\n             * @public\n             * @type String\n             * @default 'repeat'\n             * @name me.ImageLayer#repeat\n             */\n            Object.defineProperty(this, \"repeat\", {\n                /**\n                 * @ignore\n                 */\n                get : function get() {\n                    return this._repeat;\n                },\n                /**\n                 * @ignore\n                 */\n                set : function set(val) {\n                    this._repeat = val;\n                    switch (this._repeat) {\n                        case \"no-repeat\" :\n                            this.repeatX = false;\n                            this.repeatY = false;\n                            break;\n                        case \"repeat-x\" :\n                            this.repeatX = true;\n                            this.repeatY = false;\n                            break;\n                        case \"repeat-y\" :\n                            this.repeatX = false;\n                            this.repeatY = true;\n                            break;\n                        default : // \"repeat\"\n                            this.repeatX = true;\n                            this.repeatY = true;\n                            break;\n                    }\n                    this.resize(me.game.viewport.width, me.game.viewport.height);\n                    this.createPattern();\n                },\n                configurable: true\n            });\n\n            this.repeat = settings.repeat || \"repeat\";\n\n            // on context lost, all previous textures are destroyed\n            me.event.subscribe(me.event.WEBGL_ONCONTEXT_RESTORED, this.createPattern.bind(this));\n        },\n\n        // called when the layer is added to the game world or a container\n        onActivateEvent : function () {\n            var _updateLayerFn = this.updateLayer.bind(this);\n            // register to the viewport change notification\n            this.vpChangeHdlr = me.event.subscribe(me.event.VIEWPORT_ONCHANGE, _updateLayerFn);\n            this.vpResizeHdlr = me.event.subscribe(me.event.VIEWPORT_ONRESIZE, this.resize.bind(this));\n            this.vpLoadedHdlr = me.event.subscribe(me.event.LEVEL_LOADED, function() {\n                // force a first refresh when the level is loaded\n                _updateLayerFn(me.game.viewport.pos);\n            });\n            // in case the level is not added to the root container,\n            // the onActivateEvent call happens after the LEVEL_LOADED event\n            // so we need to force a first update\n            if (this.ancestor.root !== true) {\n                this.updateLayer(me.game.viewport.pos);\n            }\n        },\n\n        /**\n         * resize the Image Layer to match the given size\n         * @name resize\n         * @memberOf me.ImageLayer.prototype\n         * @function\n         * @param {Number} w new width\n         * @param {Number} h new height\n        */\n        resize : function (w, h) {\n            this._super(me.Renderable, \"resize\", [\n                this.repeatX ? Infinity : w,\n                this.repeatY ? Infinity : h\n            ]);\n        },\n\n        /**\n         * createPattern function\n         * @ignore\n         * @function\n         */\n        createPattern : function () {\n            this._pattern = me.video.renderer.createPattern(this.image, this._repeat);\n        },\n\n        /**\n         * updateLayer function\n         * @ignore\n         * @function\n         */\n        updateLayer : function (vpos) {\n            var rx = this.ratio.x,\n                ry = this.ratio.y;\n\n            if (rx === ry === 0) {\n                // static image\n                return;\n            }\n\n            var viewport = me.game.viewport,\n                width = this.imagewidth,\n                height = this.imageheight,\n                bw = viewport.bounds.width,\n                bh = viewport.bounds.height,\n                ax = this.anchorPoint.x,\n                ay = this.anchorPoint.y,\n\n                /*\n                 * Automatic positioning\n                 *\n                 * See https://github.com/melonjs/melonJS/issues/741#issuecomment-138431532\n                 * for a thorough description of how this works.\n                 */\n                x = ax * (rx - 1) * (bw - viewport.width) + this.offset.x - rx * vpos.x,\n                y = ay * (ry - 1) * (bh - viewport.height) + this.offset.y - ry * vpos.y;\n\n\n            // Repeat horizontally; start drawing from left boundary\n            if (this.repeatX) {\n                this.pos.x = x % width;\n            }\n            else {\n                this.pos.x = x;\n            }\n\n            // Repeat vertically; start drawing from top boundary\n            if (this.repeatY) {\n                this.pos.y = y % height;\n            }\n            else {\n                this.pos.y = y;\n            }\n        },\n\n       /*\n        * override the default predraw function\n        * as repeat and anchor are managed directly in the draw method\n        * @ignore\n        */\n        preDraw : function (renderer) {\n            // save the context\n            renderer.save();\n            // apply the defined alpha value\n            renderer.setGlobalAlpha(renderer.globalAlpha() * this.getOpacity());\n        },\n\n        /**\n         * draw the image layer\n         * @ignore\n         */\n        draw : function (renderer) {\n            var viewport = me.game.viewport,\n                width = this.imagewidth,\n                height = this.imageheight,\n                bw = viewport.bounds.width,\n                bh = viewport.bounds.height,\n                ax = this.anchorPoint.x,\n                ay = this.anchorPoint.y,\n                x = this.pos.x,\n                y = this.pos.y;\n\n            if (this.ratio.x === this.ratio.y === 0) {\n                x = x + ax * (bw - width);\n                y = y + ay * (bh - height);\n            }\n\n            renderer.translate(x, y);\n            renderer.drawPattern(\n                this._pattern,\n                0,\n                0,\n                viewport.width * 2,\n                viewport.height * 2\n            );\n        },\n\n        // called when the layer is removed from the game world or a container\n        onDeactivateEvent : function () {\n            // cancel all event subscriptions\n            me.event.unsubscribe(this.vpChangeHdlr);\n            me.event.unsubscribe(this.vpResizeHdlr);\n            me.event.unsubscribe(this.vpLoadedHdlr);\n        },\n\n        /**\n         * Destroy function<br>\n         * @ignore\n         */\n        destroy : function () {\n            me.pool.push(this.offset);\n            this.offset = undefined;\n            me.pool.push(this.ratio);\n            this.ratio = undefined;\n            this._super(me.Renderable, \"destroy\");\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * An object to display a fixed or animated sprite on screen.\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {Number} x the x coordinates of the sprite object\n     * @param {Number} y the y coordinates of the sprite object\n     * @param {Object} settings Configuration parameters for the Sprite object\n     * @param {me.video.renderer.Texture|HTMLImageElement|HTMLCanvasElement|String} settings.image reference to a texture, spritesheet image or to a texture atlas\n     * @param {String} [settings.name=\"\"] name of this object\n     * @param {String} [settings.region] region name of a specific region to use when using a texture atlas, see {@link me.Renderer.Texture}\n     * @param {Number} [settings.framewidth] Width of a single frame within the spritesheet\n     * @param {Number} [settings.frameheight] Height of a single frame within the spritesheet\n     * @param {Number} [settings.flipX] flip the sprite on the horizontal axis\n     * @param {Number} [settings.flipY] flip the sprite on the vertical axis\n     * @param {me.Vector2d} [settings.anchorPoint={x:0.5, y:0.5}] Anchor point to draw the frame at (defaults to the center of the frame).\n     * @example\n     * // create a single sprite from a standalone image, with anchor in the center\n     * var sprite = new me.Sprite(0, 0, {\n     *     image : \"PlayerTexture\",\n     *     framewidth : 64,\n     *     frameheight : 64,\n     *     anchorPoint : new me.Vector2d(0.5, 0.5)\n     * });\n     *\n     * // create a single sprite from a packed texture\n     * game.texture = new me.video.renderer.Texture(\n     *     me.loader.getJSON(\"texture\"),\n     *     me.loader.getImage(\"texture\")\n     * );\n     * var sprite = new me.Sprite(0, 0, {\n     *     image : game.texture,\n     *     region : \"npc2.png\",\n     * });\n     */\n    me.Sprite = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, settings) {\n\n            /**\n             * pause and resume animation\n             * @public\n             * @type Boolean\n             * @default false\n             * @name me.Sprite#animationpause\n             */\n            this.animationpause = false;\n\n            /**\n             * animation cycling speed (delay between frame in ms)\n             * @public\n             * @type Number\n             * @default 100\n             * @name me.Sprite#animationspeed\n             */\n            this.animationspeed = 100;\n\n            /**\n             * global offset for the position to draw from on the source image.\n             * @public\n             * @type me.Vector2d\n             * @default <0.0,0.0>\n             * @name offset\n             * @memberOf me.Sprite#\n             */\n            this.offset = me.pool.pull(\"me.Vector2d\", 0, 0);\n\n            /**\n             * The source texture object this sprite object is using\n             * @public\n             * @type me.video.renderer.Texture\n             * @name source\n             * @memberOf me.Sprite#\n             */\n            this.source = null;\n\n            // hold all defined animation\n            this.anim = {};\n\n            // a flag to reset animation\n            this.resetAnim = undefined;\n\n            // current frame information\n            // (reusing current, any better/cleaner place?)\n            this.current = {\n                // the current animation name\n                name : \"default\",\n                // length of the current animation name\n                length : 0,\n                //current frame texture offset\n                offset : new me.Vector2d(),\n                // current frame size\n                width : 0,\n                height : 0,\n                // Source rotation angle for pre-rotating the source image\n                angle : 0,\n                // current frame index\n                idx : 0\n            };\n\n            // animation frame delta\n            this.dt = 0;\n\n            // flicker settings\n            this._flicker = {\n                isFlickering : false,\n                duration : 0,\n                callback : null,\n                state : false\n            };\n\n            // call the super constructor\n            this._super(me.Renderable, \"init\", [ x, y, 0, 0 ]);\n\n            // set the proper image/texture to use\n            if (settings.image instanceof me.Renderer.prototype.Texture) {\n                this.source = settings.image;\n                this.image = this.source.getTexture();\n                this.textureAtlas = settings.image;\n                // check for defined region\n                if (typeof (settings.region) !== \"undefined\") {\n                    // use a texture atlas\n                    var region = this.source.getRegion(settings.region);\n                    if (region) {\n                        // set the sprite region within the texture\n                        this.setRegion(region);\n                        // update the default \"current\" frame size\n                        this.current.width  = settings.framewidth || region.width;\n                        this.current.height = settings.frameheight || region.height;\n                    } else {\n                        // throw an error\n                        throw new Error(\"Texture - region for \" + settings.region + \" not found\");\n                    }\n                }\n            } else {\n                // HTMLImageElement/Canvas or String\n                this.image = (typeof settings.image === \"object\") ? settings.image : me.loader.getImage(settings.image);\n                // update the default \"current\" frame size\n                this.current.width = settings.framewidth = settings.framewidth || this.image.width;\n                this.current.height = settings.frameheight = settings.frameheight || this.image.height;\n                this.source = me.video.renderer.cache.get(this.image, settings);\n                this.textureAtlas = this.source.getAtlas();\n            }\n\n            // store/reset the current atlas information if specified\n            if (typeof(settings.atlas) !== \"undefined\") {\n                this.textureAtlas = settings.atlas;\n                this.atlasIndices = settings.atlasIndices;\n            } else {\n                this.atlasIndices = null;\n            }\n\n            // resize based on the active frame\n            this.width = this.current.width;\n            this.height = this.current.height;\n\n            // apply flip flags if specified\n            if (typeof (settings.flipX) !== \"undefined\") {\n                this.flipX(!!settings.flipX);\n            }\n            if (typeof (settings.flipY) !== \"undefined\") {\n                this.flipY(!!settings.flipY);\n            }\n\n            // set the default rotation angle is defined in the settings\n            // * WARNING: rotating sprites decreases performance with Canvas Renderer\n            if (typeof (settings.rotation) !== \"undefined\") {\n                this.currentTransform.rotate(settings.rotation);\n            }\n\n            // update anchorPoint\n            if (settings.anchorPoint) {\n                this.anchorPoint.set(settings.anchorPoint.x, settings.anchorPoint.y);\n            }\n\n            // set the sprite name if specified\n            if (typeof (settings.name) === \"string\") {\n                this.name = settings.name;\n            }\n\n            // for sprite, addAnimation will return !=0\n            if (this.addAnimation(\"default\", null) !== 0) {\n                // set as default\n                this.setCurrentAnimation(\"default\");\n            }\n\n            // enable currentTransform for me.Sprite based objects\n            this.autoTransform = true;\n        },\n\n        /**\n         * return the flickering state of the object\n         * @name isFlickering\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @return {Boolean}\n         */\n        isFlickering : function () {\n            return this._flicker.isFlickering;\n        },\n\n        /**\n         * make the object flicker\n         * @name flicker\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @param {Number} duration expressed in milliseconds\n         * @param {Function} callback Function to call when flickering ends\n         * @return {me.Sprite} Reference to this object for method chaining\n         * @example\n         * // make the object flicker for 1 second\n         * // and then remove it\n         * this.flicker(1000, function () {\n         *     me.game.world.removeChild(this);\n         * });\n         */\n        flicker : function (duration, callback) {\n            this._flicker.duration = duration;\n            if (this._flicker.duration <= 0) {\n                this._flicker.isFlickering = false;\n                this._flicker.callback = null;\n            }\n            else if (!this._flicker.isFlickering) {\n                this._flicker.callback = callback;\n                this._flicker.isFlickering = true;\n            }\n            return this;\n        },\n\n        /**\n         * add an animation <br>\n         * For fixed-sized cell sprite sheet, the index list must follow the\n         * logic as per the following example :<br>\n         * <img src=\"images/spritesheet_grid.png\"/>\n         * @name addAnimation\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @param {String} name animation id\n         * @param {Number[]|String[]|Object[]} index list of sprite index or name\n         * defining the animation. Can also use objects to specify delay for each frame, see below\n         * @param {Number} [animationspeed] cycling speed for animation in ms\n         * @return {Number} frame amount of frame added to the animation (delay between each frame).\n         * @see me.Sprite#animationspeed\n         * @example\n         * // walking animation\n         * this.addAnimation(\"walk\", [ 0, 1, 2, 3, 4, 5 ]);\n         * // standing animation\n         * this.addAnimation(\"stand\", [ 11, 12 ]);\n         * // eating animation\n         * this.addAnimation(\"eat\", [ 6, 6 ]);\n         * // rolling animation\n         * this.addAnimation(\"roll\", [ 7, 8, 9, 10 ]);\n         * // slower animation\n         * this.addAnimation(\"roll\", [ 7, 8, 9, 10 ], 200);\n         * // or get more specific with delay for each frame. Good solution instead of repeating:\n         * this.addAnimation(\"turn\", [{ name: 0, delay: 200 }, { name: 1, delay: 100 }])\n         * // can do this with atlas values as well:\n         * this.addAnimation(\"turn\", [{ name: \"turnone\", delay: 200 }, { name: \"turntwo\", delay: 100 }])\n         * // define an dying animation that stop on the last frame\n         * this.addAnimation(\"die\", [{ name: 3, delay: 200 }, { name: 4, delay: 100 }, { name: 5, delay: Infinity }])\n         * // set the standing animation as default\n         * this.setCurrentAnimation(\"stand\");\n         */\n        addAnimation : function (name, index, animationspeed) {\n            this.anim[name] = {\n                name : name,\n                frames : [],\n                idx : 0,\n                length : 0\n            };\n\n            // # of frames\n            var counter = 0;\n\n            if (typeof (this.textureAtlas) !== \"object\") {\n                return 0;\n            }\n\n\n            if (index == null) {\n                index = [];\n                // create a default animation with all frame\n                Object.keys(this.textureAtlas).forEach(function (v, i) {\n                    index[i] = i;\n                });\n            }\n\n            // set each frame configuration (offset, size, etc..)\n            for (var i = 0, len = index.length; i < len; i++) {\n                var frame = index[i];\n                var frameObject;\n                if (typeof(frame) === \"number\" || typeof(frame) === \"string\") {\n                    frameObject = {\n                        name: frame,\n                        delay: animationspeed || this.animationspeed\n                    };\n                }\n                else {\n                  frameObject = frame;\n                }\n                var frameObjectName = frameObject.name;\n                if (typeof(frameObjectName) === \"number\") {\n                    if (typeof (this.textureAtlas[frameObjectName]) !== \"undefined\") {\n                        // TODO: adding the cache source coordinates add undefined entries in webGL mode\n                        this.anim[name].frames[i] = Object.assign(\n                            {},\n                            this.textureAtlas[frameObjectName],\n                            frameObject\n                        );\n                        counter++;\n                    }\n                } else { // string\n                    if (this.atlasIndices === null) {\n                        throw new Error(\n                            \"string parameters for addAnimation are not allowed for standard spritesheet based Texture\"\n                        );\n                    } else {\n                        this.anim[name].frames[i] = Object.assign(\n                            {},\n                            this.textureAtlas[this.atlasIndices[frameObjectName]],\n                            frameObject\n                        );\n                        counter++;\n                    }\n                }\n            }\n            this.anim[name].length = counter;\n\n            return counter;\n        },\n\n        /**\n         * set the current animation\n         * this will always change the animation & set the frame to zero\n         * @name setCurrentAnimation\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @param {String} name animation id\n         * @param {String|Function} [onComplete] animation id to switch to when complete, or callback\n         * @return {me.Sprite} Reference to this object for method chaining\n         * @example\n         * // set \"walk\" animation\n         * this.setCurrentAnimation(\"walk\");\n         *\n         * // set \"walk\" animation if it is not the current animation\n         * if (this.isCurrentAnimation(\"walk\")) {\n         *     this.setCurrentAnimation(\"walk\");\n         * }\n         *\n         * // set \"eat\" animation, and switch to \"walk\" when complete\n         * this.setCurrentAnimation(\"eat\", \"walk\");\n         *\n         * // set \"die\" animation, and remove the object when finished\n         * this.setCurrentAnimation(\"die\", (function () {\n         *    me.game.world.removeChild(this);\n         *    return false; // do not reset to first frame\n         * }).bind(this));\n         *\n         * // set \"attack\" animation, and pause for a short duration\n         * this.setCurrentAnimation(\"die\", (function () {\n         *    this.animationpause = true;\n         *\n         *    // back to \"standing\" animation after 1 second\n         *    setTimeout(function () {\n         *        this.setCurrentAnimation(\"standing\");\n         *    }, 1000);\n         *\n         *    return false; // do not reset to first frame\n         * }).bind(this));\n         **/\n        setCurrentAnimation : function (name, resetAnim, _preserve_dt) {\n            if (this.anim[name]) {\n                this.current.name = name;\n                this.current.length = this.anim[this.current.name].length;\n                if (typeof resetAnim === \"string\") {\n                    this.resetAnim = this.setCurrentAnimation.bind(this, resetAnim, null, true);\n                } else if (typeof resetAnim === \"function\") {\n                    this.resetAnim = resetAnim;\n                } else {\n                    this.resetAnim = undefined;\n                }\n                this.setAnimationFrame(this.current.idx);\n                if (!_preserve_dt) {\n                    this.dt = 0;\n                }\n            } else {\n                throw new Error(\"animation id '\" + name + \"' not defined\");\n            }\n            return this;\n        },\n\n        /**\n         * reverse the given or current animation if none is specified\n         * @name reverseAnimation\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @param {String} [name] animation id\n         * @return {me.Sprite} Reference to this object for method chaining\n         * @see me.Sprite#animationspeed\n         */\n        reverseAnimation : function (name) {\n            if (typeof name !== \"undefined\" && typeof this.anim[name] !== \"undefined\") {\n                this.anim[name].frames.reverse();\n            } else {\n                this.anim[this.current.name].frames.reverse();\n            }\n            return this;\n        },\n\n        /**\n         * return true if the specified animation is the current one.\n         * @name isCurrentAnimation\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @param {String} name animation id\n         * @return {Boolean}\n         * @example\n         * if (!this.isCurrentAnimation(\"walk\")) {\n         *     // do something funny...\n         * }\n         */\n        isCurrentAnimation : function (name) {\n            return this.current.name === name;\n        },\n\n        /**\n         * change the current texture atlas region for this sprite\n         * @see me.Texture.getRegion\n         * @name setRegion\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @param {Object} region typically returned through me.Texture.getRegion()\n         * @return {me.Sprite} Reference to this object for method chaining\n         * @example\n         * // change the sprite to \"shadedDark13.png\";\n         * mySprite.setRegion(game.texture.getRegion(\"shadedDark13.png\"));\n         */\n        setRegion : function (region) {\n            if (this.source !== null) {\n                // set the source texture for the given region\n                this.image = this.source.getTexture(region);\n            }\n            // set the sprite offset within the texture\n            this.current.offset.setV(region.offset);\n            // set angle if defined\n            this.current.angle = region.angle;\n            // update the default \"current\" size\n            this.width = this.current.width = region.width;\n            this.height = this.current.height = region.height;\n            // set global anchortPoint if defined\n            if (region.anchorPoint) {\n                this.anchorPoint.set(\n                    this._flip.x && region.trimmed === true ? 1 - region.anchorPoint.x : region.anchorPoint.x,\n                    this._flip.y && region.trimmed === true ? 1 - region.anchorPoint.y : region.anchorPoint.y\n                );\n            }\n            return this;\n        },\n\n        /**\n         * force the current animation frame index.\n         * @name setAnimationFrame\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @param {Number} [index=0] animation frame index\n         * @return {me.Sprite} Reference to this object for method chaining\n         * @example\n         * // reset the current animation to the first frame\n         * this.setAnimationFrame();\n         */\n        setAnimationFrame : function (idx) {\n            this.current.idx = (idx || 0) % this.current.length;\n            return this.setRegion(this.getAnimationFrameObjectByIndex(this.current.idx));\n        },\n\n        /**\n         * return the current animation frame index.\n         * @name getCurrentAnimationFrame\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @return {Number} current animation frame index\n         */\n        getCurrentAnimationFrame : function () {\n            return this.current.idx;\n        },\n\n        /**\n         * Returns the frame object by the index.\n         * @name getAnimationFrameObjectByIndex\n         * @memberOf me.Sprite.prototype\n         * @function\n         * @private\n         * @return {Number} if using number indices. Returns {Object} containing frame data if using texture atlas\n         */\n        getAnimationFrameObjectByIndex : function (id) {\n            return this.anim[this.current.name].frames[id];\n        },\n\n        /**\n         * @ignore\n         */\n        update : function (dt) {\n            var result = false;\n            // Update animation if necessary\n            if (!this.animationpause && this.current && this.current.length > 0) {\n                var duration = this.getAnimationFrameObjectByIndex(this.current.idx).delay;\n                this.dt += dt;\n                while (this.dt >= duration) {\n                    result = true;\n                    this.dt -= duration;\n\n                    var nextFrame = (this.current.length > 1? this.current.idx+1: this.current.idx);\n                    this.setAnimationFrame(nextFrame);\n\n                    // Switch animation if we reach the end of the strip and a callback is defined\n                    if (this.current.idx === 0 && typeof this.resetAnim === \"function\")  {\n                        // Otherwise is must be callable\n                        if (this.resetAnim() === false) {\n                            // Reset to last frame\n                            this.setAnimationFrame(this.current.length - 1);\n\n                            // Bail early without skipping any more frames.\n                            this.dt %= duration;\n                            break;\n                        }\n                    }\n                    // Get next frame duration\n                    duration = this.getAnimationFrameObjectByIndex(this.current.idx).delay;\n                }\n            }\n\n            //update the \"flickering\" state if necessary\n            if (this._flicker.isFlickering) {\n                this._flicker.duration -= dt;\n                if (this._flicker.duration < 0) {\n                    if (typeof (this._flicker.callback) === \"function\") {\n                        this._flicker.callback();\n                    }\n                    this.flicker(-1);\n                }\n                result = true;\n            }\n\n            return result;\n        },\n\n\n        /**\n         * update the renderable's bounding rect (private)\n         * @ignore\n         * @name updateBoundsPos\n         * @memberOf me.Sprite.prototype\n         * @function\n         */\n        updateBoundsPos : function (newX, newY) {\n            var bounds = this.getBounds();\n            bounds.pos.set(\n                newX - (this.anchorPoint.x * bounds.width),\n                newY - (this.anchorPoint.y * bounds.height)\n            );\n            // XXX: This is called from the constructor, before it gets an ancestor\n            if (this.ancestor instanceof me.Container && !this.floating) {\n                bounds.pos.add(this.ancestor._absPos);\n            }\n            return bounds;\n        },\n\n        /**\n         * called when the anchor point value is changed\n         * @private\n         * @name onAnchorUpdate\n         * @memberOf me.Sprite.prototype\n         * @function\n         */\n        onAnchorUpdate : function (newX, newY) {\n            // since the callback is called before setting the new value\n            // manually update the anchor point (required for updateBoundsPos)\n            this.anchorPoint.setMuted(newX, newY);\n            // then call updateBouds\n            this.updateBoundsPos(this.pos.x, this.pos.y);\n        },\n\n        /**\n         * Destroy function<br>\n         * @ignore\n         */\n        destroy : function () {\n            me.pool.push(this.offset);\n            this.offset = undefined;\n            this._super(me.Renderable, \"destroy\");\n        },\n\n        /**\n         * @ignore\n         */\n        draw : function (renderer) {\n            // do nothing if we are flickering\n            if (this._flicker.isFlickering) {\n                this._flicker.state = !this._flicker.state;\n                if (!this._flicker.state) {\n                    return;\n                }\n            }\n\n            // the frame to draw\n            var frame = this.current;\n\n            // cache the current position and size\n            var xpos = this.pos.x,\n                ypos = this.pos.y;\n\n            var w = frame.width,\n                h = frame.height;\n\n            // frame offset in the texture/atlas\n            var frame_offset = frame.offset;\n            var g_offset = this.offset;\n\n\n            // remove image's TexturePacker/ShoeBox rotation\n            if (frame.angle !== 0) {\n                renderer.translate(-xpos, -ypos);\n                renderer.rotate(frame.angle);\n                xpos -= h;\n                w = frame.height;\n                h = frame.width;\n            }\n\n            renderer.drawImage(\n                this.image,\n                g_offset.x + frame_offset.x, // sx\n                g_offset.y + frame_offset.y, // sy\n                w, h,                        // sw,sh\n                xpos, ypos,                  // dx,dy\n                w, h                         // dw,dh\n            );\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * GUI Object<br>\n     * A very basic object to manage GUI elements <br>\n     * The object simply register on the \"pointerdown\" <br>\n     * or \"touchstart\" event and call the onClick function\"\n     * @class\n     * @extends me.Sprite\n     * @memberOf me\n     * @constructor\n     * @param {Number} x the x coordinate of the GUI Object\n     * @param {Number} y the y coordinate of the GUI Object\n     * @param {Object} settings See {@link me.Sprite}\n     * @example\n     *\n     * // create a basic GUI Object\n     * var myButton = me.GUI_Object.extend(\n     * {\n     *    init:function (x, y)\n     *    {\n     *       var settings = {}\n     *       settings.image = \"button\";\n     *       settings.framewidth = 100;\n     *       settings.frameheight = 50;\n     *       // super constructor\n     *       this._super(me.GUI_Object, \"init\", [x, y, settings]);\n     *       // define the object z order\n     *       this.pos.z = 4;\n     *    },\n     *\n     *    // output something in the console\n     *    // when the object is clicked\n     *    onClick:function (event)\n     *    {\n     *       console.log(\"clicked!\");\n     *       // don't propagate the event\n     *       return false;\n     *    }\n     * });\n     *\n     * // add the object at pos (10,10)\n     * me.game.world.addChild(new myButton(10,10));\n     *\n     */\n    me.GUI_Object = me.Sprite.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, settings) {\n            /**\n             * object can be clicked or not\n             * @public\n             * @type boolean\n             * @default true\n             * @name me.GUI_Object#isClickable\n             */\n            this.isClickable = true;\n\n            /**\n             * Tap and hold threshold timeout in ms\n             * @type {number}\n             * @default 250\n             * @name me.GUI_Object#holdThreshold\n             */\n            this.holdThreshold = 250;\n\n            /**\n             * object can be tap and hold\n             * @public\n             * @type boolean\n             * @default false\n             * @name me.GUI_Object#isHoldable\n             */\n            this.isHoldable = false;\n\n            /**\n             * true if the pointer is over the object\n             * @public\n             * @type boolean\n             * @default false\n             * @name me.GUI_Object#hover\n             */\n            this.hover = false;\n\n            // object has been updated (clicked,etc..)\n            this.holdTimeout = null;\n            this.updated = false;\n            this.released = true;\n\n            // call the parent constructor\n            this._super(me.Sprite, \"init\", [ x, y, settings ]);\n\n            // GUI items use screen coordinates\n            this.floating = true;\n\n            // enable event detection\n            this.isKinematic = false;\n        },\n\n        /**\n         * return true if the object has been clicked\n         * @ignore\n         */\n        update : function (dt) {\n            // call the parent constructor\n            var updated = this._super(me.Sprite, \"update\", [ dt ]);\n            // check if the button was updated\n            if (this.updated) {\n                // clear the flag\n                if (!this.released) {\n                    this.updated = false;\n                }\n                return true;\n            }\n            // else only return true/false based on the parent function\n            return updated;\n        },\n\n        /**\n         * function callback for the pointerdown event\n         * @ignore\n         */\n        clicked : function (event) {\n            // Check if left mouse button is pressed\n            if (event.button === 0 && this.isClickable) {\n                this.updated = true;\n                this.released = false;\n                if (this.isHoldable) {\n                    if (this.holdTimeout !== null) {\n                        me.timer.clearTimeout(this.holdTimeout);\n                    }\n                    this.holdTimeout = me.timer.setTimeout(this.hold.bind(this), this.holdThreshold, false);\n                    this.released = false;\n                }\n                return this.onClick.call(this, event);\n            }\n        },\n\n        /**\n         * function called when the object is pressed <br>\n         * to be extended <br>\n         * return false if we need to stop propagating the event\n         * @name onClick\n         * @memberOf me.GUI_Object.prototype\n         * @public\n         * @function\n         * @param {Event} event the event object\n         */\n        onClick : function (/* event */) {\n            return false;\n        },\n\n        /**\n         * function callback for the pointerEnter event\n         * @ignore\n         */\n        enter : function (event) {\n            this.hover = true;\n            return this.onOver.call(this, event);\n        },\n\n        /**\n         * function called when the pointer is over the object\n         * @name onOver\n         * @memberOf me.GUI_Object.prototype\n         * @public\n         * @function\n         * @param {Event} event the event object\n         */\n        onOver : function (/* event */) {},\n\n        /**\n         * function callback for the pointerLeave event\n         * @ignore\n         */\n        leave : function (event) {\n            this.hover = false;\n            this.release.call(this, event);\n            return this.onOut.call(this, event);\n        },\n\n        /**\n         * function called when the pointer is leaving the object area\n         * @name onOut\n         * @memberOf me.GUI_Object.prototype\n         * @public\n         * @function\n         * @param {Event} event the event object\n         */\n        onOut : function (/* event */) {},\n\n        /**\n         * function callback for the pointerup event\n         * @ignore\n         */\n        release : function (event) {\n            if (this.released === false) {\n                this.released = true;\n                me.timer.clearTimeout(this.holdTimeout);\n                return this.onRelease.call(this, event);\n            }\n        },\n\n        /**\n         * function called when the object is pressed and released <br>\n         * to be extended <br>\n         * return false if we need to stop propagating the event\n         * @name onRelease\n         * @memberOf me.GUI_Object.prototype\n         * @public\n         * @function\n         * @param {Event} event the event object\n         */\n        onRelease : function () {\n            return false;\n        },\n\n        /**\n         * function callback for the tap and hold timer event\n         * @ignore\n         */\n        hold : function () {\n            me.timer.clearTimeout(this.holdTimeout);\n            if (!this.released) {\n                this.onHold.call(this);\n            }\n        },\n\n        /**\n         * function called when the object is pressed and held<br>\n         * to be extended <br>\n         * @name onHold\n         * @memberOf me.GUI_Object.prototype\n         * @public\n         * @function\n         */\n        onHold : function () {},\n\n        /**\n         * function called when added to the game world or a container\n         * @ignore\n         */\n        onActivateEvent : function () {\n            // register pointer events\n            me.input.registerPointerEvent(\"pointerdown\", this, this.clicked.bind(this));\n            me.input.registerPointerEvent(\"pointerup\", this, this.release.bind(this));\n            me.input.registerPointerEvent(\"pointercancel\", this, this.release.bind(this));\n            me.input.registerPointerEvent(\"pointerenter\", this, this.enter.bind(this));\n            me.input.registerPointerEvent(\"pointerleave\", this, this.leave.bind(this));\n        },\n\n        /**\n         * function called when removed from the game world or a container\n         * @ignore\n         */\n        onDeactivateEvent : function () {\n            // release pointer events\n            me.input.releasePointerEvent(\"pointerdown\", this);\n            me.input.releasePointerEvent(\"pointerup\", this);\n            me.input.releasePointerEvent(\"pointercancel\", this);\n            me.input.releasePointerEvent(\"pointerenter\", this);\n            me.input.releasePointerEvent(\"pointerleave\", this);\n            me.timer.clearTimeout(this.holdTimeout);\n        }\n    });\n})();\n","(function () {\n    /**\n     * Private function to re-use for object removal in a defer\n     * @ignore\n     */\n    var deferredRemove = function (child, keepalive) {\n        this.removeChildNow(child, keepalive);\n    };\n\n    var globalFloatingCounter = 0;\n\n    /**\n     * me.Container represents a collection of child objects\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {Number} [x=0] position of the container (accessible via the inherited pos.x property)\n     * @param {Number} [y=0] position of the container (accessible via the inherited pos.y property)\n     * @param {Number} [w=me.game.viewport.width] width of the container\n     * @param {Number} [h=me.game.viewport.height] height of the container\n     */\n    me.Container = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, width, height, root) {\n            /**\n             * keep track of pending sort\n             * @ignore\n             */\n            this.pendingSort = null;\n\n\n            // call the _super constructor\n            this._super(me.Renderable,\n                \"init\",\n                [x || 0, y || 0,\n                width || Infinity,\n                height || Infinity]\n            );\n\n            /**\n             * whether the container is the root of the scene\n             * @public\n             * @type Boolean\n             * @default false\n             * @name root\n             * @memberOf me.Container\n             */\n            this.root = root || false;\n\n            /**\n             * The array of children of this container.\n             * @ignore\n             */\n            this.children = [];\n\n            /**\n             * The property of the child object that should be used to sort on <br>\n             * value : \"x\", \"y\", \"z\"\n             * @public\n             * @type String\n             * @default me.game.sortOn\n             * @name sortOn\n             * @memberOf me.Container\n             */\n            this.sortOn = me.game.sortOn;\n\n            /**\n             * Specify if the children list should be automatically sorted when adding a new child\n             * @public\n             * @type Boolean\n             * @default true\n             * @name autoSort\n             * @memberOf me.Container\n             */\n            this.autoSort = true;\n\n            /**\n             * Specify if the children z index should automatically be managed by the parent container\n             * @public\n             * @type Boolean\n             * @default true\n             * @name autoDepth\n             * @memberOf me.Container\n             */\n            this.autoDepth = true;\n\n            /**\n             * Specify if the container draw operation should clip his children to its own bounds\n             * @public\n             * @type Boolean\n             * @default false\n             * @name clipping\n             * @memberOf me.Container\n             */\n            this.clipping = false;\n\n            /**\n             * a callback to be extended, triggered when a child is added or removed\n             * @name onChildChange\n             * @memberOf me.Container#\n             * @function\n             * @param {Number} index added or removed child index\n             */\n            this.onChildChange = function (/* index */) {\n                // to be extended\n            };\n\n            /**\n             * Used by the debug panel plugin\n             * @ignore\n             */\n            this.drawCount = 0;\n\n            /**\n             * The bounds that contains all its children\n             * @public\n             * @type me.Rect\n             * @name childBounds\n             * @memberOf me.Container#\n             */\n            this.childBounds = this.getBounds().clone();\n\n            // container self apply any defined transformation\n            this.autoTransform = true;\n\n            // enable collision and event detection\n            this.isKinematic = false;\n\n            // subscribe on the canvas resize event\n            if (this.root === true) {\n                // XXX: Workaround for not updating container child-bounds automatically (it's expensive!)\n                me.event.subscribe(me.event.CANVAS_ONRESIZE, this.updateChildBounds.bind(this));\n            }\n        },\n\n        /**\n         * reset the container, removing all childrens, and reseting transforms.\n         * @name reset\n         * @memberOf me.Container\n         * @function\n         */\n        reset : function () {\n            // cancel any sort operation\n            if (this.pendingSort) {\n                clearTimeout(this.pendingSort);\n                this.pendingSort = null;\n            }\n\n            // delete all children\n            for (var i = this.children.length, obj; i >= 0; (obj = this.children[--i])) {\n                // don't remove it if a persistent object\n                if (obj && !obj.isPersistent) {\n                    this.removeChildNow(obj);\n                }\n            }\n\n            if (typeof this.currentTransform !== \"undefined\") {\n                // just reset some variables\n                this.currentTransform.identity();\n            }\n        },\n\n\n        /**\n         * Add a child to the container <br>\n         * if auto-sort is disable, the object will be appended at the bottom of the list.\n         * Adding a child to the container will automatically remove it from its other container.\n         * Meaning a child can only have one parent.  This is important if you add a renderable\n         * to a container then add it to the me.game.world container it will move it out of the\n         * orginal container.  Then when the me.game.world.reset() is called the renderable\n         * will not be in any container.\n         * @name addChild\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         * @param {number} [z] forces the z index of the child to the specified value\n         * @return {me.Renderable} the added child\n         */\n        addChild : function (child, z) {\n            if (child.ancestor instanceof me.Container) {\n                child.ancestor.removeChildNow(child);\n            }\n            else {\n                // only allocate a GUID if the object has no previous ancestor\n                // (e.g. move one child from one container to another)\n                if (child.isRenderable) {\n                    // allocated a GUID value (use child.id as based index if defined)\n                    child.GUID = me.utils.createGUID(child.id);\n                }\n            }\n\n            child.ancestor = this;\n            this.children.push(child);\n\n            // set the child z value if required\n            if (typeof(child.pos) !== \"undefined\") {\n                if (typeof(z) === \"number\") {\n                        child.pos.z = z;\n                } else if (this.autoDepth === true) {\n                    child.pos.z = this.children.length;\n                }\n            }\n\n            if (this.autoSort === true) {\n                this.sort();\n            }\n\n            if (typeof child.onActivateEvent === \"function\" && this.isAttachedToRoot()) {\n                child.onActivateEvent();\n            }\n\n            this.onChildChange.call(this, this.children.length - 1);\n\n            return child;\n        },\n\n        /**\n         * Add a child to the container at the specified index<br>\n         * (the list won't be sorted after insertion)\n         * @name addChildAt\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         * @param {Number} index\n         * @return {me.Renderable} the added child\n         */\n        addChildAt : function (child, index) {\n            if (index >= 0 && index < this.children.length) {\n                if (child.ancestor instanceof me.Container) {\n                    child.ancestor.removeChildNow(child);\n                }\n                else {\n                    // only allocate a GUID if the object has no previous ancestor\n                    // (e.g. move one child from one container to another)\n                    if (child.isRenderable) {\n                        // allocated a GUID value\n                        child.GUID = me.utils.createGUID();\n                    }\n                }\n                child.ancestor = this;\n\n                this.children.splice(index, 0, child);\n\n                if (typeof child.onActivateEvent === \"function\" && this.isAttachedToRoot()) {\n                    child.onActivateEvent();\n                }\n\n                this.onChildChange.call(this, index);\n\n                return child;\n            }\n            else {\n                throw new Error(\"Index (\" + index + \") Out Of Bounds for addChildAt()\");\n            }\n        },\n\n        /**\n         * The forEach() method executes a provided function once per child element. <br>\n         * callback is invoked with three arguments: <br>\n         *    - the element value <br>\n         *    - the element index <br>\n         *    - the array being traversed <br>\n         * @name forEach\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {Function} callback\n         * @param {Object} [thisArg] value to use as this(i.e reference Object) when executing callback.\n         * @example\n         * // iterate through all children of the root container\n         * me.game.world.forEach(function (child) {\n         *    // do something with the child\n         * });\n         */\n        forEach : function (callback, thisArg) {\n            var context = this, i = 0;\n\n            var len = this.children.length;\n\n            if (typeof callback !== \"function\") {\n                throw new Error(callback + \" is not a function\");\n            }\n\n            if (arguments.length > 1) {\n                context = thisArg;\n            }\n\n            while (i < len) {\n                callback.call(context, this.children[i], i, this.children);\n                i++;\n            }\n        },\n\n        /**\n         * Swaps the position (z-index) of 2 children\n         * @name swapChildren\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         * @param {me.Renderable} child2\n         */\n        swapChildren : function (child, child2) {\n            var index = this.getChildIndex(child);\n            var index2 = this.getChildIndex(child2);\n\n            if ((index !== -1) && (index2 !== -1)) {\n                // swap z index\n                var _z = child.pos.z;\n                child.pos.z = child2.pos.z;\n                child2.pos.z = _z;\n                // swap the positions..\n                this.children[index] = child2;\n                this.children[index2] = child;\n            }\n            else {\n                throw new Error(child + \" Both the supplied childs must be a child of the caller \" + this);\n            }\n        },\n\n        /**\n         * Returns the Child at the specified index\n         * @name getChildAt\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {Number} index\n         */\n        getChildAt : function (index) {\n            if (index >= 0 && index < this.children.length) {\n                return this.children[index];\n            }\n            else {\n                throw new Error(\"Index (\" + index + \") Out Of Bounds for getChildAt()\");\n            }\n        },\n\n        /**\n         * Returns the index of the given Child\n         * @name getChildIndex\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         */\n        getChildIndex : function (child) {\n            return this.children.indexOf(child);\n        },\n\n        /**\n         * Returns the next child within the container or undefined if none\n         * @name getNextChild\n         * @memberOf me.Container\n         * @function\n         * @param {me.Renderable} child\n         */\n        getNextChild : function (child) {\n            var index = this.children.indexOf(child) - 1;\n            if (index >= 0 && index < this.children.length) {\n                return this.getChildAt(index);\n            }\n            return undefined;\n        },\n\n        /**\n         * Returns true if contains the specified Child\n         * @name hasChild\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         * @return {Boolean}\n         */\n        hasChild : function (child) {\n            return this === child.ancestor;\n        },\n\n        /**\n         * return the child corresponding to the given property and value.<br>\n         * note : avoid calling this function every frame since\n         * it parses the whole object tree each time\n         * @name getChildByProp\n         * @memberOf me.Container.prototype\n         * @public\n         * @function\n         * @param {String} prop Property name\n         * @param {String|RegExp|Number|Boolean} value Value of the property\n         * @return {me.Renderable[]} Array of childs\n         * @example\n         * // get the first child object called \"mainPlayer\" in a specific container :\n         * var ent = myContainer.getChildByProp(\"name\", \"mainPlayer\");\n         *\n         * // or query the whole world :\n         * var ent = me.game.world.getChildByProp(\"name\", \"mainPlayer\");\n         *\n         * // partial property matches are also allowed by using a RegExp.\n         * // the following matches \"redCOIN\", \"bluecoin\", \"bagOfCoins\", etc :\n         * var allCoins = me.game.world.getChildByProp(\"name\", /coin/i);\n         *\n         * // searching for numbers or other data types :\n         * var zIndex10 = me.game.world.getChildByProp(\"z\", 10);\n         * var inViewport = me.game.world.getChildByProp(\"inViewport\", true);\n         */\n        getChildByProp : function (prop, value)    {\n            var objList = [];\n\n            function compare(obj, prop) {\n                var v = obj[prop];\n                if (value instanceof RegExp && typeof(v) === \"string\") {\n                    if (value.test(v)) {\n                        objList.push(obj);\n                    }\n                }\n                else if (v === value) {\n                    objList.push(obj);\n                }\n            }\n\n            for (var i = this.children.length - 1; i >= 0; i--) {\n                var obj = this.children[i];\n                compare(obj, prop);\n                if (obj instanceof me.Container) {\n                    objList = objList.concat(obj.getChildByProp(prop, value));\n                }\n            }\n            return objList;\n        },\n\n        /**\n         * returns the list of childs with the specified class type\n         * @name getChildByType\n         * @memberOf me.Container.prototype\n         * @public\n         * @function\n         * @param {Object} class type\n         * @return {me.Renderable[]} Array of children\n         */\n        getChildByType : function (_class) {\n            var objList = [];\n\n            for (var i = this.children.length - 1; i >= 0; i--) {\n                var obj = this.children[i];\n                if (obj instanceof _class) {\n                    objList.push(obj);\n                }\n                if (obj instanceof me.Container) {\n                    objList = objList.concat(obj.getChildByType(_class));\n                }\n            }\n            return objList;\n        },\n\n        /**\n         * returns the list of childs with the specified name<br>\n         * as defined in Tiled (Name field of the Object Properties)<br>\n         * note : avoid calling this function every frame since\n         * it parses the whole object list each time\n         * @name getChildByName\n         * @memberOf me.Container.prototype\n         * @public\n         * @function\n         * @param {String|RegExp|Number|Boolean} name entity name\n         * @return {me.Renderable[]} Array of children\n         */\n        getChildByName : function (name) {\n            return this.getChildByProp(\"name\", name);\n        },\n\n        /**\n         * return the child corresponding to the specified GUID<br>\n         * note : avoid calling this function every frame since\n         * it parses the whole object list each time\n         * @name getChildByGUID\n         * @memberOf me.Container.prototype\n         * @public\n         * @function\n         * @param {String|RegExp|Number|Boolean} GUID entity GUID\n         * @return {me.Renderable} corresponding child or null\n         */\n        getChildByGUID : function (guid) {\n            var obj = this.getChildByProp(\"GUID\", guid);\n            return (obj.length > 0) ? obj[0] : null;\n        },\n\n        /**\n         * resizes the child bounds rectangle, based on children bounds.\n         * @name updateChildBounds\n         * @memberOf me.Container.prototype\n         * @function\n         * @return {me.Rect} updated child bounds\n         */\n        updateChildBounds : function () {\n            this.childBounds.pos.set(Infinity, Infinity);\n            this.childBounds.resize(-Infinity, -Infinity);\n            var childBounds;\n            for (var i = this.children.length, child; i--, (child = this.children[i]);) {\n                if (child.isRenderable) {\n                    if (child instanceof me.Container) {\n                        childBounds = child.childBounds;\n                    }\n                    else {\n                        childBounds = child.getBounds();\n                    }\n                    // TODO : returns an \"empty\" rect instead of null (e.g. EntityObject)\n                    // TODO : getBounds should always return something anyway\n                    if (childBounds !== null) {\n                        this.childBounds.union(childBounds);\n                    }\n                }\n            }\n            return this.childBounds;\n        },\n\n        /**\n         * Checks if this container is root or if it's attached to the root container.\n         * @private\n         * @name isAttachedToRoot\n         * @memberOf me.Container.prototype\n         * @function\n         * @returns Boolean\n         */\n        isAttachedToRoot : function () {\n            if (this.root === true) {\n                return true;\n            } else {\n                var ancestor = this.ancestor;\n                while (ancestor) {\n                    if (ancestor.root === true) {\n                        return true;\n                    }\n                    ancestor = ancestor.ancestor;\n                }\n                return false;\n            }\n        },\n\n        /**\n         * update the renderable's bounding rect (private)\n         * @private\n         * @name updateBoundsPos\n         * @memberOf me.Container.prototype\n         * @function\n         */\n        updateBoundsPos : function (newX, newY) {\n            this._super(me.Renderable, \"updateBoundsPos\", [ newX, newY ]);\n\n            // Update container's absolute position\n            this._absPos.set(newX, newY);\n            if (this.ancestor instanceof me.Container && !this.floating) {\n                this._absPos.add(this.ancestor._absPos);\n            }\n\n            // Notify children that the parent's position has changed\n            for (var i = this.children.length, child; i--, (child = this.children[i]);) {\n                if (child.isRenderable) {\n                    child.updateBoundsPos(child.pos.x, child.pos.y);\n                }\n            }\n\n            return this.getBounds();\n        },\n\n        /**\n         * @ignore\n         */\n        onActivateEvent : function () {\n          for (var i = this.children.length, child; i--, (child = this.children[i]);) {\n              if (typeof child.onActivateEvent === \"function\") {\n                  child.onActivateEvent();\n              }\n          }\n        },\n\n        /**\n         * Invokes the removeChildNow in a defer, to ensure the child is removed safely after the update & draw stack has completed\n         * @name removeChild\n         * @memberOf me.Container.prototype\n         * @public\n         * @function\n         * @param {me.Renderable} child\n         * @param {Boolean} [keepalive=False] True to prevent calling child.destroy()\n         */\n        removeChild : function (child, keepalive) {\n            if (this.hasChild(child)) {\n                me.utils.function.defer(deferredRemove, this, child, keepalive);\n            }\n            else {\n                throw new Error(\"Child is not mine.\");\n            }\n        },\n\n\n        /**\n         * Removes (and optionally destroys) a child from the container.<br>\n         * (removal is immediate and unconditional)<br>\n         * Never use keepalive=true with objects from {@link me.pool}. Doing so will create a memory leak.\n         * @name removeChildNow\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         * @param {Boolean} [keepalive=False] True to prevent calling child.destroy()\n         */\n        removeChildNow : function (child, keepalive) {\n            if (this.hasChild(child) && (this.getChildIndex(child) >= 0)) {\n                if (typeof child.onDeactivateEvent === \"function\") {\n                    child.onDeactivateEvent();\n                }\n\n                if (!keepalive) {\n                    if (typeof (child.destroy) === \"function\") {\n                        child.destroy();\n                    }\n\n                    me.pool.push(child);\n                }\n\n                // Don't cache the child index; another element might have been removed\n                // by the child's `onDeactivateEvent` or `destroy` methods\n                var childIndex = this.getChildIndex(child);\n                if (childIndex >= 0) {\n                    this.children.splice(childIndex, 1);\n                    child.ancestor = undefined;\n                }\n                this.onChildChange.call(this, childIndex);\n            }\n        },\n\n        /**\n         * Automatically set the specified property of all childs to the given value\n         * @name setChildsProperty\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {String} property property name\n         * @param {Object} value property value\n         * @param {Boolean} [recursive=false] recursively apply the value to child containers if true\n         */\n        setChildsProperty : function (prop, val, recursive) {\n            for (var i = this.children.length; i >= 0; i--) {\n                var obj = this.children[i];\n                if ((recursive === true) && (obj instanceof me.Container)) {\n                    obj.setChildsProperty(prop, val, recursive);\n                }\n                obj[prop] = val;\n            }\n        },\n\n        /**\n         * Move the child in the group one step forward (z depth).\n         * @name moveUp\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         */\n        moveUp : function (child) {\n            var childIndex = this.getChildIndex(child);\n            if (childIndex - 1 >= 0) {\n                // note : we use an inverted loop\n                this.swapChildren(child, this.getChildAt(childIndex - 1));\n            }\n        },\n\n        /**\n         * Move the child in the group one step backward (z depth).\n         * @name moveDown\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         */\n        moveDown : function (child) {\n            var childIndex = this.getChildIndex(child);\n            if (childIndex >= 0 && (childIndex + 1) < this.children.length) {\n                // note : we use an inverted loop\n                this.swapChildren(child, this.getChildAt(childIndex + 1));\n            }\n        },\n\n        /**\n         * Move the specified child to the top(z depth).\n         * @name moveToTop\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         */\n        moveToTop : function (child) {\n            var childIndex = this.getChildIndex(child);\n            if (childIndex > 0) {\n                // note : we use an inverted loop\n                this.children.splice(0, 0, this.children.splice(childIndex, 1)[0]);\n                // increment our child z value based on the previous child depth\n                child.pos.z = this.children[1].pos.z + 1;\n            }\n        },\n\n        /**\n         * Move the specified child the bottom (z depth).\n         * @name moveToBottom\n         * @memberOf me.Container.prototype\n         * @function\n         * @param {me.Renderable} child\n         */\n        moveToBottom : function (child) {\n            var childIndex = this.getChildIndex(child);\n            if (childIndex >= 0 && childIndex < (this.children.length - 1)) {\n                // note : we use an inverted loop\n                this.children.splice((this.children.length - 1), 0, this.children.splice(childIndex, 1)[0]);\n                // increment our child z value based on the next child depth\n                child.pos.z = this.children[(this.children.length - 2)].pos.z - 1;\n            }\n        },\n\n        /**\n         * Manually trigger the sort of all the childs in the container</p>\n         * @name sort\n         * @memberOf me.Container.prototype\n         * @public\n         * @function\n         * @param {Boolean} [recursive=false] recursively sort all containers if true\n         */\n        sort : function (recursive) {\n            // do nothing if there is already a pending sort\n            if (!this.pendingSort) {\n                if (recursive === true) {\n                    // trigger other child container sort function (if any)\n                    for (var i = this.children.length, obj; i--, (obj = this.children[i]);) {\n                        if (obj instanceof me.Container) {\n                            // note : this will generate one defered sorting function\n                            // for each existing containe\n                            obj.sort(recursive);\n                        }\n                    }\n                }\n                /** @ignore */\n                this.pendingSort = me.utils.function.defer(function (self) {\n                    // sort everything in this container\n                    self.children.sort(self[\"_sort\" + self.sortOn.toUpperCase()]);\n                    // clear the defer id\n                    self.pendingSort = null;\n                    // make sure we redraw everything\n                    me.game.repaint();\n                }, this, this);\n            }\n        },\n\n        /**\n         * @ignore\n         */\n        onDeactivateEvent : function () {\n            for (var i = this.children.length, child; i--, (child = this.children[i]);) {\n                if (typeof child.onDeactivateEvent === \"function\") {\n                    child.onDeactivateEvent();\n                }\n            }\n        },\n\n        /**\n         * Z Sorting function\n         * @ignore\n         */\n        _sortZ : function (a, b) {\n            return (b.pos && a.pos) ? (b.pos.z - a.pos.z) : (a.pos ? -Infinity : Infinity);\n        },\n\n        /**\n         * Reverse Z Sorting function\n         * @ignore\n         */\n        _sortReverseZ : function (a, b) {\n            return (a.pos && b.pos) ? (a.pos.z - b.pos.z) : (a.pos ? Infinity : -Infinity);\n        },\n\n        /**\n         * X Sorting function\n         * @ignore\n         */\n        _sortX : function (a, b) {\n            if (!b.pos || !a.pos) {\n                return (a.pos ? -Infinity : Infinity);\n            }\n            var result = b.pos.z - a.pos.z;\n            return (result ? result : (b.pos.x - a.pos.x));\n        },\n\n        /**\n         * Y Sorting function\n         * @ignore\n         */\n        _sortY : function (a, b) {\n            if (!b.pos || !a.pos) {\n                return (a.pos ? -Infinity : Infinity);\n            }\n            var result = b.pos.z - a.pos.z;\n            return (result ? result : (b.pos.y - a.pos.y));\n        },\n\n        /**\n         * Destroy function<br>\n         * @ignore\n         */\n        destroy : function () {\n            // empty the container\n            this.reset();\n            // call the parent destroy method\n            this._super(me.Renderable, \"destroy\", arguments);\n        },\n\n        /**\n         * @ignore\n         */\n        update : function (dt) {\n            this._super(me.Renderable, \"update\", [dt]);\n            var isDirty = false;\n            var isFloating = false;\n            var isPaused = me.state.isPaused();\n\n            // Update container's absolute position\n            this._absPos.setV(this.pos);\n            if (this.ancestor) {\n                this._absPos.add(this.ancestor._absPos);\n            }\n\n            for (var i = this.children.length, obj; i--, (obj = this.children[i]);) {\n                if (isPaused && (!obj.updateWhenPaused)) {\n                    // skip this object\n                    continue;\n                }\n\n                if (obj.isRenderable) {\n                    isFloating = (globalFloatingCounter > 0 || obj.floating);\n                    if (isFloating) {\n                        globalFloatingCounter++;\n                    }\n\n                    // check if object is in any active cameras\n                    obj.inViewport = false;\n                    // iterate through all cameras\n                    me.state.current().cameras.forEach(function(camera) {\n                        if (camera.isVisible(obj, isFloating)) {\n                            obj.inViewport = true;\n                        };\n                    });\n\n                    // update our object\n                    isDirty = ((obj.inViewport || obj.alwaysUpdate) && obj.update(dt)) || isDirty;\n\n                    // Update child's absolute position\n                    obj._absPos.setV(this._absPos).add(obj.pos);\n\n                    if (globalFloatingCounter > 0) {\n                        globalFloatingCounter--;\n                    }\n                }\n                else {\n                    // just directly call update() for non renderable object\n                    isDirty = obj.update(dt) || isDirty;\n                }\n            }\n\n            return isDirty;\n        },\n\n        /**\n         * @ignore\n         */\n        draw : function (renderer, rect) {\n            var isFloating = false;\n\n            this.drawCount = 0;\n\n            // clip the containter children to the container bounds\n            if (this.root === false && this.clipping === true && this.childBounds.isFinite() === true) {\n                renderer.clipRect(\n                    this.childBounds.pos.x,\n                    this.childBounds.pos.y,\n                    this.childBounds.width,\n                    this.childBounds.height\n                );\n            }\n\n            // adjust position if required (e.g. canvas/window centering)\n            renderer.translate(this.pos.x, this.pos.y);\n\n            for (var i = this.children.length, obj; i--, (obj = this.children[i]);) {\n                if (obj.isRenderable) {\n\n                    isFloating = obj.floating === true;\n\n                    if ((obj.inViewport || isFloating)) {\n\n                        if (isFloating) {\n                            // translate to screen coordinates\n                            renderer.save();\n                            renderer.resetTransform();\n                        }\n\n                        // predraw (apply transforms)\n                        obj.preDraw(renderer);\n\n                        // draw the object\n                        obj.draw(renderer, rect);\n\n                        // postdraw (clean-up);\n                        obj.postDraw(renderer);\n\n                        // restore the previous \"state\"\n                        if (isFloating) {\n                            renderer.restore();\n                        }\n\n                        this.drawCount++;\n                    }\n                }\n            }\n        }\n    });\n})();\n","(function () {\n    // some ref shortcut\n    var MIN = Math.min, MAX = Math.max;\n\n    var targetV = new me.Vector2d();\n\n    /**\n     * a 2D orthographic camera\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {Number} minX start x offset\n     * @param {Number} minY start y offset\n     * @param {Number} maxX end x offset\n     * @param {Number} maxY end y offset\n     */\n    me.Camera2d = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init : function (minX, minY, maxX, maxY) {\n            this._super(me.Renderable, \"init\", [minX, minY, maxX - minX, maxY - minY]);\n\n            /**\n             * Axis definition\n             * @property NONE\n             * @property HORIZONTAL\n             * @property VERTICAL\n             * @property BOTH\n             * @public\n             * @constant\n             * @enum {Number}\n             * @name AXIS\n             * @memberOf me.Camera2d\n             */\n            this.AXIS = {\n                NONE : 0,\n                HORIZONTAL : 1,\n                VERTICAL : 2,\n                BOTH : 3\n            };\n\n            /**\n             * Camera bounds\n             * @public\n             * @type me.Rect\n             * @name bounds\n             * @memberOf me.Camera2d\n             */\n            this.bounds = new me.Rect(-Infinity, -Infinity, Infinity, Infinity);\n\n            /**\n             * [IMTERNAL] enable or disable damping\n             * @private\n             * @type {Boolean}\n             * @name smoothFollow\n             * @see me.Camera2d.damping\n             * @default true\n             * @memberOf me.Camera2d\n             */\n            this.smoothFollow = true;\n\n            /**\n             * Camera damping for smooth transition [0 .. 1].\n             * 1 being the maximum value and will snap the camera to the target position\n             * @public\n             * @type {Number}\n             * @name damping\n             * @default 1.0\n             * @memberOf me.Camera2d\n             */\n            this.damping = 1.0;\n\n            // offset for shake effect\n            this.offset = new me.Vector2d();\n\n            // target to follow\n            this.target = null;\n\n            // default value follow\n            this.follow_axis = this.AXIS.NONE;\n\n            // shake variables\n            this._shake = {\n                intensity : 0,\n                duration : 0,\n                axis : this.AXIS.BOTH,\n                onComplete : null\n            };\n\n            // flash variables\n            this._fadeOut = {\n                color : null,\n                tween : null\n            };\n            // fade variables\n            this._fadeIn = {\n                color : null,\n                tween : null\n            };\n\n            // default camera name\n            this.name = \"default\";\n\n            // set a default deadzone\n            this.setDeadzone(this.width / 6, this.height / 6);\n\n            // for backward \"compatiblity\" (in terms of behavior)\n            this.anchorPoint.set(0, 0);\n\n            // enable event detection on the camera\n            this.isKinematic = false;\n\n            // subscribe to the game reset event\n            me.event.subscribe(me.event.GAME_RESET, this.reset.bind(this));\n            // subscribe to the canvas resize event\n            me.event.subscribe(me.event.CANVAS_ONRESIZE, this.resize.bind(this));\n        },\n\n        // -- some private function ---\n\n        /** @ignore */\n        _followH : function (target) {\n            var targetX = this.pos.x;\n            if ((target.x - this.pos.x) > (this.deadzone.right)) {\n                targetX = MIN((target.x) - (this.deadzone.right), this.bounds.width - this.width);\n            }\n            else if ((target.x - this.pos.x) < (this.deadzone.pos.x)) {\n                targetX = MAX((target.x) - this.deadzone.pos.x, this.bounds.pos.x);\n            }\n            return targetX;\n\n        },\n\n        /** @ignore */\n        _followV : function (target) {\n            var targetY = this.pos.y;\n            if ((target.y - this.pos.y) > (this.deadzone.bottom)) {\n                targetY = MIN((target.y) - (this.deadzone.bottom), this.bounds.height - this.height);\n            }\n            else if ((target.y - this.pos.y) < (this.deadzone.pos.y)) {\n                targetY = MAX((target.y) - this.deadzone.pos.y, this.bounds.pos.y);\n            }\n            return targetY;\n        },\n\n        // -- public function ---\n\n        /**\n         * reset the camera position to specified coordinates\n         * @name reset\n         * @memberOf me.Camera2d\n         * @function\n         * @param {Number} [x=0]\n         * @param {Number} [y=0]\n         */\n        reset : function (x, y) {\n            // reset the initial camera position to 0,0\n            this.pos.x = x || 0;\n            this.pos.y = y || 0;\n\n            // reset the target\n            this.unfollow();\n\n            // damping default value\n            this.smoothFollow = true;\n            this.damping = 1.0;\n\n            // reset the transformation matrix\n            this.currentTransform.identity();\n        },\n\n        /**\n         * change the deadzone settings.\n         * the \"deadzone\" defines an area within the current camera in which\n         * the followed renderable can move without scrolling the camera.\n         * @name setDeadzone\n         * @see me.Camera2d.follow\n         * @memberOf me.Camera2d\n         * @function\n         * @param {Number} w deadzone width\n         * @param {Number} h deadzone height\n         */\n        setDeadzone : function (w, h) {\n            if (typeof(this.deadzone) === \"undefined\") {\n                this.deadzone = new me.Rect(0, 0, 0, 0);\n            }\n\n            // reusing the old code for now...\n            this.deadzone.pos.set(\n                ~~((this.width - w) / 2),\n                ~~((this.height - h) / 2 - h * 0.25)\n            );\n            this.deadzone.resize(w, h);\n\n            this.smoothFollow = false;\n\n            // force a camera update\n            this.updateTarget();\n\n            this.smoothFollow = true;\n        },\n\n\n        /**\n         * resize the camera\n         * @name resize\n         * @memberOf me.Camera2d\n         * @function\n         * @param {Number} w new width of the camera\n         * @param {Number} h new height of the camera\n         * @return {me.Camera2d} this camera\n        */\n        resize : function (w, h) {\n            // parent consctructor, resize camera rect\n            this._super(me.Renderable, \"resize\", [w, h]);\n\n            // disable damping while resizing\n            this.smoothFollow = false;\n\n            // update bounds\n            var level = me.levelDirector.getCurrentLevel();\n            this.setBounds(\n                0, 0,\n                Math.max(w, level ? level.width : 0),\n                Math.max(h, level ? level.height : 0)\n            );\n\n            // reset everthing\n            this.setDeadzone(w / 6, h / 6);\n            this.update();\n            this.smoothFollow = true;\n\n            me.event.publish(me.event.VIEWPORT_ONRESIZE, [ this.width, this.height ]);\n\n            return this;\n        },\n\n        /**\n         * set the camera boundaries (set to the world limit by default).\n         * the camera is bound to the given coordinates and cannot move/be scrolled outside of it.\n         * @name setBounds\n         * @memberOf me.Camera2d\n         * @function\n         * @param {Number} x world left limit\n         * @param {Number} y world top limit\n         * @param {Number} w world width limit\n         * @param {Number} h world height limit\n         */\n        setBounds : function (x, y, w, h) {\n            this.smoothFollow = false;\n            this.bounds.pos.set(x, y);\n            this.bounds.resize(w, h);\n            this.moveTo(this.pos.x, this.pos.y);\n            this.update();\n            this.smoothFollow = true;\n        },\n\n        /**\n         * set the camera to follow the specified renderable. <br>\n         * (this will put the camera center around the given target)\n         * @name follow\n         * @memberOf me.Camera2d\n         * @function\n         * @param {me.Renderable|me.Vector2d} target renderable or position vector to follow\n         * @param {me.Camera2d.AXIS} [axis=this.AXIS.BOTH] Which axis to follow\n         * @param {Number} [damping=1] default damping value\n         * @example\n         * // set the camera to follow this renderable on both axis, and enable damping\n         * me.game.viewport.follow(this, me.game.viewport.AXIS.BOTH, 0.1);\n         */\n        follow : function (target, axis, damping) {\n            if (target instanceof me.Renderable) {\n                this.target = target.pos;\n            }\n            else if ((target instanceof me.Vector2d) || (target instanceof me.Vector3d))  {\n                this.target = target;\n            }\n            else {\n                throw new Error(\"invalid target for me.Camera2d.follow\");\n            }\n            // if axis is null, camera is moved on target center\n            this.follow_axis = (\n                typeof(axis) === \"undefined\" ? this.AXIS.BOTH : axis\n            );\n\n            this.smoothFollow = false;\n\n            if (typeof damping !== \"number\") {\n                this.damping = 1;\n            } else {\n                this.damping = me.Math.clamp(damping, 0.0, 1.0);\n            }\n\n            // force a camera update\n            this.updateTarget();\n\n            this.smoothFollow = true;\n        },\n\n        /**\n         * unfollow the current target\n         * @name unfollow\n         * @memberOf me.Camera2d\n         * @function\n         */\n        unfollow : function () {\n            this.target = null;\n            this.follow_axis = this.AXIS.NONE;\n        },\n\n        /**\n         * move the camera upper-left position by the specified offset.\n         * @name move\n         * @memberOf me.Camera2d\n         * @see me.Camera2d.focusOn\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @example\n         * // Move the camera up by four pixels\n         * me.game.viewport.move(0, -4);\n         */\n        move : function (x, y) {\n            this.moveTo(this.pos.x + x, this.pos.y + y);\n        },\n\n        /**\n         * move the camera upper-left position to the specified coordinates\n         * @name moveTo\n         * @memberOf me.Camera2d\n         * @see me.Camera2d.focusOn\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         */\n        moveTo : function (x, y) {\n            var _x = this.pos.x;\n            var _y = this.pos.y;\n\n            this.pos.x = me.Math.clamp(\n                x,\n                this.bounds.pos.x,\n                this.bounds.width - this.width\n            );\n            this.pos.y = me.Math.clamp(\n                y,\n                this.bounds.pos.y,\n                this.bounds.height - this.height\n            );\n\n            //publish the VIEWPORT_ONCHANGE event if necessary\n            if (_x !== this.pos.x || _y !== this.pos.y) {\n                me.event.publish(me.event.VIEWPORT_ONCHANGE, [this.pos]);\n            }\n        },\n\n        /** @ignore */\n        updateTarget : function () {\n            if (this.target) {\n\n                targetV.setV(this.pos);\n\n                switch (this.follow_axis) {\n                    case this.AXIS.NONE:\n                        //this.focusOn(this.target);\n                        break;\n\n                    case this.AXIS.HORIZONTAL:\n                        targetV.x = this._followH(this.target);\n                        break;\n\n                    case this.AXIS.VERTICAL:\n                        targetV.y = this._followV(this.target);\n                        break;\n\n                    case this.AXIS.BOTH:\n                        targetV.x = this._followH(this.target);\n                        targetV.y = this._followV(this.target);\n                        break;\n\n                    default:\n                        break;\n                }\n\n                if (!this.pos.equals(targetV)) {\n                    // update the camera position\n                    if (this.smoothFollow === true && this.damping < 1.0) {\n                        // account for floating precision and check if we are close \"enough\"\n                        if (me.Math.toBeCloseTo(targetV.x, this.pos.x, 2) &&\n                            me.Math.toBeCloseTo(targetV.y, this.pos.y, 2)) {\n                            this.pos.setV(targetV);\n                            return false;\n                        } else {\n                            this.pos.lerp(targetV, this.damping);\n                        }\n                    } else {\n                        this.pos.setV(targetV);\n                    }\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        /** @ignore */\n        update : function (dt) {\n            var updated = this.updateTarget(dt);\n\n            if (this._shake.duration > 0) {\n                this._shake.duration -= dt;\n                if (this._shake.duration <= 0) {\n                    this._shake.duration = 0;\n                    this.offset.setZero();\n                    if (typeof(this._shake.onComplete) === \"function\") {\n                        this._shake.onComplete();\n                    }\n                }\n                else {\n                    if (this._shake.axis === this.AXIS.BOTH ||\n                        this._shake.axis === this.AXIS.HORIZONTAL) {\n                        this.offset.x = (Math.random() - 0.5) * this._shake.intensity;\n                    }\n                    if (this._shake.axis === this.AXIS.BOTH ||\n                        this._shake.axis === this.AXIS.VERTICAL) {\n                        this.offset.y = (Math.random() - 0.5) * this._shake.intensity;\n                    }\n                }\n                // updated!\n                updated = true;\n            }\n\n            if (updated === true) {\n                //publish the corresponding message\n                me.event.publish(me.event.VIEWPORT_ONCHANGE, [this.pos]);\n            }\n\n            // check for fade/flash effect\n            if ((this._fadeIn.tween != null) || (this._fadeOut.tween != null)) {\n                updated = true;\n            }\n\n            return updated;\n        },\n\n        /**\n         * shake the camera\n         * @name shake\n         * @memberOf me.Camera2d\n         * @function\n         * @param {Number} intensity maximum offset that the screen can be moved\n         * while shaking\n         * @param {Number} duration expressed in milliseconds\n         * @param {me.Camera2d.AXIS} [axis=this.AXIS.BOTH] specify on which axis you\n         *   want the shake effect\n         * @param {Function} [onComplete] callback once shaking effect is over\n         * @param {Boolean} [force] if true this will override the current effect\n         * @example\n         * // shake it baby !\n         * me.game.viewport.shake(10, 500, me.game.viewport.AXIS.BOTH);\n         */\n        shake : function (intensity, duration, axis, onComplete, force) {\n            if (this._shake.duration === 0 || force === true) {\n                this._shake.intensity = intensity;\n                this._shake.duration = duration;\n                this._shake.axis = axis || this.AXIS.BOTH;\n                this._shake.onComplete = typeof (onComplete) === \"function\" ? onComplete : undefined;\n            }\n        },\n\n        /**\n         * fadeOut(flash) effect<p>\n         * screen is filled with the specified color and slowly goes back to normal\n         * @name fadeOut\n         * @memberOf me.Camera2d\n         * @function\n         * @param {me.Color|String} color a CSS color value\n         * @param {Number} [duration=1000] expressed in milliseconds\n         * @param {Function} [onComplete] callback once effect is over\n         * @example\n         * // fade the camera to white upon dying, reload the level, and then fade out back\n         * me.game.viewport.fadeIn(\"#fff\", 150, function() {\n         *     me.audio.play(\"die\", false);\n         *     me.levelDirector.reloadLevel();\n         *     me.game.viewport.fadeOut(\"#fff\", 150);\n         * });\n         */\n        fadeOut : function (color, duration, onComplete) {\n            this._fadeOut.color = me.pool.pull(\"me.Color\").copy(color);\n            this._fadeOut.tween = me.pool.pull(\"me.Tween\", this._fadeOut.color)\n                .to({ alpha: 0.0 }, duration || 1000)\n                .onComplete(onComplete || null);\n            this._fadeOut.tween.isPersistent = true;\n            this._fadeOut.tween.start();\n        },\n\n        /**\n         * fadeIn effect <p>\n         * fade to the specified color\n         * @name fadeIn\n         * @memberOf me.Camera2d\n         * @function\n         * @param {me.Color|String} color a CSS color value\n         * @param {Number} [duration=1000] expressed in milliseconds\n         * @param {Function} [onComplete] callback once effect is over\n         * @example\n         * // flash the camera to white for 75ms\n         * me.game.viewport.fadeIn(\"#FFFFFF\", 75);\n         */\n        fadeIn : function (color, duration, onComplete) {\n            this._fadeIn.color = me.pool.pull(\"me.Color\").copy(color);\n            var _alpha = this._fadeIn.color.alpha;\n            this._fadeIn.color.alpha = 0.0;\n            this._fadeIn.tween = me.pool.pull(\"me.Tween\", this._fadeIn.color)\n                .to({ alpha: _alpha }, duration || 1000)\n                .onComplete(onComplete || null);\n            this._fadeIn.tween.isPersistent = true;\n            this._fadeIn.tween.start();\n        },\n\n        /**\n         * return the camera width\n         * @name getWidth\n         * @memberOf me.Camera2d\n         * @function\n         * @return {Number}\n         */\n        getWidth : function () {\n            return this.width;\n        },\n\n        /**\n         * return the camera height\n         * @name getHeight\n         * @memberOf me.Camera2d\n         * @function\n         * @return {Number}\n         */\n        getHeight : function () {\n            return this.height;\n        },\n\n        /**\n         * set the camera position around the specified object\n         * @name focusOn\n         * @memberOf me.Camera2d\n         * @function\n         * @param {me.Renderable}\n         */\n        focusOn : function (target) {\n            var bounds = target.getBounds();\n            this.moveTo(\n                target.pos.x + bounds.pos.x + (bounds.width / 2),\n                target.pos.y + bounds.pos.y + (bounds.height / 2)\n            );\n        },\n\n        /**\n         * check if the specified renderable is in the camera\n         * @name isVisible\n         * @memberOf me.Camera2d\n         * @function\n         * @param {me.Renderable} object\n         * @param {Boolean} [floating===object.floating] if visibility check should be done against screen coordinates\n         * @return {Boolean}\n         */\n        isVisible : function (obj, floating) {\n            if (floating === true || obj.floating === true) {\n                // check against screen coordinates\n                return me.video.renderer.overlaps(obj.getBounds());\n            } else {\n                // check if within the current camera\n                return obj.getBounds().overlaps(this);\n            }\n        },\n\n        /**\n         * convert the given \"local\" (screen) coordinates into world coordinates\n         * @name localToWorld\n         * @memberOf me.Camera2d\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} [v] an optional vector object where to set the\n         * converted value\n         * @return {me.Vector2d}\n         */\n        localToWorld : function (x, y, v) {\n            // TODO memoization for one set of coords (multitouch)\n            v = v || new me.Vector2d();\n            v.set(x, y).add(this.pos).sub(me.game.world.pos);\n            if (!this.currentTransform.isIdentity()) {\n                this.currentTransform.multiplyVectorInverse(v);\n            }\n            return v;\n        },\n\n        /**\n         * convert the given world coordinates into \"local\" (screen) coordinates\n         * @name worldToLocal\n         * @memberOf me.Camera2d\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} [v] an optional vector object where to set the\n         * converted value\n         * @return {me.Vector2d}\n         */\n        worldToLocal : function (x, y, v) {\n            // TODO memoization for one set of coords (multitouch)\n            v = v || new me.Vector2d();\n            v.set(x, y)\n            if (!this.currentTransform.isIdentity()) {\n                this.currentTransform.multiplyVector(v);\n            }\n            return v.sub(this.pos).add(me.game.world.pos);\n        },\n\n        /**\n         * render the camera effects\n         * @ignore\n         */\n        drawFX : function (renderer) {\n            // fading effect\n            if (this._fadeIn.tween) {\n                renderer.clearColor(this._fadeIn.color);\n                // remove the tween if over\n                if (this._fadeIn.color.alpha === 1.0) {\n                    this._fadeIn.tween = null;\n                    me.pool.push(this._fadeIn.color);\n                    this._fadeIn.color = null;\n                }\n            }\n\n            // flashing effect\n            if (this._fadeOut.tween) {\n                renderer.clearColor(this._fadeOut.color);\n                // remove the tween if over\n                if (this._fadeOut.color.alpha === 0.0) {\n                    this._fadeOut.tween = null;\n                    me.pool.push(this._fadeOut.color);\n                    this._fadeOut.color = null;\n                }\n            }\n        },\n\n        /**\n         * draw all object visibile in this viewport\n         * @ignore\n         */\n        draw : function (renderer, container) {\n            var translateX = this.pos.x + this.offset.x;\n            var translateY = this.pos.y + this.offset.y;\n\n            // translate the world coordinates by default to screen coordinates\n            container.currentTransform.translate(-translateX, -translateY);\n\n            // clip to camera bounds\n            renderer.clipRect(\n                0,\n                0,\n                this.width,\n                this.height\n            );\n\n            this.preDraw(renderer);\n\n            container.preDraw(renderer);\n\n            // draw all objects,\n            // specifying the viewport as the rectangle area to redraw\n            container.draw(renderer, this);\n\n            // draw the viewport/camera effects\n            this.drawFX(renderer);\n\n            container.postDraw(renderer);\n\n            this.postDraw(renderer);\n\n            // translate the world coordinates by default to screen coordinates\n            container.currentTransform.translate(translateX, translateY);\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * a Generic Object Entity<br>\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {Number} x the x coordinates of the entity object\n     * @param {Number} y the y coordinates of the entity object\n     * @param {Object} settings Entity properties, to be defined through Tiled or when calling the entity constructor\n     * <img src=\"images/object_properties.png\"/>\n     * @param {Number} settings.width the physical width the entity takes up in game\n     * @param {Number} settings.height the physical height the entity takes up in game\n     * @param {String} [settings.name] object entity name\n     * @param {String} [settings.id] object unique IDs\n     * @param {Image|String} [settings.image] resource name of a spritesheet to use for the entity renderable component\n     * @param {Number} [settings.framewidth=settings.width] width of a single frame in the given spritesheet\n     * @param {Number} [settings.frameheight=settings.width] height of a single frame in the given spritesheet\n     * @param {String} [settings.type] object type\n     * @param {Number} [settings.collisionMask] Mask collision detection for this object\n     * @param {me.Rect[]|me.Polygon[]|me.Line[]|me.Ellipse[]} [settings.shapes] the initial list of collision shapes (usually populated through Tiled)\n     */\n    me.Entity = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, settings) {\n\n            /**\n             * The array of renderable children of this entity.\n             * @ignore\n             */\n            this.children = [];\n\n            // ensure mandatory properties are defined\n            if ((typeof settings.width !== \"number\") || (typeof settings.height !== \"number\")) {\n                throw new Error(\"height and width properties are mandatory when passing settings parameters to an object entity\");\n            }\n\n            // call the super constructor\n            this._super(me.Renderable, \"init\", [x, y, settings.width, settings.height]);\n\n            if (settings.image) {\n                // set the frame size to the given entity size, if not defined in settings\n                settings.framewidth = settings.framewidth || settings.width;\n                settings.frameheight = settings.frameheight || settings.height;\n                this.renderable = new me.Sprite(0, 0, settings);\n            }\n\n            // Update anchorPoint\n            if (settings.anchorPoint) {\n                this.anchorPoint.set(settings.anchorPoint.x, settings.anchorPoint.y);\n            }\n\n            // set the sprite name if specified\n            if (typeof (settings.name) === \"string\") {\n                this.name = settings.name;\n            }\n\n            /**\n             * object type (as defined in Tiled)\n             * @public\n             * @type String\n             * @name type\n             * @memberOf me.Entity\n             */\n            this.type = settings.type || \"\";\n\n            /**\n             * object unique ID (as defined in Tiled)\n             * @public\n             * @type Number\n             * @name id\n             * @memberOf me.Entity\n             */\n            this.id = settings.id || \"\";\n\n            /**\n             * dead/living state of the entity<br>\n             * default value : true\n             * @public\n             * @type Boolean\n             * @name alive\n             * @memberOf me.Entity\n             */\n            this.alive = true;\n\n            /**\n             * the entity body object\n             * @public\n             * @type me.Body\n             * @name body\n             * @memberOf me.Entity\n             */\n            // initialize the default body\n            var shapes = (\n                Array.isArray(settings.shapes) ?\n                settings.shapes : [\n                    new me.Polygon(0, 0, [\n                        new me.Vector2d(0, 0),\n                        new me.Vector2d(this.width, 0),\n                        new me.Vector2d(this.width, this.height),\n                        new me.Vector2d(0, this.height)\n                    ])\n                ]\n            );\n            if (typeof this.body !== \"undefined\") {\n                this.body.init(this, shapes, this.onBodyUpdate.bind(this));\n            }\n            else {\n                this.body = new me.Body(this, shapes, this.onBodyUpdate.bind(this));\n            }\n\n            // resize the entity if required\n            if (this.width === 0 && this.height === 0) {\n                this.resize(this.body.width, this.body.height);\n            }\n\n            // set the  collision mask if defined\n            if (typeof(settings.collisionMask) !== \"undefined\") {\n                this.body.setCollisionMask(settings.collisionMask);\n            }\n\n            // set the  collision mask if defined\n            if (typeof(settings.collisionType) !== \"undefined\") {\n                if (typeof me.collision.types[settings.collisionType] !== \"undefined\") {\n                    this.body.collisionType = me.collision.types[settings.collisionType];\n                } else {\n                    throw new Error(\"Invalid value for the collisionType property\");\n                }\n            }\n\n            // disable for entities\n            this.autoTransform = false;\n\n            // enable collision detection\n            this.isKinematic = false;\n        },\n\n        /**\n         * return the distance to the specified entity\n         * @name distanceTo\n         * @memberOf me.Entity\n         * @function\n         * @param {me.Entity} entity Entity\n         * @return {Number} distance\n         */\n        distanceTo: function (e) {\n            var a = this.getBounds();\n            var b = e.getBounds();\n            // the me.Vector2d object also implements the same function, but\n            // we have to use here the center of both entities\n            var dx = (a.pos.x + (a.width / 2))  - (b.pos.x + (b.width / 2));\n            var dy = (a.pos.y + (a.height / 2)) - (b.pos.y + (b.height / 2));\n            return Math.sqrt(dx * dx + dy * dy);\n        },\n\n        /**\n         * return the distance to the specified point\n         * @name distanceToPoint\n         * @memberOf me.Entity\n         * @function\n         * @param {me.Vector2d} vector vector\n         * @return {Number} distance\n         */\n        distanceToPoint: function (v) {\n            var a = this.getBounds();\n            // the me.Vector2d object also implements the same function, but\n            // we have to use here the center of both entities\n            var dx = (a.pos.x + (a.width / 2))  - (v.x);\n            var dy = (a.pos.y + (a.height / 2)) - (v.y);\n            return Math.sqrt(dx * dx + dy * dy);\n        },\n\n        /**\n         * return the angle to the specified entity\n         * @name angleTo\n         * @memberOf me.Entity\n         * @function\n         * @param {me.Entity} entity Entity\n         * @return {Number} angle in radians\n         */\n        angleTo: function (e) {\n            var a = this.getBounds();\n            var b = e.getBounds();\n            // the me.Vector2d object also implements the same function, but\n            // we have to use here the center of both entities\n            var ax = (b.pos.x + (b.width / 2)) - (a.pos.x + (a.width / 2));\n            var ay = (b.pos.y + (b.height / 2)) - (a.pos.y + (a.height / 2));\n            return Math.atan2(ay, ax);\n        },\n\n        /**\n         * return the angle to the specified point\n         * @name angleToPoint\n         * @memberOf me.Entity\n         * @function\n         * @param {me.Vector2d} vector vector\n         * @return {Number} angle in radians\n         */\n        angleToPoint: function (v) {\n            var a = this.getBounds();\n            // the me.Vector2d object also implements the same function, but\n            // we have to use here the center of both entities\n            var ax = (v.x) - (a.pos.x + (a.width / 2));\n            var ay = (v.y) - (a.pos.y + (a.height / 2));\n            return Math.atan2(ay, ax);\n        },\n\n        /** @ignore */\n        update : function (dt) {\n            if (this.renderable) {\n                return this.renderable.update(dt);\n            }\n            return this._super(me.Renderable, \"update\", [dt]);\n        },\n\n        /**\n         * update the bounds position when the position is modified\n         * @private\n         * @name updateBoundsPos\n         * @memberOf me.Entity\n         * @function\n         */\n        updateBoundsPos : function (x, y) {\n            if (typeof this.body !== \"undefined\") {\n                var _pos = this.body.pos;\n                this._super(me.Renderable, \"updateBoundsPos\", [\n                    x + _pos.x,\n                    y + _pos.y\n                ]);\n            } else {\n                this._super(me.Renderable, \"updateBoundsPos\", [x, y]);\n            }\n            return this.getBounds();\n        },\n\n        /**\n         * update the bounds position when the body is modified\n         * @private\n         * @name onBodyUpdate\n         * @memberOf me.Entity\n         * @function\n         */\n        onBodyUpdate : function (body) {\n            // update the entity bounds to match with the body bounds\n            this.getBounds().resize(body.width, body.height);\n            // update the bounds pos\n            this.updateBoundsPos(this.pos.x, this.pos.y);\n        },\n\n        preDraw : function (renderer) {\n            renderer.save();\n\n            // translate to the entity position\n            renderer.translate(\n                this.pos.x + this.body.pos.x,\n                this.pos.y + this.body.pos.y\n            );\n\n            if (this.renderable instanceof me.Renderable) {\n                // draw the child renderable's anchorPoint at the entity's\n                // anchor point.  the entity's anchor point is a scale from\n                // body position to body width/height\n                renderer.translate(\n                    this.anchorPoint.x * this.body.width,\n                    this.anchorPoint.y * this.body.height\n                );\n            }\n        },\n\n        /**\n         * object draw<br>\n         * not to be called by the end user<br>\n         * called by the game manager on each game loop\n         * @name draw\n         * @memberOf me.Entity\n         * @function\n         * @protected\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer a renderer object\n         * @param {me.Rect} region to draw\n         **/\n        draw : function (renderer, rect) {\n            var renderable = this.renderable;\n            if (renderable instanceof me.Renderable) {\n                // predraw (apply transforms)\n                renderable.preDraw(renderer);\n\n                // draw the object\n                renderable.draw(renderer, rect);\n\n                // postdraw (clean-up);\n                renderable.postDraw(renderer);\n            }\n        },\n\n        /**\n         * Destroy function<br>\n         * @ignore\n         */\n        destroy : function () {\n            // free some property objects\n            if (this.renderable) {\n                this.renderable.destroy.apply(this.renderable, arguments);\n                this.children.splice(0, 1);\n            }\n\n            // call the parent destroy method\n            this._super(me.Renderable, \"destroy\", arguments);\n        },\n\n        /**\n         * onDeactivateEvent Notification function<br>\n         * Called by engine before deleting the object\n         * @name onDeactivateEvent\n         * @memberOf me.Entity\n         * @function\n         */\n        onDeactivateEvent : function () {\n          if (this.renderable && this.renderable.onDeactivateEvent) {\n              this.renderable.onDeactivateEvent();\n          }\n        },\n\n        /**\n         * onCollision callback<br>\n         * triggered in case of collision, when this entity body is being \"touched\" by another one<br>\n         * @name onCollision\n         * @memberOf me.Entity\n         * @function\n         * @param {me.collision.ResponseObject} response the collision response object\n         * @param {me.Entity} other the other entity touching this one (a reference to response.a or response.b)\n         * @return {Boolean} true if the object should respond to the collision (its position and velocity will be corrected)\n         */\n        onCollision : function () {\n            return false;\n        }\n    });\n\n\n    /**\n     * The entity renderable component (can be any objects deriving from me.Renderable, like me.Sprite for example)\n     * @public\n     * @type me.Renderable\n     * @name renderable\n     * @memberOf me.Entity\n     */\n    Object.defineProperty(me.Entity.prototype, \"renderable\", {\n        /* for backward compatiblity */\n        /**\n         * @ignore\n         */\n        get : function () {\n            return this.children[0];\n        },\n        /**\n         * @ignore\n         */\n        set : function (value) {\n            if (value instanceof me.Renderable) {\n                this.children[0] = value;\n                this.children[0].ancestor = this;\n            } else {\n                throw new Error(value + \"should extend me.Renderable\");\n            }\n        },\n        configurable : true\n    });\n})();\n","(function () {\n\n    // a default camera instance to use across all stages\n    var default_camera;\n\n    // default stage settings\n    var default_settings = {\n        cameras : []\n    };\n\n    /**\n     * A default \"Stage\" object <br>\n     * every \"stage\" object (title screen, credits, ingame, etc...) to be managed <br>\n     * through the state manager must inherit from this base class.\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {Object} [options] The stage` parameters\n     * @param {Boolean} [options.cameras=[new me.Camera2d()]] a list of cameras (experimental)\n     * @see me.state\n     */\n    me.Stage = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init: function (settings) {\n            /**\n             * The list of active cameras in this stage.\n             * Cameras will be renderered based on this order defined in this list.\n             * Only the \"default\" camera will be resized when the window or canvas is resized.\n             * @public\n             * @type {Map}\n             * @name cameras\n             * @memberOf me.Stage\n             */\n            this.cameras = new Map();\n\n            /**\n             * The given constructor options\n             * @public\n             * @name settings\n             * @memberOf me.Stage\n             * @enum {Object}\n             */\n            this.settings = Object.assign(default_settings, settings || {});\n        },\n\n        /**\n         * Object reset function\n         * @ignore\n         */\n        reset : function () {\n            var self = this;\n\n            // add all defined cameras\n            this.settings.cameras.forEach(function(camera) {\n                self.cameras.set(camera.name, camera);\n            });\n\n            // empty or no default camera\n            if (this.cameras.has(\"default\") === false) {\n                if (typeof default_camera === \"undefined\") {\n                    var width = me.video.renderer.getWidth();\n                    var height = me.video.renderer.getHeight();\n                    // new default camera instance\n                    default_camera = new me.Camera2d(0, 0, width, height);\n                }\n                this.cameras.set(\"default\", default_camera);\n            }\n\n            // reset the game manager\n            me.game.reset();\n\n            // call the onReset Function\n            this.onResetEvent.apply(this, arguments);\n        },\n\n        /**\n         * destroy function\n         * @ignore\n         */\n        destroy : function () {\n            // clear all cameras\n            this.cameras.clear();\n            // notify the object\n            this.onDestroyEvent.apply(this, arguments);\n        },\n\n        /**\n         * onResetEvent function<br>\n         * called by the state manager when reseting the object\n         * this is typically where you will load a level, add renderables, etc...\n         * @name onResetEvent\n         * @memberOf me.Stage\n         * @function\n         * @param {} [arguments...] optional arguments passed when switching state\n         * @see me.state#change\n         */\n        onResetEvent : function () {\n            // to be extended\n        },\n\n        /**\n         * onDestroyEvent function<br>\n         * called by the state manager before switching to another state\n         * @name onDestroyEvent\n         * @memberOf me.Stage\n         * @function\n         */\n        onDestroyEvent : function () {\n            // to be extended\n        }\n    });\n\n})();\n","(function () {\n\n    /**\n     * a State Manager (state machine)<p>\n     * There is no constructor function for me.state.\n     * @namespace me.state\n     * @memberOf me\n     */\n    me.state = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        /*-------------------------------------------\n            PRIVATE STUFF\n         --------------------------------------------*/\n\n        // current state\n        var _state = -1;\n\n        // requestAnimeFrame Id\n        var _animFrameId = -1;\n\n        // whether the game state is \"paused\"\n        var _isPaused = false;\n\n        // list of stages\n        var _stages = {};\n\n        // fading transition parameters between screen\n        var _fade = {\n            color : \"\",\n            duration : 0\n        };\n\n        // callback when state switch is done\n        /** @ignore */\n        var _onSwitchComplete = null;\n\n        // just to keep track of possible extra arguments\n        var _extraArgs = null;\n\n        // store the elapsed time during pause/stop period\n        var _pauseTime = 0;\n\n        /**\n         * @ignore\n         */\n        function _startRunLoop() {\n            // ensure nothing is running first and in valid state\n            if ((_animFrameId === -1) && (_state !== -1)) {\n                // reset the timer\n                me.timer.reset();\n\n                // start the main loop\n                _animFrameId = window.requestAnimationFrame(_renderFrame);\n            }\n        }\n\n        /**\n         * Resume the game loop after a pause.\n         * @ignore\n         */\n        function _resumeRunLoop() {\n            // ensure game is actually paused and in valid state\n            if (_isPaused && (_state !== -1)) {\n                // reset the timer\n                me.timer.reset();\n\n                _isPaused = false;\n            }\n        }\n\n        /**\n         * Pause the loop for most screen objects.\n         * @ignore\n         */\n        function _pauseRunLoop() {\n            // Set the paused boolean to stop updates on (most) entities\n            _isPaused = true;\n        }\n\n        /**\n         * this is only called when using requestAnimFrame stuff\n         * @param {Number} time current timestamp in milliseconds\n         * @ignore\n         */\n        function _renderFrame(time) {\n            var stage = _stages[_state].stage;\n            // update all game objects\n            me.game.update(time, stage);\n            // render all game objects\n            me.game.draw(stage);\n            // schedule the next frame update\n            if (_animFrameId !== -1) {\n                _animFrameId = window.requestAnimationFrame(_renderFrame);\n            }\n        }\n\n        /**\n         * stop the SO main loop\n         * @ignore\n         */\n        function _stopRunLoop() {\n            // cancel any previous animationRequestFrame\n            window.cancelAnimationFrame(_animFrameId);\n            _animFrameId = -1;\n        }\n\n        /**\n         * start the SO main loop\n         * @ignore\n         */\n        function _switchState(state) {\n            // clear previous interval if any\n            _stopRunLoop();\n\n            // call the stage destroy method\n            if (_stages[_state]) {\n                // just notify the object\n                _stages[_state].stage.destroy();\n            }\n\n            if (_stages[state]) {\n                // set the global variable\n                _state = state;\n\n                // call the reset function with _extraArgs as arguments\n                _stages[_state].stage.reset.apply(_stages[_state].stage, _extraArgs);\n\n                // and start the main loop of the\n                // new requested state\n                _startRunLoop();\n\n                // execute callback if defined\n                if (_onSwitchComplete) {\n                    _onSwitchComplete();\n                }\n\n                // force repaint\n                me.game.repaint();\n            }\n        }\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * default state ID for Loading Screen\n         * @constant\n         * @name LOADING\n         * @memberOf me.state\n         */\n        api.LOADING = 0;\n\n        /**\n         * default state ID for Menu Screen\n         * @constant\n         * @name MENU\n         * @memberOf me.state\n         */\n\n        api.MENU = 1;\n        /**\n         * default state ID for \"Ready\" Screen\n         * @constant\n         * @name READY\n         * @memberOf me.state\n         */\n\n        api.READY = 2;\n        /**\n         * default state ID for Play Screen\n         * @constant\n         * @name PLAY\n         * @memberOf me.state\n         */\n\n        api.PLAY = 3;\n        /**\n         * default state ID for Game Over Screen\n         * @constant\n         * @name GAMEOVER\n         * @memberOf me.state\n         */\n\n        api.GAMEOVER = 4;\n        /**\n         * default state ID for Game End Screen\n         * @constant\n         * @name GAME_END\n         * @memberOf me.state\n         */\n\n        api.GAME_END = 5;\n        /**\n         * default state ID for High Score Screen\n         * @constant\n         * @name SCORE\n         * @memberOf me.state\n         */\n\n        api.SCORE = 6;\n        /**\n         * default state ID for Credits Screen\n         * @constant\n         * @name CREDITS\n         * @memberOf me.state\n         */\n\n        api.CREDITS = 7;\n        /**\n         * default state ID for Settings Screen\n         * @constant\n         * @name SETTINGS\n         * @memberOf me.state\n         */\n        api.SETTINGS = 8;\n\n        /**\n         * default state ID for user defined constants<br>\n         * @constant\n         * @name USER\n         * @memberOf me.state\n         * @example\n         * var STATE_INFO = me.state.USER + 0;\n         * var STATE_WARN = me.state.USER + 1;\n         * var STATE_ERROR = me.state.USER + 2;\n         * var STATE_CUTSCENE = me.state.USER + 3;\n         */\n        api.USER = 100;\n\n        /**\n         * onPause callback\n         * @function\n         * @name onPause\n         * @memberOf me.state\n         */\n        api.onPause = null;\n\n        /**\n         * onResume callback\n         * @function\n         * @name onResume\n         * @memberOf me.state\n         */\n        api.onResume = null;\n\n        /**\n         * onStop callback\n         * @function\n         * @name onStop\n         * @memberOf me.state\n         */\n        api.onStop = null;\n\n        /**\n         * onRestart callback\n         * @function\n         * @name onRestart\n         * @memberOf me.state\n         */\n        api.onRestart = null;\n\n        /**\n         * @ignore\n         */\n        api.init = function () {\n            // set the embedded loading screen\n            api.set(api.LOADING, new me.DefaultLoadingScreen());\n        };\n\n        /**\n         * Stop the current screen object.\n         * @name stop\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {Boolean} pauseTrack pause current track on screen stop.\n         */\n        api.stop = function (music) {\n            // only stop when we are not loading stuff\n            if ((_state !== api.LOADING) && api.isRunning()) {\n                // stop the main loop\n                _stopRunLoop();\n                // current music stop\n                if (music === true) {\n                    me.audio.pauseTrack();\n                }\n\n                // store time when stopped\n                _pauseTime = window.performance.now();\n\n                // publish the stop notification\n                me.event.publish(me.event.STATE_STOP);\n                // any callback defined ?\n                if (typeof(api.onStop) === \"function\") {\n                    api.onStop();\n                }\n            }\n        };\n\n        /**\n         * pause the current screen object\n         * @name pause\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {Boolean} pauseTrack pause current track on screen pause\n         */\n        api.pause = function (music) {\n            // only pause when we are not loading stuff\n            if ((_state !== api.LOADING) && !api.isPaused()) {\n                // stop the main loop\n                _pauseRunLoop();\n                // current music stop\n                if (music === true) {\n                    me.audio.pauseTrack();\n                }\n\n                // store time when paused\n                _pauseTime = window.performance.now();\n\n                // publish the pause event\n                me.event.publish(me.event.STATE_PAUSE);\n                // any callback defined ?\n                if (typeof(api.onPause) === \"function\") {\n                    api.onPause();\n                }\n            }\n        };\n\n        /**\n         * Restart the screen object from a full stop.\n         * @name restart\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {Boolean} resumeTrack resume current track on screen resume\n         */\n        api.restart = function (music) {\n            if (!api.isRunning()) {\n                // restart the main loop\n                _startRunLoop();\n                // current music stop\n                if (music === true) {\n                    me.audio.resumeTrack();\n                }\n\n                // calculate the elpased time\n                _pauseTime = window.performance.now() - _pauseTime;\n\n                // force repaint\n                me.game.repaint();\n\n                // publish the restart notification\n                me.event.publish(me.event.STATE_RESTART, [ _pauseTime ]);\n                // any callback defined ?\n                if (typeof(api.onRestart) === \"function\") {\n                    api.onRestart();\n                }\n            }\n        };\n\n        /**\n         * resume the screen object\n         * @name resume\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {Boolean} resumeTrack resume current track on screen resume\n         */\n        api.resume = function (music) {\n            if (api.isPaused()) {\n                // resume the main loop\n                _resumeRunLoop();\n                // current music stop\n                if (music === true) {\n                    me.audio.resumeTrack();\n                }\n\n                // calculate the elpased time\n                _pauseTime = window.performance.now() - _pauseTime;\n\n                // publish the resume event\n                me.event.publish(me.event.STATE_RESUME, [ _pauseTime ]);\n                // any callback defined ?\n                if (typeof(api.onResume) === \"function\") {\n                    api.onResume();\n                }\n            }\n        };\n\n        /**\n         * return the running state of the state manager\n         * @name isRunning\n         * @memberOf me.state\n         * @public\n         * @function\n         * @return {Boolean} true if a \"process is running\"\n         */\n        api.isRunning = function () {\n            return _animFrameId !== -1;\n        };\n\n        /**\n         * Return the pause state of the state manager\n         * @name isPaused\n         * @memberOf me.state\n         * @public\n         * @function\n         * @return {Boolean} true if the game is paused\n         */\n        api.isPaused = function () {\n            return _isPaused;\n        };\n\n        /**\n         * associate the specified state with a Stage\n         * @name set\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {Number} state State ID (see constants)\n         * @param {me.Stage} stage Instantiated Stage to associate\n         * with state ID\n         * @example\n         * var MenuButton = me.GUI_Object.extend({\n         *     \"onClick\" : function () {\n         *         // Change to the PLAY state when the button is clicked\n         *         me.state.change(me.state.PLAY);\n         *         return true;\n         *     }\n         * });\n         *\n         * var MenuScreen = me.Stage.extend({\n         *     onResetEvent: function() {\n         *         // Load background image\n         *         me.game.world.addChild(\n         *             new me.ImageLayer(0, 0, {\n         *                 image : \"bg\",\n         *                 z: 0 // z-index\n         *             }\n         *         );\n         *\n         *         // Add a button\n         *         me.game.world.addChild(\n         *             new MenuButton(350, 200, { \"image\" : \"start\" }),\n         *             1 // z-index\n         *         );\n         *\n         *         // Play music\n         *         me.audio.playTrack(\"menu\");\n         *     },\n         *\n         *     \"onDestroyEvent\" : function () {\n         *         // Stop music\n         *         me.audio.stopTrack();\n         *     }\n         * });\n         *\n         * me.state.set(me.state.MENU, new MenuScreen());\n         */\n        api.set = function (state, stage) {\n            if (!(stage instanceof me.Stage)) {\n                throw new Error(stage + \" is not an instance of me.Stage\");\n            }\n            _stages[state] = {};\n            _stages[state].stage = stage;\n            _stages[state].transition = true;\n        };\n\n        /**\n         * return a reference to the current screen object<br>\n         * useful to call a object specific method\n         * @name current\n         * @memberOf me.state\n         * @public\n         * @function\n         * @return {me.Stage}\n         */\n        api.current = function () {\n            return _stages[_state].stage;\n        };\n\n        /**\n         * specify a global transition effect\n         * @name transition\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {String} effect (only \"fade\" is supported for now)\n         * @param {me.Color|String} color a CSS color value\n         * @param {Number} [duration=1000] expressed in milliseconds\n         */\n        api.transition = function (effect, color, duration) {\n            if (effect === \"fade\") {\n                _fade.color = color;\n                _fade.duration = duration;\n            }\n        };\n\n        /**\n         * enable/disable transition for a specific state (by default enabled for all)\n         * @name setTransition\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {Number} state State ID (see constants)\n         * @param {Boolean} enable\n         */\n        api.setTransition = function (state, enable) {\n            _stages[state].transition = enable;\n        };\n\n        /**\n         * change the game/app state\n         * @name change\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {Number} state State ID (see constants)\n         * @param {} [arguments...] extra arguments to be passed to the reset functions\n         * @example\n         * // The onResetEvent method on the play screen will receive two args:\n         * // \"level_1\" and the number 3\n         * me.state.change(me.state.PLAY, \"level_1\", 3);\n         */\n        api.change = function (state) {\n            // Protect against undefined Stage\n            if (typeof(_stages[state]) === \"undefined\") {\n                throw new Error(\"Undefined Stage for state '\" + state + \"'\");\n            }\n\n            if (api.isCurrent(state)) {\n                // do nothing if already the current state\n                return;\n            }\n\n            _extraArgs = null;\n            if (arguments.length > 1) {\n                // store extra arguments if any\n                _extraArgs = Array.prototype.slice.call(arguments, 1);\n            }\n            // if fading effect\n            if (_fade.duration && _stages[state].transition) {\n                /** @ignore */\n                _onSwitchComplete = function () {\n                    me.game.viewport.fadeOut(_fade.color, _fade.duration);\n                };\n                me.game.viewport.fadeIn(\n                    _fade.color,\n                    _fade.duration,\n                    function () {\n                        me.utils.function.defer(_switchState, this, state);\n                    }\n                );\n\n            }\n            // else just switch without any effects\n            else {\n                // wait for the last frame to be\n                // \"finished\" before switching\n                me.utils.function.defer(_switchState, this, state);\n            }\n        };\n\n        /**\n         * return true if the specified state is the current one\n         * @name isCurrent\n         * @memberOf me.state\n         * @public\n         * @function\n         * @param {Number} state State ID (see constants)\n         */\n        api.isCurrent = function (state) {\n            return _state === state;\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","(function () {\n    // a basic progress bar object\n    var ProgressBar = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init: function (x, y, w, h) {\n            this._super(me.Renderable, \"init\", [x, y, w, h]);\n            // flag to know if we need to refresh the display\n            this.invalidate = false;\n            // current progress\n            this.progress = 0;\n\n            this.anchorPoint.set(0, 0);\n        },\n\n        /**\n         * make sure the screen is refreshed every frame\n         * @ignore\n         */\n        onProgressUpdate : function (progress) {\n            this.progress = ~~(progress * this.width);\n            this.invalidate = true;\n        },\n\n        /**\n         * @ignore\n         */\n        update : function () {\n            if (this.invalidate === true) {\n                // clear the flag\n                this.invalidate = false;\n                // and return true\n                return true;\n            }\n            // else return false\n            return false;\n        },\n\n        /**\n         * draw function\n         * @ignore\n         */\n        draw : function (renderer) {\n            var color = renderer.getColor();\n            var height = renderer.getHeight();\n            // draw the progress bar\n            renderer.setColor(\"black\");\n            renderer.fillRect(this.pos.x, height / 2, this.width, this.height / 2);\n\n            renderer.setColor(\"#55aa00\");\n            renderer.fillRect(this.pos.x, height / 2, this.progress, this.height / 2);\n\n            renderer.setColor(color);\n        }\n    });\n\n    // the melonJS Logo\n    var IconLogo = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y) {\n            this._super(me.Renderable, \"init\", [x, y, 100, 85]);\n\n            this.iconCanvas = me.video.createCanvas(\n                me.Math.nextPowerOfTwo(this.width),\n                me.Math.nextPowerOfTwo(this.height),\n            false);\n\n            var context = me.video.renderer.getContext2d(this.iconCanvas);\n\n            context.beginPath();\n            context.moveTo(0.7, 48.9);\n            context.bezierCurveTo(10.8, 68.9, 38.4, 75.8, 62.2, 64.5);\n            context.bezierCurveTo(86.1, 53.1, 97.2, 27.7, 87.0, 7.7);\n            context.lineTo(87.0, 7.7);\n            context.bezierCurveTo(89.9, 15.4, 73.9, 30.2, 50.5, 41.4);\n            context.bezierCurveTo(27.1, 52.5, 5.2, 55.8, 0.7, 48.9);\n            context.lineTo(0.7, 48.9);\n            context.closePath();\n            context.fillStyle = \"rgb(255, 255, 255)\";\n            context.fill();\n\n            context.beginPath();\n            context.moveTo(84.0, 7.0);\n            context.bezierCurveTo(87.6, 14.7, 72.5, 30.2, 50.2, 41.6);\n            context.bezierCurveTo(27.9, 53.0, 6.9, 55.9, 3.2, 48.2);\n            context.bezierCurveTo(-0.5, 40.4, 14.6, 24.9, 36.9, 13.5);\n            context.bezierCurveTo(59.2, 2.2, 80.3, -0.8, 84.0, 7.0);\n            context.lineTo(84.0, 7.0);\n            context.closePath();\n            context.lineWidth = 5.3;\n            context.strokeStyle = \"rgb(255, 255, 255)\";\n            context.lineJoin = \"miter\";\n            context.miterLimit = 4.0;\n            context.stroke();\n\n            this.anchorPoint.set(0.5, 0.5);\n        },\n        /**\n         * @ignore\n         */\n        draw : function (renderer) {\n            renderer.drawImage(this.iconCanvas, this.pos.x, this.pos.y);\n        }\n    });\n\n    // the melonJS Text Logo\n    var TextLogo = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init : function (w, h) {\n            this._super(me.Renderable, \"init\", [0, 0, w, h]);\n\n            // offscreen cache canvas\n            this.fontCanvas = me.video.createCanvas(256, 64);\n            this.drawFont(me.video.renderer.getContext2d(this.fontCanvas));\n\n            this.anchorPoint.set(0.0, 0.0);\n        },\n\n        drawFont : function (context) {\n            var logo1 = me.pool.pull(\"me.Text\", 0, 0, {\n                font: \"century gothic\",\n                size: 32,\n                fillStyle: \"white\",\n                textAlign: \"middle\",\n                textBaseline : \"top\",\n                text: \"melon\"\n            });\n            var logo2 = me.pool.pull(\"me.Text\", 0, 0, {\n                font: \"century gothic\",\n                size: 32,\n                fillStyle: \"#55aa00\",\n                textAlign: \"middle\",\n                textBaseline : \"top\",\n                bold: true,\n                text: \"JS\"\n            });\n\n            // compute both logo respective size\n            var logo1_width = logo1.measureText(context).width;\n            var logo2_width = logo2.measureText(context).width;\n\n            // calculate the final rendering position\n            this.pos.x = Math.round((this.width - logo1_width - logo2_width) / 2);\n            this.pos.y = Math.round(this.height / 2 + 16);\n\n            // use the private _drawFont method to directly draw on the canvas context\n            logo1._drawFont(context, \"melon\", 0, 0);\n            logo2._drawFont(context, \"JS\", logo1_width, 0);\n\n            // put them back into the object pool\n            me.pool.push(logo1);\n            me.pool.push(logo2);\n        },\n\n        /**\n         * @ignore\n         */\n        draw : function (renderer) {\n            renderer.drawImage(this.fontCanvas, this.pos.x, this.pos.y);\n        }\n\n    });\n\n    /**\n     * a default loading screen\n     * @memberOf me\n     * @ignore\n     * @constructor\n     */\n    me.DefaultLoadingScreen = me.Stage.extend({\n        /**\n         * call when the loader is resetted\n         * @ignore\n         */\n        onResetEvent : function () {\n            // background color\n            me.game.world.addChild(new me.ColorLayer(\"background\", \"#202020\", 0), 0);\n\n            // progress bar\n            var progressBar = new ProgressBar(\n                0,\n                me.video.renderer.getHeight() / 2,\n                me.video.renderer.getWidth(),\n                8 // bar height\n            );\n\n            this.loaderHdlr = me.event.subscribe(\n                me.event.LOADER_PROGRESS,\n                progressBar.onProgressUpdate.bind(progressBar)\n            );\n\n            this.resizeHdlr = me.event.subscribe(\n                me.event.VIEWPORT_ONRESIZE,\n                progressBar.resize.bind(progressBar)\n            );\n\n            me.game.world.addChild(progressBar, 1);\n\n            // melonJS text & logo\n            var icon = new IconLogo(\n                me.video.renderer.getWidth() / 2,\n                (me.video.renderer.getHeight() / 2) - (progressBar.height) - 35\n\n            );\n            me.game.world.addChild(icon, 1);\n            me.game.world.addChild(new TextLogo(me.video.renderer.getWidth(), me.video.renderer.getHeight()), 1);\n        },\n\n        /**\n         * destroy object at end of loading\n         * @ignore\n         */\n        onDestroyEvent : function () {\n            // cancel the callback\n            me.event.unsubscribe(this.loaderHdlr);\n            me.event.unsubscribe(this.resizeHdlr);\n            this.loaderHdlr = this.resizeHdlr = null;\n        }\n    });\n})();\n","(function () {\n    /**\n     * a small class to manage loading of stuff and manage resources\n     * There is no constructor function for me.input.\n     * @namespace me.loader\n     * @memberOf me\n     */\n    me.loader = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        // contains all the images loaded\n        var imgList = {};\n        // contains all the TMX loaded\n        var tmxList = {};\n        // contains all the binary files loaded\n        var binList = {};\n        // contains all the JSON files\n        var jsonList = {};\n        // baseURL\n        var baseURL = {};\n\n        // flag to check loading status\n        var resourceCount = 0;\n        var loadCount = 0;\n        var timerId = 0;\n\n        /**\n         * check the loading status\n         * @ignore\n         */\n        function checkLoadStatus(onload) {\n            if (loadCount === resourceCount) {\n                // wait 1/2s and execute callback (cheap workaround to ensure everything is loaded)\n                if (onload || api.onload) {\n                    // make sure we clear the timer\n                    clearTimeout(timerId);\n                    // trigger the onload callback\n                    // we call either the supplied callback (which takes precedence) or the global one\n                    var callback = onload || api.onload;\n                    setTimeout(function () {\n                        callback();\n                        me.event.publish(me.event.LOADER_COMPLETE);\n                    }, 300);\n                }\n                else {\n                    throw new Error(\"no load callback defined\");\n                }\n            }\n            else {\n                timerId = setTimeout(function() {\n                    checkLoadStatus(onload);\n                }, 100);\n            }\n        }\n\n        /**\n         * load Images\n         * @example\n         * preloadImages([\n         *     { name : 'image1', src : 'images/image1.png'},\n         *     { name : 'image2', src : 'images/image2.png'},\n         *     { name : 'image3', src : 'images/image3.png'},\n         *     { name : 'image4', src : 'images/image4.png'}\n         * ]);\n         * @ignore\n         */\n        function preloadImage(img, onload, onerror) {\n            // create new Image object and add to list\n            imgList[img.name] = new Image();\n            imgList[img.name].onload = onload;\n            imgList[img.name].onerror = onerror;\n            if (typeof (api.crossOrigin) === \"string\") {\n                imgList[img.name].crossOrigin = api.crossOrigin;\n            }\n            imgList[img.name].src = img.src + api.nocache;\n        }\n\n        /**\n         * load a font face\n         * @example\n         * preloadFontFace(\n         *     name: \"'kenpixel'\", type: \"fontface\",  src: \"url('data/font/kenvector_future.woff2')\"\n         * ]);\n         * @ignore\n         */\n        function preloadFontFace(data, onload, onerror) {\n            var font = new FontFace(data.name, data.src);\n            // loading promise\n            font.load().then(function() {\n                // apply the font after the font has finished downloading\n                document.fonts.add(font);\n                document.body.style.fontFamily = data.name;\n                // onloaded callback\n                onload();\n            }, function (e) {\n                // rejected\n                onerror(data.name);\n            });\n        }\n\n        /**\n         * preload TMX files\n         * @ignore\n         */\n        function preloadTMX(tmxData, onload, onerror) {\n            function addToTMXList(data) {\n                // set the TMX content\n                tmxList[tmxData.name] = data;\n\n                // add the tmx to the levelDirector\n                if (tmxData.type === \"tmx\") {\n                    me.levelDirector.addTMXLevel(tmxData.name);\n                }\n            }\n\n\n            //if the data is in the tmxData object, don't get it via a XMLHTTPRequest\n            if (tmxData.data) {\n                addToTMXList(tmxData.data);\n                onload();\n                return;\n            }\n\n            var xmlhttp = new XMLHttpRequest();\n            // check the data format ('tmx', 'json')\n            var format = me.utils.file.getExtension(tmxData.src);\n\n            if (xmlhttp.overrideMimeType) {\n                if (format === \"json\") {\n                    xmlhttp.overrideMimeType(\"application/json\");\n                }\n                else {\n                    xmlhttp.overrideMimeType(\"text/xml\");\n                }\n            }\n\n            xmlhttp.open(\"GET\", tmxData.src + api.nocache, true);\n            xmlhttp.withCredentials = me.loader.withCredentials;\n            // set the callbacks\n            xmlhttp.ontimeout = onerror;\n            xmlhttp.onreadystatechange = function () {\n                if (xmlhttp.readyState === 4) {\n                    // status = 0 when file protocol is used, or cross-domain origin,\n                    // (With Chrome use \"--allow-file-access-from-files --disable-web-security\")\n                    if ((xmlhttp.status === 200) || ((xmlhttp.status === 0) && xmlhttp.responseText)) {\n                        var result = null;\n\n                        // parse response\n                        switch (format) {\n                            case \"xml\":\n                            case \"tmx\":\n                            case \"tsx\":\n                                // ie9 does not fully implement the responseXML\n                                if (me.device.ua.match(/msie/i) || !xmlhttp.responseXML) {\n                                    if (window.DOMParser) {\n                                        // manually create the XML DOM\n                                        result = (new DOMParser()).parseFromString(xmlhttp.responseText, \"text/xml\");\n                                    } else {\n                                        throw new Error(\"XML file format loading not supported, use the JSON file format instead\");\n                                    }\n                                }\n                                else {\n                                    result = xmlhttp.responseXML;\n                                }\n                                // converts to a JS object\n                                var data = me.TMXUtils.parse(result);\n                                switch (format) {\n                                    case \"tmx\":\n                                        result = data.map;\n                                        break;\n\n                                    case \"tsx\":\n                                        result = data.tilesets[0];\n                                        break;\n                                }\n\n                                break;\n\n                            case \"json\":\n                                result = JSON.parse(xmlhttp.responseText);\n                                break;\n\n                            default:\n                                throw new Error(\"TMX file format \" + format + \"not supported !\");\n                        }\n\n                        //set the TMX content\n                        addToTMXList(result);\n\n                        // fire the callback\n                        onload();\n                    }\n                    else {\n                        onerror(tmxData.name);\n                    }\n                }\n            };\n            // send the request\n            xmlhttp.send();\n        }\n\n        /**\n         * preload JSON files\n         * @ignore\n         */\n        function preloadJSON(data, onload, onerror) {\n            var xmlhttp = new XMLHttpRequest();\n\n            if (xmlhttp.overrideMimeType) {\n                xmlhttp.overrideMimeType(\"application/json\");\n            }\n\n            xmlhttp.open(\"GET\", data.src + api.nocache, true);\n            xmlhttp.withCredentials = me.loader.withCredentials;\n\n            // set the callbacks\n            xmlhttp.ontimeout = onerror;\n            xmlhttp.onreadystatechange = function () {\n                if (xmlhttp.readyState === 4) {\n                    // status = 0 when file protocol is used, or cross-domain origin,\n                    // (With Chrome use \"--allow-file-access-from-files --disable-web-security\")\n                    if ((xmlhttp.status === 200) || ((xmlhttp.status === 0) && xmlhttp.responseText)) {\n                        // get the Texture Packer Atlas content\n                        jsonList[data.name] = JSON.parse(xmlhttp.responseText);\n                        // fire the callback\n                        onload();\n                    }\n                    else {\n                        onerror(data.name);\n                    }\n                }\n            };\n            // send the request\n            xmlhttp.send();\n        }\n\n        /**\n         * preload Binary files\n         * @ignore\n         */\n        function preloadBinary(data, onload, onerror) {\n            var httpReq = new XMLHttpRequest();\n\n            // load our file\n            httpReq.open(\"GET\", data.src + api.nocache, true);\n            httpReq.withCredentials = me.loader.withCredentials;\n            httpReq.responseType = \"arraybuffer\";\n            httpReq.onerror = onerror;\n            httpReq.onload = function () {\n                var arrayBuffer = httpReq.response;\n                if (arrayBuffer) {\n                    var byteArray = new Uint8Array(arrayBuffer);\n                    var buffer = [];\n                    for (var i = 0; i < byteArray.byteLength; i++) {\n                        buffer[i] = String.fromCharCode(byteArray[i]);\n                    }\n                    binList[data.name] = buffer.join(\"\");\n                    // callback\n                    onload();\n                }\n            };\n            httpReq.send();\n        }\n\n        /**\n         * preload Binary files\n         * @ignore\n         */\n        function preloadJavascript(data, onload, onerror) {\n            var script = document.createElement(\"script\");\n\n            script.src = data.src;\n            script.type = \"text/javascript\";\n            if (typeof (api.crossOrigin) === \"string\") {\n                script.crossOrigin = api.crossOrigin;\n            }\n            script.defer = true;\n\n            script.onload = function() {\n                // callback\n                onload();\n            };\n\n            script.onerror = function() {\n                // callback\n                onerror(data.name);\n            };\n\n            document.getElementsByTagName(\"body\")[0].appendChild(script);\n        }\n\n        /**\n         * to enable/disable caching\n         * @ignore\n         */\n        api.nocache = \"\";\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * onload callback\n         * @public\n         * @function\n         * @name onload\n         * @memberOf me.loader\n         * @example\n         * // set a callback when everything is loaded\n         * me.loader.onload = this.loaded.bind(this);\n         */\n        api.onload = undefined;\n\n        /**\n         * onProgress callback<br>\n         * each time a resource is loaded, the loader will fire the specified function,\n         * giving the actual progress [0 ... 1], as argument, and an object describing the resource loaded\n         * @public\n         * @function\n         * @name onProgress\n         * @memberOf me.loader\n         * @example\n         * // set a callback for progress notification\n         * me.loader.onProgress = this.updateProgress.bind(this);\n         */\n        api.onProgress = undefined;\n\n        /**\n         * crossOrigin attribute to configure the CORS requests for Image data element.\n         * By default (that is, when the attribute is not specified), CORS is not used at all.\n         * The \"anonymous\" keyword means that there will be no exchange of user credentials via cookies,\n         * client-side SSL certificates or HTTP authentication as described in the Terminology section of the CORS specification.<br>\n         * @public\n         * @type String\n         * @name crossOrigin\n         * @default undefined\n         * @memberOf me.loader\n         * @see https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes\n         * @example\n         *  // allow for cross-origin texture loading in WebGL\n         * me.loader.crossOrigin = \"anonymous\";\n         *\n         * // set all ressources to be loaded\n         * me.loader.preload(game.resources, this.loaded.bind(this));\n         */\n        api.crossOrigin = undefined;\n\n        /**\n         * indicates whether or not cross-site Access-Control requests should be made using credentials such as cookies,\n         * authorization headers or TLS client certificates. Setting withCredentials has no effect on same-site requests.\n         * @public\n         * @type Boolean\n         * @name withCredentials\n         * @default false\n         * @memberOf me.loader\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n         * @example\n         *  // enable withCredentials\n         * me.loader.withCredentials = true;\n         *\n         * // set all ressources to be loaded\n         * me.loader.preload(game.resources, this.loaded.bind(this));\n         */\n        api.withCredentials = false;\n\n        /**\n         * just increment the number of already loaded resources\n         * @ignore\n         */\n        api.onResourceLoaded = function (res) {\n            // increment the loading counter\n            loadCount++;\n\n            // currrent progress\n            var progress = loadCount / resourceCount;\n\n            // call callback if defined\n            if (api.onProgress) {\n                // pass the load progress in percent, as parameter\n                api.onProgress(progress, res);\n            }\n            me.event.publish(me.event.LOADER_PROGRESS, [progress, res]);\n        };\n\n        /**\n         * on error callback for image loading\n         * @ignore\n         */\n        api.onLoadingError = function (res) {\n            throw new Error(\"Failed loading resource \" + res.src);\n        };\n\n        /**\n         * enable the nocache mechanism\n         * @ignore\n         */\n        api.setNocache = function (enable) {\n            api.nocache = enable ? \"?\" + ~~(Math.random() * 10000000) : \"\";\n        };\n\n        /**\n         * change the default baseURL for the given asset type.<br>\n         * (this will prepend the asset URL and must finish with a '/')\n         * @name setBaseURL\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @param {String} type  \"*\", \"audio\", binary\", \"image\", \"json\", \"js\", \"tmx\", \"tsx\"\n         * @param {String} [url=\"./\"] default base URL\n         * @example\n         * // change the base URL relative address for audio assets\n         * me.loader.setBaseURL(\"audio\", \"data/audio/\");\n         * // change the base URL absolute address for all object types\n         * me.loader.setBaseURL(\"*\", \"http://myurl.com/\")\n         */\n        api.setBaseURL = function (type, url) {\n            if (type !== \"*\") {\n                baseURL[type] = url;\n            } else {\n                // \"wildcards\"\n                baseURL[\"audio\"] = url;\n                baseURL[\"binary\"] = url;\n                baseURL[\"image\"] = url;\n                baseURL[\"json\"] = url;\n                baseURL[\"js\"] = url;\n                baseURL[\"tmx\"] = url;\n                baseURL[\"tsx\"] = url;\n                // XXX ?\n                //baseURL[\"fontface\"] = url;\n            }\n        };\n\n\n        /**\n         * set all the specified game resources to be preloaded.\n         * @name preload\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @param {Object[]} resources\n         * @param {String} resources.name internal name of the resource\n         * @param {String} resources.type  \"audio\", binary\", \"image\", \"json\",\"js\", \"tmx\", \"tsx\", \"fontface\"\n         * @param {String} resources.src  path and/or file name of the resource (for audio assets only the path is required)\n         * @param {Boolean} [resources.stream] Set to true to force HTML5 Audio, which allows not to wait for large file to be downloaded before playing.\n         * @param {function} [onload=me.loader.onload] function to be called when all resources are loaded\n         * @param {boolean} [switchToLoadState=true] automatically switch to the loading screen\n         * @example\n         * game_resources = [\n         *   // PNG tileset\n         *   {name: \"tileset-platformer\", type: \"image\",  src: \"data/map/tileset.png\"},\n         *   // PNG packed texture\n         *   {name: \"texture\", type:\"image\", src: \"data/gfx/texture.png\"}\n         *   // TSX file\n         *   {name: \"meta_tiles\", type: \"tsx\", src: \"data/map/meta_tiles.tsx\"},\n         *   // TMX level (XML & JSON)\n         *   {name: \"map1\", type: \"tmx\", src: \"data/map/map1.json\"},\n         *   {name: \"map2\", type: \"tmx\", src: \"data/map/map2.tmx\"},\n         *   {name: \"map3\", type: \"tmx\", format: \"json\", data: {\"height\":15,\"layers\":[...],\"tilewidth\":32,\"version\":1,\"width\":20}},\n         *   {name: \"map4\", type: \"tmx\", format: \"xml\", data: {xml representation of tmx}},\n         *   // audio resources\n         *   {name: \"bgmusic\", type: \"audio\",  src: \"data/audio/\"},\n         *   {name: \"cling\",   type: \"audio\",  src: \"data/audio/\"},\n         *   // binary file\n         *   {name: \"ymTrack\", type: \"binary\", src: \"data/audio/main.ym\"},\n         *   // JSON file (used for texturePacker)\n         *   {name: \"texture\", type: \"json\", src: \"data/gfx/texture.json\"},\n         *   // JavaScript file\n         *   {name: \"plugin\", type: \"js\", src: \"data/js/plugin.js\"},\n         *   // Font Face\n         *   { name: \"'kenpixel'\", type: \"fontface\",  src: \"url('data/font/kenvector_future.woff2')\" }\n         * ];\n         * ...\n         * // set all resources to be loaded\n         * me.loader.preload(game.resources, this.loaded.bind(this));\n         */\n        api.preload = function (res, onload, switchToLoadState) {\n            // parse the resources\n            for (var i = 0; i < res.length; i++) {\n                resourceCount += api.load(\n                    res[i],\n                    api.onResourceLoaded.bind(api, res[i]),\n                    api.onLoadingError.bind(api, res[i])\n                );\n            }\n            // set the onload callback if defined\n            if (typeof(onload) !== \"undefined\") {\n                api.onload = onload;\n            }\n\n            if (switchToLoadState !== false) {\n                // swith to the loading screen\n                me.state.change(me.state.LOADING);\n            }\n\n            // check load status\n            checkLoadStatus(onload);\n        };\n\n        /**\n         * Load a single resource (to be used if you need to load additional resource during the game)\n         * @name load\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @param {Object} resource\n         * @param {String} resource.name internal name of the resource\n         * @param {String} resource.type  \"audio\", binary\", \"image\", \"json\", \"tmx\", \"tsx\"\n         * @param {String} resource.src  path and/or file name of the resource (for audio assets only the path is required)\n         * @param {Boolean} [resource.stream] Set to true to force HTML5 Audio, which allows not to wait for large file to be downloaded before playing.\n         * @param {Function} onload function to be called when the resource is loaded\n         * @param {Function} onerror function to be called in case of error\n         * @example\n         * // load an image asset\n         * me.loader.load({name: \"avatar\",  type:\"image\",  src: \"data/avatar.png\"}, this.onload.bind(this), this.onerror.bind(this));\n         *\n         * // start loading music\n         * me.loader.load({\n         *     name   : \"bgmusic\",\n         *     type   : \"audio\",\n         *     src    : \"data/audio/\"\n         * }, function () {\n         *     me.audio.play(\"bgmusic\");\n         * });\n         */\n        api.load = function (res, onload, onerror) {\n            // transform the url if necessary\n            if (typeof (baseURL[res.type]) !== \"undefined\") {\n                res.src = baseURL[res.type] + res.src;\n            }\n            // check ressource type\n            switch (res.type) {\n                case \"binary\":\n                    // reuse the preloadImage fn\n                    preloadBinary.call(this, res, onload, onerror);\n                    return 1;\n\n                case \"image\":\n                    // reuse the preloadImage fn\n                    preloadImage.call(this, res, onload, onerror);\n                    return 1;\n\n                case \"json\":\n                    preloadJSON.call(this, res, onload, onerror);\n                    return 1;\n\n                case \"js\":\n                    preloadJavascript.call(this, res, onload, onerror);\n                    return 1;\n\n                case \"tmx\":\n                case \"tsx\":\n                    preloadTMX.call(this, res, onload, onerror);\n                    return 1;\n\n                case \"audio\":\n                    me.audio.load(res, !!res.stream, onload, onerror);\n                    return 1;\n\n                case \"fontface\":\n                    preloadFontFace.call(this, res, onload, onerror);\n                    return 1;\n\n                default:\n                    throw new Error(\"load : unknown or invalid resource type : \" + res.type);\n            }\n        };\n\n        /**\n         * unload specified resource to free memory\n         * @name unload\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @param {Object} resource\n         * @return {Boolean} true if unloaded\n         * @example me.loader.unload({name: \"avatar\",  type:\"image\",  src: \"data/avatar.png\"});\n         */\n        api.unload = function (res) {\n            switch (res.type) {\n                case \"binary\":\n                    if (!(res.name in binList)) {\n                        return false;\n                    }\n\n                    delete binList[res.name];\n                    return true;\n\n                case \"image\":\n                    if (!(res.name in imgList)) {\n                        return false;\n                    }\n                    delete imgList[res.name];\n                    return true;\n\n                case \"json\":\n                    if (!(res.name in jsonList)) {\n                        return false;\n                    }\n\n                    delete jsonList[res.name];\n                    return true;\n\n                case \"js\":\n                    // ??\n                    return true;\n\n                case \"fontface\":\n                    // ??\n                    return true;\n\n                case \"tmx\":\n                case \"tsx\":\n                    if (!(res.name in tmxList)) {\n                        return false;\n                    }\n\n                    delete tmxList[res.name];\n                    return true;\n\n                case \"audio\":\n                    return me.audio.unload(res.name);\n\n                default:\n                    throw new Error(\"unload : unknown or invalid resource type : \" + res.type);\n            }\n        };\n\n        /**\n         * unload all resources to free memory\n         * @name unloadAll\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @example me.loader.unloadAll();\n         */\n        api.unloadAll = function () {\n            var name;\n\n            // unload all binary resources\n            for (name in binList) {\n                if (binList.hasOwnProperty(name)) {\n                    api.unload({\n                        \"name\" : name,\n                        \"type\" : \"binary\"\n                    });\n                }\n            }\n\n            // unload all image resources\n            for (name in imgList) {\n                if (imgList.hasOwnProperty(name)) {\n                    api.unload({\n                        \"name\" : name,\n                        \"type\" : \"image\"\n                    });\n                }\n            }\n\n            // unload all tmx resources\n            for (name in tmxList) {\n                if (tmxList.hasOwnProperty(name)) {\n                    api.unload({\n                        \"name\" : name,\n                        \"type\" : \"tmx\"\n                    });\n                }\n            }\n\n            // unload all in json resources\n            for (name in jsonList) {\n                if (jsonList.hasOwnProperty(name)) {\n                    api.unload({\n                        \"name\" : name,\n                        \"type\" : \"json\"\n                    });\n                }\n            }\n\n            // unload all audio resources\n            me.audio.unloadAll();\n        };\n\n        /**\n         * return the specified TMX/TSX object\n         * @name getTMX\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @param {String} tmx name of the tmx/tsx element (\"map1\");\n         * @return {XML|Object} requested element or null if not found\n         */\n        api.getTMX = function (elt) {\n            // force as string\n            elt = \"\" + elt;\n            if (elt in tmxList) {\n                return tmxList[elt];\n            }\n            return null;\n        };\n\n        /**\n         * return the specified Binary object\n         * @name getBinary\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @param {String} name of the binary object (\"ymTrack\");\n         * @return {Object} requested element or null if not found\n         */\n        api.getBinary = function (elt) {\n            // force as string\n            elt = \"\" + elt;\n            if (elt in binList) {\n                return binList[elt];\n            }\n            return null;\n        };\n\n        /**\n         * return the specified Image Object\n         * @name getImage\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @param {String} image name of the Image element (\"tileset-platformer\");\n         * @return {HTMLImageElement} requested element or null if not found\n         */\n        api.getImage = function (image) {\n            // force as string and extract the base name\n            image = me.utils.file.getBasename(\"\" + image);\n            if (image in imgList) {\n                // return the corresponding Image object\n                return imgList[image];\n            }\n            return null;\n        };\n\n        /**\n         * return the specified JSON Object\n         * @name getJSON\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @param {String} Name for the json file to load\n         * @return {Object}\n         */\n        api.getJSON = function (elt) {\n            // force as string\n            elt = \"\" + elt;\n            if (elt in jsonList) {\n                return jsonList[elt];\n            }\n            return null;\n        };\n\n        /**\n         * Return the loading progress in percent\n         * @name getLoadProgress\n         * @memberOf me.loader\n         * @public\n         * @function\n         * @deprecated use callback instead\n         * @see me.loader.onProgress\n         * @see me.event.LOADER_PROGRESS\n         * @return {Number}\n         */\n        api.getLoadProgress = function () {\n            return loadCount / resourceCount;\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","/*\n * ASCII Table\n * http://www.asciitable.com/\n * [ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz]\n *\n * -> first char \" \" 32d (0x20);\n */\n(function () {\n\n    var runits = [\"ex\", \"em\", \"pt\", \"px\"];\n    var toPX = [12, 24, 0.75, 1];\n\n    /**\n     * apply the current font style to the given context\n     * @ignore\n     */\n    var setContextStyle = function(context, font, stroke) {\n        context.font = font.font;\n        context.fillStyle = font.fillStyle.toRGBA();\n        if (stroke === true) {\n            context.strokeStyle = font.strokeStyle.toRGBA();\n            context.lineWidth = font.lineWidth;\n        }\n        context.textAlign = font.textAlign;\n        context.textBaseline = font.textBaseline;\n    };\n\n    /**\n     * a generic system font object.\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {Number} x position of the text object\n     * @param {Number} y position of the text object\n     * @param {Object} settings the text configuration\n     * @param {String} settings.font a CSS family font name\n     * @param {Number|String} settings.size size, or size + suffix (px, em, pt)\n     * @param {me.Color|String} [settings.fillStyle=\"#000000\"] a CSS color value\n     * @param {me.Color|String} [settings.strokeStyle=\"#000000\"] a CSS color value\n     * @param {Number} [settings.lineWidth=1] line width, in pixels, when drawing stroke\n     * @param {String} [settings.textAlign=\"left\"] horizontal text alignment\n     * @param {String} [settings.textBaseline=\"top\"] the text baseline\n     * @param {Number} [settings.lineHeight=1.0] line spacing height\n     * @param {me.Vector2d} [settings.anchorPoint={x:0.0, y:0.0}] anchor point to draw the text at\n     * @param {(String|String[])} [settings.text] a string, or an array of strings\n     */\n    me.Text = me.Renderable.extend({\n\n        /** @ignore */\n        init : function (x, y, settings) {\n            // call the parent constructor\n            this._super(me.Renderable, \"init\", [x, y, settings.width || 0, settings.height || 0]);\n\n            /**\n             * defines the color used to draw the font.<br>\n             * @public\n             * @type me.Color\n             * @default black\n             * @name me.Text#fillStyle\n             */\n            if (typeof settings.fillStyle !== \"undefined\") {\n                if (settings.fillStyle instanceof me.Color) {\n                    this.fillStyle = settings.fillStyle;\n                } else {\n                    // string (#RGB, #ARGB, #RRGGBB, #AARRGGBB)\n                    this.fillStyle = me.pool.pull(\"me.Color\").parseCSS(settings.fillStyle);\n                }\n            } else {\n                this.fillStyle = me.pool.pull(\"me.Color\", 0, 0, 0);\n            }\n\n            /**\n             * defines the color used to draw the font stroke.<br>\n             * @public\n             * @type me.Color\n             * @default black\n             * @name me.Text#strokeStyle\n             */\n             if (typeof settings.strokeStyle !== \"undefined\") {\n                 if (settings.strokeStyle instanceof me.Color) {\n                     this.strokeStyle = settings.strokeStyle;\n                 } else {\n                     // string (#RGB, #ARGB, #RRGGBB, #AARRGGBB)\n                     this.strokeStyle = me.pool.pull(\"me.Color\").parseCSS(settings.strokeStyle);\n                 }\n             } else {\n                 this.strokeStyle = me.pool.pull(\"me.Color\", 0, 0, 0);\n             }\n\n            /**\n             * sets the current line width, in pixels, when drawing stroke\n             * @public\n             * @type Number\n             * @default 1\n             * @name me.Text#lineWidth\n             */\n            this.lineWidth = settings.lineWidth || 1;\n\n            /**\n             * Set the default text alignment (or justification),<br>\n             * possible values are \"left\", \"right\", and \"center\".<br>\n             * @public\n             * @type String\n             * @default \"left\"\n             * @name me.Text#textAlign\n             */\n            this.textAlign = settings.textAlign || \"left\";\n\n            /**\n             * Set the text baseline (e.g. the Y-coordinate for the draw operation), <br>\n             * possible values are \"top\", \"hanging, \"middle, \"alphabetic, \"ideographic, \"bottom\"<br>\n             * @public\n             * @type String\n             * @default \"top\"\n             * @name me.Text#textBaseline\n             */\n            this.textBaseline = settings.textBaseline || \"top\";\n\n            /**\n             * Set the line spacing height (when displaying multi-line strings). <br>\n             * Current font height will be multiplied with this value to set the line height.\n             * @public\n             * @type Number\n             * @default 1.0\n             * @name me.Text#lineHeight\n             */\n            this.lineHeight = settings.lineHeight || 1.0;\n\n            // private font properties\n            this._fontSize = 0;\n\n            // the text displayed by this bitmapFont object\n            this._text = \"\";\n\n            // anchor point\n            if (typeof settings.anchorPoint !== \"undefined\") {\n                this.anchorPoint.setV(settings.anchorPoint);\n            } else {\n                this.anchorPoint.set(0, 0);\n            }\n\n            // if floating was specified through settings\n            if (typeof settings.floating !== \"undefined\") {\n                this.floating = !!settings.floating;\n            }\n\n            // font name and type\n            this.setFont(settings.font, settings.size);\n\n            // aditional\n            if (settings.bold === true) {\n                this.bold();\n            }\n            if (settings.italic  === true) {\n                this.italic();\n            }\n\n            // set the text\n            this.setText(settings.text);\n        },\n\n        /**\n         * make the font bold\n         * @name bold\n         * @memberOf me.Text.prototype\n         * @function\n         * @return this object for chaining\n         */\n        bold : function () {\n            this.font = \"bold \" + this.font;\n            this.isDirty = true;\n            return this;\n        },\n\n        /**\n         * make the font italic\n         * @name italic\n         * @memberOf me.Text.prototype\n         * @function\n         * @return this object for chaining\n         */\n        italic : function () {\n            this.font = \"italic \" + this.font;\n            this.isDirty = true;\n            return this;\n        },\n\n        /**\n         * set the font family and size\n         * @name setFont\n         * @memberOf me.Text.prototype\n         * @function\n         * @param {String} font a CSS font name\n         * @param {Number|String} size size, or size + suffix (px, em, pt)\n         * @return this object for chaining\n         * @example\n         * font.setFont(\"Arial\", 20);\n         * font.setFont(\"Arial\", \"1.5em\");\n         */\n        setFont : function (font, size) {\n            // font name and type\n            var font_names = font.split(\",\").map(function (value) {\n                value = value.trim();\n                return (\n                    !/(^\".*\"$)|(^'.*'$)/.test(value)\n                ) ? \"\\\"\" + value + \"\\\"\" : value;\n            });\n\n            // font size\n            if (typeof size === \"number\") {\n                this._fontSize = size;\n                size += \"px\";\n            } else /* string */ {\n                // extract the units and convert if necessary\n                var CSSval =  size.match(/([-+]?[\\d.]*)(.*)/);\n                this._fontSize = parseFloat(CSSval[1]);\n                if (CSSval[2]) {\n                    this._fontSize *= toPX[runits.indexOf(CSSval[2])];\n                } else {\n                    // no unit define, assume px\n                    size += \"px\";\n                }\n            }\n            this.height = this._fontSize;\n            this.font = size + \" \" + font_names.join(\",\");\n\n            this.isDirty = true;\n\n            return this;\n        },\n\n        /**\n         * change the text to be displayed\n         * @name setText\n         * @memberOf me.Text.prototype\n         * @function\n         * @param {Number|String|String[]} value a string, or an array of strings\n         * @return this object for chaining\n         */\n        setText : function (value) {\n            value = \"\" + value;\n            if (this._text !== value) {\n                if (Array.isArray(value)) {\n                    this._text = value.join(\"\\n\");\n                } else {\n                    this._text = value;\n                }\n                this.isDirty = true;\n            }\n            return this;\n        },\n\n        /**\n         * measure the given text size in pixels\n         * @name measureText\n         * @memberOf me.Text.prototype\n         * @function\n         * @param {me.CanvasRenderer|me.WebGLRenderer} [renderer] reference a renderer instance\n         * @param {String} [text] the text to be measured\n         * @param {me.Rect} [ret] a object in which to store the text metrics\n         * @returns {TextMetrics} a TextMetrics object with two properties: `width` and `height`, defining the output dimensions\n         */\n        measureText : function (renderer, text, ret) {\n            text = text || this._text;\n\n            var context;\n\n            if (typeof renderer === \"undefined\") {\n                context = me.video.renderer.getFontContext();\n            } else if (renderer instanceof me.Renderer) {\n                context = renderer.getFontContext();\n            } else {\n                // else it's a 2d rendering context object\n                context = renderer;\n            }\n\n            var textMetrics = ret || this.getBounds();\n            var lineHeight = this._fontSize * this.lineHeight;\n            var strings = (\"\" + (text)).split(\"\\n\");\n\n            // save the previous context\n            context.save();\n\n            // apply the style font\n            setContextStyle(context, this);\n\n            // compute the bounding box size\n            this.height = this.width = 0;\n            for (var i = 0; i < strings.length; i++) {\n                this.width = Math.max(context.measureText(me.utils.string.trimRight(strings[i])).width, this.width);\n                this.height += lineHeight;\n            }\n            textMetrics.width = Math.ceil(this.width);\n            textMetrics.height = Math.ceil(this.height);\n\n            // compute the bounding box position\n            textMetrics.pos.x = Math.floor((this.textAlign === \"right\" ? this.pos.x - this.width : (\n                this.textAlign === \"center\" ? this.pos.x - (this.width / 2) : this.pos.x\n            )));\n            textMetrics.pos.y = Math.floor((this.textBaseline.search(/^(top|hanging)$/) === 0) ? this.pos.y : (\n                this.textBaseline === \"middle\" ? this.pos.y - (textMetrics.height / 2) : this.pos.y - textMetrics.height\n            ));\n\n            // restore the context\n            context.restore();\n\n            // returns the Font bounds me.Rect by default\n            return textMetrics;\n        },\n\n        /**\n         * @ignore\n         */\n        update : function (/* dt */) {\n            if (this.isDirty === true) {\n                this.measureText();\n            }\n            return this.isDirty;\n        },\n\n        /**\n         * draw a text at the specified coord\n         * @name draw\n         * @memberOf me.Text.prototype\n         * @function\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer Reference to the destination renderer instance\n         * @param {String} [text]\n         * @param {Number} [x]\n         * @param {Number} [y]\n         */\n        draw : function (renderer, text, x, y, stroke) {\n            // \"hacky patch\" for backward compatibilty\n            if (typeof this.ancestor === \"undefined\") {\n                // update text cache\n                this.setText(text);\n\n                // update position if changed\n                if (this.pos.x !== x || this.pos.y !== y) {\n                    this.pos.x = x;\n                    this.pos.y = y;\n                    this.isDirty = true;\n                }\n\n                // force update bounds\n                this.update(0);\n\n                // save the previous context\n                renderer.save();\n\n                // apply the defined alpha value\n                renderer.setGlobalAlpha(renderer.globalAlpha() * this.getOpacity());\n\n            } else {\n                // added directly to an object container\n                x = this.pos.x;\n                y = this.pos.y;\n            }\n\n            if (renderer.settings.subPixel === false) {\n                // clamp to pixel grid if required\n                x = ~~x;\n                y = ~~y;\n            }\n\n            // draw the text\n            renderer.drawFont(this._drawFont(renderer.getFontContext(), this._text, x, y, stroke || false));\n\n            // for backward compatibilty\n            if (typeof this.ancestor === \"undefined\") {\n                // restore previous context\n                renderer.restore();\n            }\n\n            // clear the dirty flag\n            this.isDirty = false;\n        },\n\n        /**\n         * draw a stroke text at the specified coord, as defined <br>\n         * by the `lineWidth` and `fillStroke` properties. <br>\n         * Note : using drawStroke is not recommended for performance reasons\n         * @name drawStroke\n         * @memberOf me.Text.prototype\n         * @function\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer Reference to the destination renderer instance\n         * @param {String} text\n         * @param {Number} x\n         * @param {Number} y\n         */\n        drawStroke : function (renderer, text, x, y) {\n            this.draw.call(this, renderer, text, x, y, true);\n        },\n\n        /**\n         * @ignore\n         */\n        _drawFont : function (context, text, x, y, stroke) {\n            setContextStyle(context, this, stroke);\n\n            var strings = (\"\" + text).split(\"\\n\");\n            var lineHeight = this._fontSize * this.lineHeight;\n            for (var i = 0; i < strings.length; i++) {\n                var string = me.utils.string.trimRight(strings[i]);\n                // draw the string\n                context[stroke ? \"strokeText\" : \"fillText\"](string, x, y);\n                // add leading space\n                y += lineHeight;\n            }\n            return this.getBounds();\n        },\n\n        /**\n         * Destroy function\n         * @ignore\n         */\n        destroy : function () {\n            me.pool.push(this.fillStyle);\n            me.pool.push(this.strokeStyle);\n            this.fillStyle = this.strokeStyle = undefined;\n            this._super(me.Renderable, \"destroy\");\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * Measures the width of a single line of text, does not account for \\n\n     * @ignore\n     */\n    var measureTextWidth = function(font, text) {\n        var characters = text.split(\"\");\n        var width = 0;\n        var lastGlyph = null;\n        for (var i = 0; i < characters.length; i++) {\n            var ch = characters[i].charCodeAt(0);\n            var glyph = font.fontData.glyphs[ch];\n            var kerning = (lastGlyph && lastGlyph.kerning) ? lastGlyph.getKerning(ch) : 0;\n            width += (glyph.xadvance + kerning) * font.fontScale.x;\n            lastGlyph = glyph;\n        }\n\n        return width;\n    };\n\n    /**\n     * Measures the height of a single line of text, does not account for \\n\n     * @ignore\n     */\n    var measureTextHeight = function(font) {\n        return font.fontData.capHeight * font.lineHeight * font.fontScale.y;\n    };\n\n    /**\n     * a bitmap font object\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {Number} [scale=1.0]\n     * @param {Object} settings the text configuration\n     * @param {String|Image} settings.font a font name to identify the corresponing source image\n     * @param {String} [settings.fontData=settings.font] the bitmap font data corresponding name, or the bitmap font data itself\n     * @param {Number} [settings.size] size a scaling ratio\n     * @param {Number} [settings.lineWidth=1] line width, in pixels, when drawing stroke\n     * @param {String} [settings.textAlign=\"left\"] horizontal text alignment\n     * @param {String} [settings.textBaseline=\"top\"] the text baseline\n     * @param {Number} [settings.lineHeight=1.0] line spacing height\n     * @param {me.Vector2d} [settings.anchorPoint={x:0.0, y:0.0}] anchor point to draw the text at\n     * @param {(String|String[])} [settings.text] a string, or an array of strings\n     * @example\n     * // Use me.loader.preload or me.loader.load to load assets\n     * me.loader.preload([\n     *     { name: \"arial\", type: \"binary\" src: \"data/font/arial.fnt\" },\n     *     { name: \"arial\", type: \"image\" src: \"data/font/arial.png\" },\n     * ])\n     * // Then create an instance of your bitmap font:\n     * var myFont = new me.BitmapText(x, y, {font:\"arial\", text:\"Hello\"});\n     * // two possibilities for using \"myFont\"\n     * // either call the draw function from your Renderable draw function\n     * myFont.draw(renderer, \"Hello!\", 0, 0);\n     * // or just add it to the word container\n     * me.game.world.addChild(myFont);\n     */\n    me.BitmapText = me.Renderable.extend({\n\n        /** @ignore */\n        init : function (x, y, settings) {\n            // call the parent constructor\n            this._super(me.Renderable, \"init\", [x, y, settings.width || 0, settings.height || 0]);\n\n            /**\n             * Set the default text alignment (or justification),<br>\n             * possible values are \"left\", \"right\", and \"center\".\n             * @public\n             * @type String\n             * @default \"left\"\n             * @name textAlign\n             * @memberOf me.BitmapText\n             */\n            this.textAlign = settings.textAlign || \"left\";\n\n            /**\n             * Set the text baseline (e.g. the Y-coordinate for the draw operation), <br>\n             * possible values are \"top\", \"hanging, \"middle, \"alphabetic, \"ideographic, \"bottom\"<br>\n             * @public\n             * @type String\n             * @default \"top\"\n             * @name textBaseline\n             * @memberOf me.BitmapText\n             */\n            this.textBaseline = settings.textBaseline || \"top\";\n\n            /**\n             * Set the line spacing height (when displaying multi-line strings). <br>\n             * Current font height will be multiplied with this value to set the line height.\n             * @public\n             * @type Number\n             * @default 1.0\n             * @name lineHeight\n             * @memberOf me.BitmapText\n             */\n            this.lineHeight = settings.lineHeight || 1;\n\n            /** @ignore */\n            // scaled font size;\n            this.fontScale = me.pool.pull(\"me.Vector2d\", 1, 1);\n\n            // get the corresponding image\n            this.fontImage = (typeof settings.font === \"object\") ? settings.font : me.loader.getImage(settings.font);\n\n            if (typeof settings.fontData !== \"string\") {\n                // use settings.font to retreive the data from the loader\n                this.fontData = me.pool.pull(\"me.BitmapTextData\", me.loader.getBinary(settings.font));\n            } else {\n                this.fontData = me.pool.pull(\"me.BitmapTextData\",\n                    // if starting/includes \"info face\" the whole data string was passed as parameter\n                    (settings.fontData.includes(\"info face\")) ? settings.fontData : me.loader.getBinary(settings.fontData)\n                );\n            };\n\n            // if floating was specified through settings\n            if (typeof settings.floating !== \"undefined\") {\n                this.floating = !!settings.floating;\n            }\n\n            // resize if necessary\n            if (typeof settings.size === \"number\" && settings.size !== 1.0) {\n                this.resize(settings.size);\n            }\n\n            // update anchorPoint if provided\n            if (typeof settings.anchorPoint !== \"undefined\") {\n                this.anchorPoint.set(settings.anchorPoint.x, settings.anchorPoint.y);\n            } else {\n                this.anchorPoint.set(0, 0);\n            }\n\n            // set the text\n            this.setText(settings.text);\n        },\n\n        /**\n         * change the font settings\n         * @name set\n         * @memberOf me.BitmapText.prototype\n         * @function\n         * @param {String} textAlign (\"left\", \"center\", \"right\")\n         * @param {Number} [scale]\n         * @return this object for chaining\n         */\n        set : function (textAlign, scale) {\n            this.textAlign = textAlign;\n            // updated scaled Size\n            if (scale) {\n                this.resize(scale);\n            }\n            this.isDirty = true;\n\n            return this;\n        },\n\n        /**\n         * change the text to be displayed\n         * @name setText\n         * @memberOf me.BitmapText.prototype\n         * @function\n         * @param {Number|String|String[]} value a string, or an array of strings\n         * @return this object for chaining\n         */\n        setText : function (value) {\n            value = \"\" + value;\n            if (this._text !== value) {\n                if (Array.isArray(value)) {\n                    this._text = value.join(\"\\n\");\n                } else {\n                    this._text = value;\n                }\n                this.isDirty = true;\n            }\n            return this;\n        },\n\n        /**\n         * change the font display size\n         * @name resize\n         * @memberOf me.BitmapText.prototype\n         * @function\n         * @param {Number} scale ratio\n         * @return this object for chaining\n         */\n        resize : function (scale) {\n            this.fontScale.set(scale, scale);\n            // clear the cache text to recalculate bounds\n            this.isDirty = true;\n\n            return this;\n        },\n\n\n        /**\n         * measure the given text size in pixels\n         * @name measureText\n         * @memberOf me.BitmapText.prototype\n         * @function\n         * @param {String} [text]\n         * @param {me.Rect} [ret] a object in which to store the text metrics\n         * @returns {TextMetrics} a TextMetrics object with two properties: `width` and `height`, defining the output dimensions\n         */\n        measureText : function (text, ret) {\n            text = text || this._text;\n\n            var strings = (\"\" + text).split(\"\\n\");\n            var stringHeight = measureTextHeight(this);\n            var textMetrics  = ret || this.getBounds();\n\n            textMetrics.height = textMetrics.width = 0;\n\n            for (var i = 0; i < strings.length; i++) {\n                textMetrics.width = Math.max(measureTextWidth(this, strings[i]), textMetrics.width);\n                textMetrics.height += stringHeight;\n            }\n            return textMetrics;\n        },\n\n        /**\n         * @ignore\n         */\n        update : function (/* dt */) {\n            if (this.isDirty === true) {\n                this.measureText();\n            }\n            return this.isDirty;\n        },\n\n        /**\n         * draw the bitmap font\n         * @name draw\n         * @memberOf me.BitmapText.prototype\n         * @function\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer Reference to the destination renderer instance\n         * @param {String} [text]\n         * @param {Number} [x]\n         * @param {Number} [y]\n         */\n        draw : function (renderer, text, x, y) {\n            // allows to provide backward compatibility when\n            // adding Bitmap Font to an object container\n            if (typeof this.ancestor === \"undefined\") {\n                // update cache\n                this.setText(text);\n                // force update bounds\n                this.update(0);\n                // save the previous global alpha value\n                var _alpha = renderer.globalAlpha();\n                renderer.setGlobalAlpha(_alpha * this.getOpacity());\n            } else {\n                // added directly to an object container\n                x = this.pos.x;\n                y = this.pos.y;\n            }\n\n            var strings = (\"\" + this._text).split(\"\\n\");\n            var lX = x;\n            var stringHeight = measureTextHeight(this);\n            var maxWidth = 0;\n\n            for (var i = 0; i < strings.length; i++) {\n                x = lX;\n                var string = me.utils.string.trimRight(strings[i]);\n                // adjust x pos based on alignment value\n                var stringWidth = measureTextWidth(this, string);\n                switch (this.textAlign) {\n                    case \"right\":\n                        x -= stringWidth;\n                        break;\n\n                    case \"center\":\n                        x -= stringWidth * 0.5;\n                        break;\n\n                    default :\n                        break;\n                }\n\n                // adjust y pos based on alignment value\n                switch (this.textBaseline) {\n                    case \"middle\":\n                        y -= stringHeight * 0.5;\n                        break;\n\n                    case \"ideographic\":\n                    case \"alphabetic\":\n                    case \"bottom\":\n                        y -= stringHeight;\n                        break;\n\n                    default :\n                        break;\n                }\n\n                // update initial position if required\n                if (this.isDirty === true && typeof this.ancestor === \"undefined\") {\n                    if (i === 0) {\n                        this.pos.y = y;\n                    }\n                    if (maxWidth < stringWidth) {\n                        maxWidth = stringWidth;\n                        this.pos.x = x;\n                    }\n                }\n\n                // draw the string\n                var lastGlyph = null;\n                for (var c = 0, len = string.length; c < len; c++) {\n                    // calculate the char index\n                    var ch = string.charCodeAt(c);\n                    var glyph = this.fontData.glyphs[ch];\n                    var glyphWidth = glyph.width;\n                    var glyphHeight = glyph.height;\n                    var kerning = (lastGlyph && lastGlyph.kerning) ? lastGlyph.getKerning(ch) : 0;\n\n                    // draw it\n                    if (glyphWidth !== 0 && glyphHeight !== 0) {\n                        // some browser throw an exception when drawing a 0 width or height image\n                        renderer.drawImage(this.fontImage,\n                            glyph.x, glyph.y,\n                            glyphWidth, glyphHeight,\n                            x + glyph.xoffset,\n                            y + glyph.yoffset * this.fontScale.y,\n                            glyphWidth * this.fontScale.x, glyphHeight * this.fontScale.y\n                        );\n                    }\n\n                    // increment position\n                    x += (glyph.xadvance + kerning) * this.fontScale.x;\n                    lastGlyph = glyph;\n                }\n                // increment line\n                y += stringHeight;\n            }\n\n            if (typeof this.ancestor === \"undefined\") {\n                // restore the previous global alpha value\n                renderer.setGlobalAlpha(_alpha);\n            }\n\n            // clear the dirty flag\n            this.isDirty = false;\n        },\n\n\n        /**\n         * Destroy function\n         * @ignore\n         */\n        destroy : function () {\n            me.pool.push(this.fontScale);\n            this.fontScale = undefined;\n            me.pool.push(this.fontData);\n            this.fontData = undefined;\n            this._super(me.Renderable, \"destroy\");\n        }\n    });\n})();\n","(function() {\n\n    // bitmap constants\n    var LOG2_PAGE_SIZE = 9;\n    var PAGE_SIZE = 1 << LOG2_PAGE_SIZE;\n    var xChars = [\"x\", \"e\", \"a\", \"o\", \"n\", \"s\", \"r\", \"c\", \"u\", \"m\", \"v\", \"w\", \"z\"];\n    var capChars = [\"M\", \"N\", \"B\", \"D\", \"C\", \"E\", \"F\", \"K\", \"A\", \"G\", \"H\", \"I\", \"J\", \"L\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"];\n\n    /**\n     * a glyph representing a single character in a font\n     */\n    var Glyph = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init: function () {\n            this.id = 0;\n            this.x = 0;\n            this.y = 0;\n            this.width = 0;\n            this.height = 0;\n            this.u = 0;\n            this.v = 0;\n            this.u2 = 0;\n            this.v2 = 0;\n            this.xoffset = 0;\n            this.yoffset = 0;\n            this.xadvance = 0;\n            this.fixedWidth = false;\n        },\n\n        /**\n         * @ignore\n         */\n        getKerning: function (ch) {\n            if (this.kerning) {\n                var page = this.kerning[ch >>> LOG2_PAGE_SIZE];\n                if (page) {\n                    return page[ch & PAGE_SIZE - 1] || 0;\n                }\n            }\n            return 0;\n        },\n\n        /**\n         * @ignore\n         */\n        setKerning: function (ch, value) {\n            if (!this.kerning) {\n                this.kerning = {};\n            }\n            var page = this.kerning[ch >>> LOG2_PAGE_SIZE];\n            if (typeof page === \"undefined\") {\n                this.kerning[ch >>> LOG2_PAGE_SIZE] = {};\n                page = this.kerning[ch >>> LOG2_PAGE_SIZE];\n            }\n            page[ch & PAGE_SIZE - 1] = value;\n        }\n    });\n\n    /**\n     * Class for storing relevant data from the font file.\n     * @class me.BitmapTextData\n     * @memberOf me\n     * @param data {String} - The bitmap font data pulled from the resource loader using me.loader.getBinary()\n     * @constructor\n     */\n    me.BitmapTextData = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init: function (data) {\n            this.padTop = 0;\n            this.padRight = 0;\n            this.padBottom = 0;\n            this.padLeft = 0;\n            this.lineHeight = 0;\n            // The distance from the top of most uppercase characters to the baseline. Since the drawing position is the cap height of\n            // the first line, the cap height can be used to get the location of the baseline.\n            this.capHeight = 1;\n            // The distance from the bottom of the glyph that extends the lowest to the baseline. This number is negative.\n            this.descent = 0;\n\n            /**\n             * The map of glyphs, each key is a char code.\n             * @name glyphs\n             * @type {Object}\n             * @memberOf me.BitmapTextData\n             */\n            this.glyphs = {};\n\n            // parse the data\n            this.parse(data);\n        },\n\n        /**\n         * Creates a glyph to use for the space character\n         * @private\n         * @name _createSpaceGlyph\n         * @memberOf me.BitmapTextData\n         * @function\n         */\n        _createSpaceGlyph: function () {\n            var spaceCharCode = \" \".charCodeAt(0);\n            var glyph = this.glyphs[spaceCharCode];\n            if (!glyph) {\n                glyph = new Glyph();\n                glyph.id = spaceCharCode;\n                glyph.xadvance = this._getFirstGlyph().xadvance;\n                this.glyphs[spaceCharCode] = glyph;\n            }\n        },\n\n        /**\n         * Gets the first glyph in the map that is not a space character\n         * @private\n         * @name _getFirstGlyph\n         * @memberOf me.BitmapTextData\n         * @function\n         * @returns {me.Glyph}\n         */\n        _getFirstGlyph: function () {\n            var keys = Object.keys(this.glyphs);\n            for (var i = 0; i < keys.length; i++) {\n                if (keys[i] > 32) {\n                    return this.glyphs[keys[i]];\n                }\n            }\n            return null;\n        },\n\n        /**\n         * Gets the value from a string of pairs. For example: one=1 two=2 something=hi. Can accept the regex of /one={d}/\n         * and returns the value of d\n         * @private\n         * @name _getValueFromPair\n         * @memberOf me.BitmapTextData\n         * @function\n         * @returns {String}\n         */\n        _getValueFromPair: function (string, pattern) {\n            var value = string.match(pattern);\n            if (!value) {\n                throw new Error(\"Could not find pattern \" + pattern + \" in string: \" + string);\n            }\n\n            return value[0].split(\"=\")[1];\n        },\n\n        /**\n         * This parses the font data text and builds a map of glyphs containing the data for each character\n         * @name parse\n         * @memberOf me.BitmapTextData\n         * @function\n         * @param {String} fontData\n         */\n        parse: function (fontData) {\n            if (!fontData) {\n                throw new Error(\"File containing font data was empty, cannot load the bitmap font.\");\n            }\n            var lines = fontData.split(/\\r\\n|\\n/);\n            var padding = fontData.match(/padding\\=\\d+,\\d+,\\d+,\\d+/g);\n            if (!padding) {\n                throw new Error(\"Padding not found in first line\");\n            }\n            var paddingValues = padding[0].split(\"=\")[1].split(\",\");\n            this.padTop = parseFloat(paddingValues[0]);\n            this.padLeft = parseFloat(paddingValues[1]);\n            this.padBottom = parseFloat(paddingValues[2]);\n            this.padRight = parseFloat(paddingValues[3]);\n\n            this.lineHeight = parseFloat(this._getValueFromPair(lines[1], /lineHeight\\=\\d+/g));\n\n            var baseLine = parseFloat(this._getValueFromPair(lines[1], /base\\=\\d+/g));\n\n            var padY = this.padTop + this.padBottom;\n\n            var glyph = null;\n\n            for (var i = 4; i < lines.length; i++) {\n                var line = lines[i];\n                var characterValues = line.split(/=|\\s+/);\n                if (!line || /^kernings/.test(line)) {\n                    continue;\n                }\n                if (/^kerning\\s/.test(line)) {\n                    var first = parseFloat(characterValues[2]);\n                    var second = parseFloat(characterValues[4]);\n                    var amount = parseFloat(characterValues[6]);\n\n                    glyph = this.glyphs[first];\n                    if (glyph !== null && typeof glyph !== \"undefined\") {\n                        glyph.setKerning(second, amount);\n                    }\n                } else {\n                    glyph = new Glyph();\n\n                    var ch = parseFloat(characterValues[2]);\n                    glyph.id = ch;\n                    glyph.x = parseFloat(characterValues[4]);\n                    glyph.y = parseFloat(characterValues[6]);\n                    glyph.width = parseFloat(characterValues[8]);\n                    glyph.height = parseFloat(characterValues[10]);\n                    glyph.xoffset = parseFloat(characterValues[12]);\n                    glyph.yoffset = parseFloat(characterValues[14]);\n                    glyph.xadvance = parseFloat(characterValues[16]);\n\n                    if (glyph.width > 0 && glyph.height > 0) {\n                        this.descent = Math.min(baseLine + glyph.yoffset, this.descent);\n                    }\n\n                    this.glyphs[ch] = glyph;\n                }\n            }\n\n            this.descent += this.padBottom;\n\n            this._createSpaceGlyph();\n\n            var xGlyph = null;\n            for (i = 0; i < xChars.length; i++) {\n                var xChar = xChars[i];\n                xGlyph = this.glyphs[xChar.charCodeAt(0)];\n                if (xGlyph) {\n                    break;\n                }\n            }\n            if (!xGlyph) {\n                xGlyph = this._getFirstGlyph();\n            }\n\n            var capGlyph = null;\n            for (i = 0; i < capChars.length; i++) {\n                var capChar = capChars[i];\n                capGlyph = this.glyphs[capChar.charCodeAt(0)];\n                if (capGlyph) {\n                    break;\n                }\n            }\n            if (!capGlyph) {\n                for (var charCode in this.glyphs) {\n                    if (this.glyphs.hasOwnProperty(charCode)) {\n                        glyph = this.glyphs[charCode];\n                        if (glyph.height === 0 || glyph.width === 0) {\n                            continue;\n                        }\n                        this.capHeight = Math.max(this.capHeight, glyph.height);\n                    }\n                }\n            } else {\n                this.capHeight = capGlyph.height;\n            }\n            this.capHeight -= padY;\n        }\n    });\n})();\n","/*!\n *  howler.js v2.1.1\n *  howlerjs.com\n *\n *  (c) 2013-2018, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create the global controller. All contained methods and properties apply\n   * to all sounds that are currently playing or will be in the future.\n   */\n  var HowlerGlobal = function() {\n    this.init();\n  };\n  HowlerGlobal.prototype = {\n    /**\n     * Initialize the global Howler object.\n     * @return {Howler}\n     */\n    init: function() {\n      var self = this || Howler;\n\n      // Create a global ID counter.\n      self._counter = 1000;\n\n      // Pool of unlocked HTML5 Audio objects.\n      self._html5AudioPool = [];\n      self.html5PoolSize = 10;\n\n      // Internal properties.\n      self._codecs = {};\n      self._howls = [];\n      self._muted = false;\n      self._volume = 1;\n      self._canPlayEvent = 'canplaythrough';\n      self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n\n      // Public properties.\n      self.masterGain = null;\n      self.noAudio = false;\n      self.usingWebAudio = true;\n      self.autoSuspend = true;\n      self.ctx = null;\n\n      // Set to false to disable the auto audio unlocker.\n      self.autoUnlock = true;\n\n      // Setup the various state values for global tracking.\n      self._setup();\n\n      return self;\n    },\n\n    /**\n     * Get/set the global volume for all sounds.\n     * @param  {Float} vol Volume from 0.0 to 1.0.\n     * @return {Howler/Float}     Returns self or current volume.\n     */\n    volume: function(vol) {\n      var self = this || Howler;\n      vol = parseFloat(vol);\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        self._volume = vol;\n\n        // Don't update any of the nodes if we are muted.\n        if (self._muted) {\n          return self;\n        }\n\n        // When using Web Audio, we just need to adjust the master gain.\n        if (self.usingWebAudio) {\n          self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n        }\n\n        // Loop through and change volume for all HTML5 audio nodes.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and change the volumes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node) {\n                sound._node.volume = sound._volume * vol;\n              }\n            }\n          }\n        }\n\n        return self;\n      }\n\n      return self._volume;\n    },\n\n    /**\n     * Handle muting and unmuting globally.\n     * @param  {Boolean} muted Is muted or not.\n     */\n    mute: function(muted) {\n      var self = this || Howler;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!self.ctx) {\n        setupAudioContext();\n      }\n\n      self._muted = muted;\n\n      // With Web Audio, we just need to mute the master gain.\n      if (self.usingWebAudio) {\n        self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n      }\n\n      // Loop through and mute all HTML5 Audio nodes.\n      for (var i=0; i<self._howls.length; i++) {\n        if (!self._howls[i]._webAudio) {\n          // Get all of the sounds in this Howl group.\n          var ids = self._howls[i]._getSoundIds();\n\n          // Loop through all sounds and mark the audio node as muted.\n          for (var j=0; j<ids.length; j++) {\n            var sound = self._howls[i]._soundById(ids[j]);\n\n            if (sound && sound._node) {\n              sound._node.muted = (muted) ? true : sound._muted;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Unload and destroy all currently loaded Howl objects.\n     * @return {Howler}\n     */\n    unload: function() {\n      var self = this || Howler;\n\n      for (var i=self._howls.length-1; i>=0; i--) {\n        self._howls[i].unload();\n      }\n\n      // Create a new AudioContext to make sure it is fully reset.\n      if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n        self.ctx.close();\n        self.ctx = null;\n        setupAudioContext();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for codec support of specific extension.\n     * @param  {String} ext Audio file extention.\n     * @return {Boolean}\n     */\n    codecs: function(ext) {\n      return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n    },\n\n    /**\n     * Setup various state values for global tracking.\n     * @return {Howler}\n     */\n    _setup: function() {\n      var self = this || Howler;\n\n      // Keeps track of the suspend/resume state of the AudioContext.\n      self.state = self.ctx ? self.ctx.state || 'suspended' : 'suspended';\n\n      // Automatically begin the 30-second suspend process\n      self._autoSuspend();\n\n      // Check if audio is available.\n      if (!self.usingWebAudio) {\n        // No audio is available on this system if noAudio is set to true.\n        if (typeof Audio !== 'undefined') {\n          try {\n            var test = new Audio();\n\n            // Check if the canplaythrough event is available.\n            if (typeof test.oncanplaythrough === 'undefined') {\n              self._canPlayEvent = 'canplay';\n            }\n          } catch(e) {\n            self.noAudio = true;\n          }\n        } else {\n          self.noAudio = true;\n        }\n      }\n\n      // Test to make sure audio isn't disabled in Internet Explorer.\n      try {\n        var test = new Audio();\n        if (test.muted) {\n          self.noAudio = true;\n        }\n      } catch (e) {}\n\n      // Check for supported codecs.\n      if (!self.noAudio) {\n        self._setupCodecs();\n      }\n\n      return self;\n    },\n\n    /**\n     * Check for browser support for various codecs and cache the results.\n     * @return {Howler}\n     */\n    _setupCodecs: function() {\n      var self = this || Howler;\n      var audioTest = null;\n\n      // Must wrap in a try/catch because IE11 in server mode throws an error.\n      try {\n        audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n      } catch (err) {\n        return self;\n      }\n\n      if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n        return self;\n      }\n\n      var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n\n      // Opera version <33 has mixed MP3 support, so we need to check for and block it.\n      var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\\/([0-6].)/g);\n      var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n\n      self._codecs = {\n        mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n        mpeg: !!mpegTest,\n        opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n        ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n        wav: !!audioTest.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, ''),\n        aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n        caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n        m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n        weba: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        webm: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n        dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n        flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n      };\n\n      return self;\n    },\n\n    /**\n     * Some browsers/devices will only allow audio to be played after a user interaction.\n     * Attempt to automatically unlock audio on the first user interaction.\n     * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n     * @return {Howler}\n     */\n    _unlockAudio: function() {\n      var self = this || Howler;\n\n      // Only run this on certain browsers/devices.\n      var shouldUnlock = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome|Safari/i.test(self._navigator && self._navigator.userAgent);\n      if (self._audioUnlocked || !self.ctx || !shouldUnlock) {\n        return;\n      }\n\n      self._audioUnlocked = false;\n      self.autoUnlock = false;\n\n      // Some mobile devices/platforms have distortion issues when opening/closing tabs and/or web views.\n      // Bugs in the browser (especially Mobile Safari) can cause the sampleRate to change from 44100 to 48000.\n      // By calling Howler.unload(), we create a new AudioContext with the correct sampleRate.\n      if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n        self._mobileUnloaded = true;\n        self.unload();\n      }\n\n      // Scratch buffer for enabling iOS to dispose of web audio buffers correctly, as per:\n      // http://stackoverflow.com/questions/24119684\n      self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n\n      // Call this method on touch start to create and play a buffer,\n      // then check if the audio actually played to determine if\n      // audio has now been unlocked on iOS, Android, etc.\n      var unlock = function(e) {\n        // Create a pool of unlocked HTML5 Audio objects that can\n        // be used for playing sounds without user interaction. HTML5\n        // Audio objects must be individually unlocked, as opposed\n        // to the WebAudio API which only needs a single activation.\n        // This must occur before WebAudio setup or the source.onended\n        // event will not fire.\n        for (var i=0; i<self.html5PoolSize; i++) {\n          var audioNode = new Audio();\n\n          // Mark this Audio object as unlocked to ensure it can get returned\n          // to the unlocked pool when released.\n          audioNode._unlocked = true;\n\n          // Add the audio node to the pool.\n          self._releaseHtml5Audio(audioNode);\n        }\n\n        // Loop through any assigned audio nodes and unlock them.\n        for (var i=0; i<self._howls.length; i++) {\n          if (!self._howls[i]._webAudio) {\n            // Get all of the sounds in this Howl group.\n            var ids = self._howls[i]._getSoundIds();\n\n            // Loop through all sounds and unlock the audio nodes.\n            for (var j=0; j<ids.length; j++) {\n              var sound = self._howls[i]._soundById(ids[j]);\n\n              if (sound && sound._node && !sound._node._unlocked) {\n                sound._node._unlocked = true;\n                sound._node.load();\n              }\n            }\n          }\n        }\n\n        // Fix Android can not play in suspend state.\n        self._autoResume();\n\n        // Create an empty buffer.\n        var source = self.ctx.createBufferSource();\n        source.buffer = self._scratchBuffer;\n        source.connect(self.ctx.destination);\n\n        // Play the empty buffer.\n        if (typeof source.start === 'undefined') {\n          source.noteOn(0);\n        } else {\n          source.start(0);\n        }\n\n        // Calling resume() on a stack initiated by user gesture is what actually unlocks the audio on Android Chrome >= 55.\n        if (typeof self.ctx.resume === 'function') {\n          self.ctx.resume();\n        }\n\n        // Setup a timeout to check that we are unlocked on the next event loop.\n        source.onended = function() {\n          source.disconnect(0);\n\n          // Update the unlocked state and prevent this check from happening again.\n          self._audioUnlocked = true;\n\n          // Remove the touch start listener.\n          document.removeEventListener('touchstart', unlock, true);\n          document.removeEventListener('touchend', unlock, true);\n          document.removeEventListener('click', unlock, true);\n\n          // Let all sounds know that audio has been unlocked.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('unlock');\n          }\n        };\n      };\n\n      // Setup a touch start listener to attempt an unlock in.\n      document.addEventListener('touchstart', unlock, true);\n      document.addEventListener('touchend', unlock, true);\n      document.addEventListener('click', unlock, true);\n\n      return self;\n    },\n\n    /**\n     * Get an unlocked HTML5 Audio object from the pool. If none are left,\n     * return a new Audio object and throw a warning.\n     * @return {Audio} HTML5 Audio object.\n     */\n    _obtainHtml5Audio: function() {\n      var self = this || Howler;\n\n      // Return the next object from the pool if one exists.\n      if (self._html5AudioPool.length) {\n        return self._html5AudioPool.pop();\n      }\n\n      //.Check if the audio is locked and throw a warning.\n      var testPlay = new Audio().play();\n      if (testPlay && typeof Promise !== 'undefined' && (testPlay instanceof Promise || typeof testPlay.then === 'function')) {\n        testPlay.catch(function() {\n          console.warn('HTML5 Audio pool exhausted, returning potentially locked audio object.');\n        });\n      }\n\n      return new Audio();\n    },\n\n    /**\n     * Return an activated HTML5 Audio object to the pool.\n     * @return {Howler}\n     */\n    _releaseHtml5Audio: function(audio) {\n      var self = this || Howler;\n\n      // Don't add audio to the pool if we don't know if it has been unlocked.\n      if (audio._unlocked) {\n        self._html5AudioPool.push(audio);\n      }\n\n      return self;\n    },\n\n    /**\n     * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.\n     * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.\n     * @return {Howler}\n     */\n    _autoSuspend: function() {\n      var self = this;\n\n      if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      // Check if any sounds are playing.\n      for (var i=0; i<self._howls.length; i++) {\n        if (self._howls[i]._webAudio) {\n          for (var j=0; j<self._howls[i]._sounds.length; j++) {\n            if (!self._howls[i]._sounds[j]._paused) {\n              return self;\n            }\n          }\n        }\n      }\n\n      if (self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n      }\n\n      // If no sound has played after 30 seconds, suspend the context.\n      self._suspendTimer = setTimeout(function() {\n        if (!self.autoSuspend) {\n          return;\n        }\n\n        self._suspendTimer = null;\n        self.state = 'suspending';\n        self.ctx.suspend().then(function() {\n          self.state = 'suspended';\n\n          if (self._resumeAfterSuspend) {\n            delete self._resumeAfterSuspend;\n            self._autoResume();\n          }\n        });\n      }, 30000);\n\n      return self;\n    },\n\n    /**\n     * Automatically resume the Web Audio AudioContext when a new sound is played.\n     * @return {Howler}\n     */\n    _autoResume: function() {\n      var self = this;\n\n      if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n        return;\n      }\n\n      if (self.state === 'running' && self._suspendTimer) {\n        clearTimeout(self._suspendTimer);\n        self._suspendTimer = null;\n      } else if (self.state === 'suspended') {\n        self.ctx.resume().then(function() {\n          self.state = 'running';\n\n          // Emit to all Howls that the audio has resumed.\n          for (var i=0; i<self._howls.length; i++) {\n            self._howls[i]._emit('resume');\n          }\n        });\n\n        if (self._suspendTimer) {\n          clearTimeout(self._suspendTimer);\n          self._suspendTimer = null;\n        }\n      } else if (self.state === 'suspending') {\n        self._resumeAfterSuspend = true;\n      }\n\n      return self;\n    }\n  };\n\n  // Setup the global audio controller.\n  var Howler = new HowlerGlobal();\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create an audio group controller.\n   * @param {Object} o Passed in properties for this group.\n   */\n  var Howl = function(o) {\n    var self = this;\n\n    // Throw an error if no source is provided.\n    if (!o.src || o.src.length === 0) {\n      console.error('An array of source files must be passed with any new Howl.');\n      return;\n    }\n\n    self.init(o);\n  };\n  Howl.prototype = {\n    /**\n     * Initialize a new Howl group object.\n     * @param  {Object} o Passed in properties for this group.\n     * @return {Howl}\n     */\n    init: function(o) {\n      var self = this;\n\n      // If we don't have an AudioContext created yet, run the setup.\n      if (!Howler.ctx) {\n        setupAudioContext();\n      }\n\n      // Setup user-defined default properties.\n      self._autoplay = o.autoplay || false;\n      self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n      self._html5 = o.html5 || false;\n      self._muted = o.mute || false;\n      self._loop = o.loop || false;\n      self._pool = o.pool || 5;\n      self._preload = (typeof o.preload === 'boolean') ? o.preload : true;\n      self._rate = o.rate || 1;\n      self._sprite = o.sprite || {};\n      self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n      self._volume = o.volume !== undefined ? o.volume : 1;\n      self._xhrWithCredentials = o.xhrWithCredentials || false;\n\n      // Setup all other default properties.\n      self._duration = 0;\n      self._state = 'unloaded';\n      self._sounds = [];\n      self._endTimers = {};\n      self._queue = [];\n      self._playLock = false;\n\n      // Setup event listeners.\n      self._onend = o.onend ? [{fn: o.onend}] : [];\n      self._onfade = o.onfade ? [{fn: o.onfade}] : [];\n      self._onload = o.onload ? [{fn: o.onload}] : [];\n      self._onloaderror = o.onloaderror ? [{fn: o.onloaderror}] : [];\n      self._onplayerror = o.onplayerror ? [{fn: o.onplayerror}] : [];\n      self._onpause = o.onpause ? [{fn: o.onpause}] : [];\n      self._onplay = o.onplay ? [{fn: o.onplay}] : [];\n      self._onstop = o.onstop ? [{fn: o.onstop}] : [];\n      self._onmute = o.onmute ? [{fn: o.onmute}] : [];\n      self._onvolume = o.onvolume ? [{fn: o.onvolume}] : [];\n      self._onrate = o.onrate ? [{fn: o.onrate}] : [];\n      self._onseek = o.onseek ? [{fn: o.onseek}] : [];\n      self._onunlock = o.onunlock ? [{fn: o.onunlock}] : [];\n      self._onresume = [];\n\n      // Web Audio or HTML5 Audio?\n      self._webAudio = Howler.usingWebAudio && !self._html5;\n\n      // Automatically try to enable audio.\n      if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.autoUnlock) {\n        Howler._unlockAudio();\n      }\n\n      // Keep track of this Howl group in the global controller.\n      Howler._howls.push(self);\n\n      // If they selected autoplay, add a play event to the load queue.\n      if (self._autoplay) {\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play();\n          }\n        });\n      }\n\n      // Load the source file unless otherwise specified.\n      if (self._preload) {\n        self.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Load the audio file.\n     * @return {Howler}\n     */\n    load: function() {\n      var self = this;\n      var url = null;\n\n      // If no audio is available, quit immediately.\n      if (Howler.noAudio) {\n        self._emit('loaderror', null, 'No audio support.');\n        return;\n      }\n\n      // Make sure our source is in an array.\n      if (typeof self._src === 'string') {\n        self._src = [self._src];\n      }\n\n      // Loop through the sources and pick the first one that is compatible.\n      for (var i=0; i<self._src.length; i++) {\n        var ext, str;\n\n        if (self._format && self._format[i]) {\n          // If an extension was specified, use that instead.\n          ext = self._format[i];\n        } else {\n          // Make sure the source is a string.\n          str = self._src[i];\n          if (typeof str !== 'string') {\n            self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n            continue;\n          }\n\n          // Extract the file extension from the URL or base64 data URI.\n          ext = /^data:audio\\/([^;,]+);/i.exec(str);\n          if (!ext) {\n            ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n          }\n\n          if (ext) {\n            ext = ext[1].toLowerCase();\n          }\n        }\n\n        // Log a warning if no extension was found.\n        if (!ext) {\n          console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n        }\n\n        // Check if this extension is available.\n        if (ext && Howler.codecs(ext)) {\n          url = self._src[i];\n          break;\n        }\n      }\n\n      if (!url) {\n        self._emit('loaderror', null, 'No codec support for selected audio sources.');\n        return;\n      }\n\n      self._src = url;\n      self._state = 'loading';\n\n      // If the hosting page is HTTPS and the source isn't,\n      // drop down to HTML5 Audio to avoid Mixed Content errors.\n      if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n        self._html5 = true;\n        self._webAudio = false;\n      }\n\n      // Create a new sound object and add it to the pool.\n      new Sound(self);\n\n      // Load and decode the audio data for playback.\n      if (self._webAudio) {\n        loadBuffer(self);\n      }\n\n      return self;\n    },\n\n    /**\n     * Play a sound or resume previous playback.\n     * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Number}          Sound ID.\n     */\n    play: function(sprite, internal) {\n      var self = this;\n      var id = null;\n\n      // Determine if a sprite, sound id or nothing was passed\n      if (typeof sprite === 'number') {\n        id = sprite;\n        sprite = null;\n      } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n        // If the passed sprite doesn't exist, do nothing.\n        return null;\n      } else if (typeof sprite === 'undefined') {\n        // Use the default sound sprite (plays the full audio length).\n        sprite = '__default';\n\n        // Check if there is a single paused sound that isn't ended. \n        // If there is, play that sound. If not, continue as usual.  \n        if (!self._playLock) {\n          var num = 0;\n          for (var i=0; i<self._sounds.length; i++) {\n            if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n              num++;\n              id = self._sounds[i]._id;\n            }\n          }\n\n          if (num === 1) {\n            sprite = null;\n          } else {\n            id = null;\n          }\n        }\n      }\n\n      // Get the selected node, or get one from the pool.\n      var sound = id ? self._soundById(id) : self._inactiveSound();\n\n      // If the sound doesn't exist, do nothing.\n      if (!sound) {\n        return null;\n      }\n\n      // Select the sprite definition.\n      if (id && !sprite) {\n        sprite = sound._sprite || '__default';\n      }\n\n      // If the sound hasn't loaded, we must wait to get the audio's duration.\n      // We also need to wait to make sure we don't run into race conditions with\n      // the order of function calls.\n      if (self._state !== 'loaded') {\n        // Set the sprite value on this sound.\n        sound._sprite = sprite;\n\n        // Mark this sound as not ended in case another sound is played before this one loads.\n        sound._ended = false;\n\n        // Add the sound to the queue to be played on load.\n        var soundId = sound._id;\n        self._queue.push({\n          event: 'play',\n          action: function() {\n            self.play(soundId);\n          }\n        });\n\n        return soundId;\n      }\n\n      // Don't play the sound if an id was passed and it is already playing.\n      if (id && !sound._paused) {\n        // Trigger the play event, in order to keep iterating through queue.\n        if (!internal) {\n          self._loadQueue('play');\n        }\n\n        return sound._id;\n      }\n\n      // Make sure the AudioContext isn't suspended, and resume it if it is.\n      if (self._webAudio) {\n        Howler._autoResume();\n      }\n\n      // Determine how long to play for and where to start playing.\n      var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n      var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n      var timeout = (duration * 1000) / Math.abs(sound._rate);\n      var start = self._sprite[sprite][0] / 1000;\n      var stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n      sound._sprite = sprite;\n\n      // Mark the sound as ended instantly so that this async playback\n      // doesn't get grabbed by another call to play while this one waits to start.\n      sound._ended = false;\n\n      // Update the parameters of the sound.\n      var setParams = function() {\n        sound._paused = false;\n        sound._seek = seek;\n        sound._start = start;\n        sound._stop = stop;\n        sound._loop = loop;\n      };\n\n      // End the sound instantly if seek is at the end.\n      if (seek >= stop) {\n        self._ended(sound);\n        return;\n      }\n\n      // Begin the actual playback.\n      var node = sound._node;\n      if (self._webAudio) {\n        // Fire this when the sound is ready to play to begin Web Audio playback.\n        var playWebAudio = function() {\n          self._playLock = false;\n          setParams();\n          self._refreshBuffer(sound);\n\n          // Setup the playback params.\n          var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n          node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n          sound._playStart = Howler.ctx.currentTime;\n\n          // Play the sound using the supported method.\n          if (typeof node.bufferSource.start === 'undefined') {\n            sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n          } else {\n            sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n          }\n\n          // Start a new timer if none is present.\n          if (timeout !== Infinity) {\n            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n          }\n\n          if (!internal) {\n            setTimeout(function() {\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }, 0);\n          }\n        };\n\n        if (Howler.state === 'running') {\n          playWebAudio();\n        } else {\n          self._playLock = true;\n\n          // Wait for the audio context to resume before playing.\n          self.once('resume', playWebAudio);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      } else {\n        // Fire this when the sound is ready to play to begin HTML5 Audio playback.\n        var playHtml5 = function() {\n          node.currentTime = seek;\n          node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n          node.volume = sound._volume * Howler.volume();\n          node.playbackRate = sound._rate;\n\n          // Some browsers will throw an error if this is called without user interaction.\n          try {\n            var play = node.play();\n\n            // Support older browsers that don't support promises, and thus don't have this issue.\n            if (play && typeof Promise !== 'undefined' && (play instanceof Promise || typeof play.then === 'function')) {\n              // Implements a lock to prevent DOMException: The play() request was interrupted by a call to pause().\n              self._playLock = true;\n\n              // Set param values immediately.\n              setParams();\n\n              // Releases the lock and executes queued actions.\n              play\n                .then(function() {\n                  self._playLock = false;\n                  node._unlocked = true;\n                  if (!internal) {\n                    self._emit('play', sound._id);\n                    self._loadQueue();\n                  }\n                })\n                .catch(function() {\n                  self._playLock = false;\n                  self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                    'on mobile devices and Chrome where playback was not within a user interaction.');\n\n                  // Reset the ended and paused values.\n                  sound._ended = true;\n                  sound._paused = true;\n                });\n            } else if (!internal) {\n              self._playLock = false;\n              setParams();\n              self._emit('play', sound._id);\n              self._loadQueue();\n            }\n\n            // Setting rate before playing won't work in IE, so we set it again here.\n            node.playbackRate = sound._rate;\n\n            // If the node is still paused, then we can assume there was a playback issue.\n            if (node.paused) {\n              self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' +\n                'on mobile devices and Chrome where playback was not within a user interaction.');\n              return;\n            }\n\n            // Setup the end timer on sprites or listen for the ended event.\n            if (sprite !== '__default' || sound._loop) {\n              self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            } else {\n              self._endTimers[sound._id] = function() {\n                // Fire ended on this audio node.\n                self._ended(sound);\n\n                // Clear this listener.\n                node.removeEventListener('ended', self._endTimers[sound._id], false);\n              };\n              node.addEventListener('ended', self._endTimers[sound._id], false);\n            }\n          } catch (err) {\n            self._emit('playerror', sound._id, err);\n          }\n        };\n\n        // Play immediately if ready, or wait for the 'canplaythrough'e vent.\n        var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n        if (node.readyState >= 3 || loadedNoReadyState) {\n          playHtml5();\n        } else {\n          self._playLock = true;\n\n          var listener = function() {\n            // Begin playback.\n            playHtml5();\n\n            // Clear this listener.\n            node.removeEventListener(Howler._canPlayEvent, listener, false);\n          };\n          node.addEventListener(Howler._canPlayEvent, listener, false);\n\n          // Cancel the end timer.\n          self._clearTimer(sound._id);\n        }\n      }\n\n      return sound._id;\n    },\n\n    /**\n     * Pause playback and save current position.\n     * @param  {Number} id The sound ID (empty to pause all in group).\n     * @return {Howl}\n     */\n    pause: function(id) {\n      var self = this;\n\n      // If the sound hasn't loaded or a play() promise is pending, add it to the load queue to pause when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'pause',\n          action: function() {\n            self.pause(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be paused.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound && !sound._paused) {\n          // Reset the seek position.\n          sound._seek = self.seek(ids[i]);\n          sound._rateSeek = 0;\n          sound._paused = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound has been created.\n              if (!sound._node.bufferSource) {\n                continue;\n              }\n\n              if (typeof sound._node.bufferSource.stop === 'undefined') {\n                sound._node.bufferSource.noteOff(0);\n              } else {\n                sound._node.bufferSource.stop(0);\n              }\n\n              // Clean up the buffer source.\n              self._cleanBuffer(sound._node);\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.pause();\n            }\n          }\n        }\n\n        // Fire the pause event, unless `true` is passed as the 2nd argument.\n        if (!arguments[1]) {\n          self._emit('pause', sound ? sound._id : null);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Stop playback and reset to start.\n     * @param  {Number} id The sound ID (empty to stop all in group).\n     * @param  {Boolean} internal Internal Use: true prevents event firing.\n     * @return {Howl}\n     */\n    stop: function(id, internal) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to stop when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'stop',\n          action: function() {\n            self.stop(id);\n          }\n        });\n\n        return self;\n      }\n\n      // If no id is passed, get all ID's to be stopped.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Clear the end timer.\n        self._clearTimer(ids[i]);\n\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          // Reset the seek position.\n          sound._seek = sound._start || 0;\n          sound._rateSeek = 0;\n          sound._paused = true;\n          sound._ended = true;\n\n          // Stop currently running fades.\n          self._stopFade(ids[i]);\n\n          if (sound._node) {\n            if (self._webAudio) {\n              // Make sure the sound's AudioBufferSourceNode has been created.\n              if (sound._node.bufferSource) {\n                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                  sound._node.bufferSource.noteOff(0);\n                } else {\n                  sound._node.bufferSource.stop(0);\n                }\n\n                // Clean up the buffer source.\n                self._cleanBuffer(sound._node);\n              }\n            } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n              sound._node.currentTime = sound._start || 0;\n              sound._node.pause();\n            }\n          }\n\n          if (!internal) {\n            self._emit('stop', sound._id);\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Mute/unmute a single sound or all sounds in this Howl group.\n     * @param  {Boolean} muted Set to true to mute and false to unmute.\n     * @param  {Number} id    The sound ID to update (omit to mute/unmute all).\n     * @return {Howl}\n     */\n    mute: function(muted, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to mute when capable.\n      if (self._state !== 'loaded'|| self._playLock) {\n        self._queue.push({\n          event: 'mute',\n          action: function() {\n            self.mute(muted, id);\n          }\n        });\n\n        return self;\n      }\n\n      // If applying mute/unmute to all sounds, update the group's value.\n      if (typeof id === 'undefined') {\n        if (typeof muted === 'boolean') {\n          self._muted = muted;\n        } else {\n          return self._muted;\n        }\n      }\n\n      // If no id is passed, get all ID's to be muted.\n      var ids = self._getSoundIds(id);\n\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._muted = muted;\n\n          // Cancel active fade and set the volume to the end value.\n          if (sound._interval) {\n            self._stopFade(sound._id);\n          }\n\n          if (self._webAudio && sound._node) {\n            sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n          } else if (sound._node) {\n            sound._node.muted = Howler._muted ? true : muted;\n          }\n\n          self._emit('mute', sound._id);\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.\n     *   volume() -> Returns the group's volume value.\n     *   volume(id) -> Returns the sound id's current volume.\n     *   volume(vol) -> Sets the volume of all sounds in this Howl group.\n     *   volume(vol, id) -> Sets the volume of passed sound id.\n     * @return {Howl/Number} Returns self or current volume.\n     */\n    volume: function() {\n      var self = this;\n      var args = arguments;\n      var vol, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // Return the value of the groups' volume.\n        return self._volume;\n      } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n        // First check if this is an ID, and if not, assume it is a new volume.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          vol = parseFloat(args[0]);\n        }\n      } else if (args.length >= 2) {\n        vol = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the volume or return the current volume.\n      var sound;\n      if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n        // If the sound hasn't loaded, add it to the load queue to change volume when capable.\n        if (self._state !== 'loaded'|| self._playLock) {\n          self._queue.push({\n            event: 'volume',\n            action: function() {\n              self.volume.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group volume.\n        if (typeof id === 'undefined') {\n          self._volume = vol;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            sound._volume = vol;\n\n            // Stop currently running fades.\n            if (!args[2]) {\n              self._stopFade(id[i]);\n            }\n\n            if (self._webAudio && sound._node && !sound._muted) {\n              sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n            } else if (sound._node && !sound._muted) {\n              sound._node.volume = vol * Howler.volume();\n            }\n\n            self._emit('volume', sound._id);\n          }\n        }\n      } else {\n        sound = id ? self._soundById(id) : self._sounds[0];\n        return sound ? sound._volume : 0;\n      }\n\n      return self;\n    },\n\n    /**\n     * Fade a currently playing sound between two volumes (if no id is passsed, all sounds will fade).\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id (omit to fade all sounds).\n     * @return {Howl}\n     */\n    fade: function(from, to, len, id) {\n      var self = this;\n\n      // If the sound hasn't loaded, add it to the load queue to fade when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'fade',\n          action: function() {\n            self.fade(from, to, len, id);\n          }\n        });\n\n        return self;\n      }\n\n      // Make sure the to/from/len values are numbers.\n      from = parseFloat(from);\n      to = parseFloat(to);\n      len = parseFloat(len);\n\n      // Set the volume to the start position.\n      self.volume(from, id);\n\n      // Fade the volume of one or all sounds.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        // Get the sound.\n        var sound = self._soundById(ids[i]);\n\n        // Create a linear fade or fall back to timeouts with HTML5 Audio.\n        if (sound) {\n          // Stop the previous fade if no sprite is being used (otherwise, volume handles this).\n          if (!id) {\n            self._stopFade(ids[i]);\n          }\n\n          // If we are using Web Audio, let the native methods do the actual fade.\n          if (self._webAudio && !sound._muted) {\n            var currentTime = Howler.ctx.currentTime;\n            var end = currentTime + (len / 1000);\n            sound._volume = from;\n            sound._node.gain.setValueAtTime(from, currentTime);\n            sound._node.gain.linearRampToValueAtTime(to, end);\n          }\n\n          self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Starts the internal interval to fade a sound.\n     * @param  {Object} sound Reference to sound to fade.\n     * @param  {Number} from The value to fade from (0.0 to 1.0).\n     * @param  {Number} to   The volume to fade to (0.0 to 1.0).\n     * @param  {Number} len  Time in milliseconds to fade.\n     * @param  {Number} id   The sound id to fade.\n     * @param  {Boolean} isGroup   If true, set the volume on the group.\n     */\n    _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n      var self = this;\n      var vol = from;\n      var diff = to - from;\n      var steps = Math.abs(diff / 0.01);\n      var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n      var lastTick = Date.now();\n\n      // Store the value being faded to.\n      sound._fadeTo = to;\n\n      // Update the volume value on each interval tick.\n      sound._interval = setInterval(function() {\n        // Update the volume based on the time since the last tick.\n        var tick = (Date.now() - lastTick) / len;\n        lastTick = Date.now();\n        vol += diff * tick;\n\n        // Make sure the volume is in the right bounds.\n        vol = Math.max(0, vol);\n        vol = Math.min(1, vol);\n\n        // Round to within 2 decimal points.\n        vol = Math.round(vol * 100) / 100;\n\n        // Change the volume.\n        if (self._webAudio) {\n          sound._volume = vol;\n        } else {\n          self.volume(vol, sound._id, true);\n        }\n\n        // Set the group's volume.\n        if (isGroup) {\n          self._volume = vol;\n        }\n\n        // When the fade is complete, stop it and fire event.\n        if ((to < from && vol <= to) || (to > from && vol >= to)) {\n          clearInterval(sound._interval);\n          sound._interval = null;\n          sound._fadeTo = null;\n          self.volume(to, sound._id);\n          self._emit('fade', sound._id);\n        }\n      }, stepLen);\n    },\n\n    /**\n     * Internal method that stops the currently playing fade when\n     * a new fade starts, volume is changed or the sound is stopped.\n     * @param  {Number} id The sound id.\n     * @return {Howl}\n     */\n    _stopFade: function(id) {\n      var self = this;\n      var sound = self._soundById(id);\n\n      if (sound && sound._interval) {\n        if (self._webAudio) {\n          sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n        }\n\n        clearInterval(sound._interval);\n        sound._interval = null;\n        self.volume(sound._fadeTo, id);\n        sound._fadeTo = null;\n        self._emit('fade', id);\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   loop() -> Returns the group's loop value.\n     *   loop(id) -> Returns the sound id's loop value.\n     *   loop(loop) -> Sets the loop value for all sounds in this Howl group.\n     *   loop(loop, id) -> Sets the loop value of passed sound id.\n     * @return {Howl/Boolean} Returns self or current loop value.\n     */\n    loop: function() {\n      var self = this;\n      var args = arguments;\n      var loop, id, sound;\n\n      // Determine the values for loop and id.\n      if (args.length === 0) {\n        // Return the grou's loop value.\n        return self._loop;\n      } else if (args.length === 1) {\n        if (typeof args[0] === 'boolean') {\n          loop = args[0];\n          self._loop = loop;\n        } else {\n          // Return this sound's loop value.\n          sound = self._soundById(parseInt(args[0], 10));\n          return sound ? sound._loop : false;\n        }\n      } else if (args.length === 2) {\n        loop = args[0];\n        id = parseInt(args[1], 10);\n      }\n\n      // If no id is passed, get all ID's to be looped.\n      var ids = self._getSoundIds(id);\n      for (var i=0; i<ids.length; i++) {\n        sound = self._soundById(ids[i]);\n\n        if (sound) {\n          sound._loop = loop;\n          if (self._webAudio && sound._node && sound._node.bufferSource) {\n            sound._node.bufferSource.loop = loop;\n            if (loop) {\n              sound._node.bufferSource.loopStart = sound._start || 0;\n              sound._node.bufferSource.loopEnd = sound._stop;\n            }\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   rate() -> Returns the first sound node's current playback rate.\n     *   rate(id) -> Returns the sound id's current playback rate.\n     *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.\n     *   rate(rate, id) -> Sets the playback rate of passed sound id.\n     * @return {Howl/Number} Returns self or the current playback rate.\n     */\n    rate: function() {\n      var self = this;\n      var args = arguments;\n      var rate, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current rate of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new rate value.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else {\n          rate = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        rate = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // Update the playback rate or return the current value.\n      var sound;\n      if (typeof rate === 'number') {\n        // If the sound hasn't loaded, add it to the load queue to change playback rate when capable.\n        if (self._state !== 'loaded' || self._playLock) {\n          self._queue.push({\n            event: 'rate',\n            action: function() {\n              self.rate.apply(self, args);\n            }\n          });\n\n          return self;\n        }\n\n        // Set the group rate.\n        if (typeof id === 'undefined') {\n          self._rate = rate;\n        }\n\n        // Update one or all volumes.\n        id = self._getSoundIds(id);\n        for (var i=0; i<id.length; i++) {\n          // Get the sound.\n          sound = self._soundById(id[i]);\n\n          if (sound) {\n            // Keep track of our position when the rate changed and update the playback\n            // start position so we can properly adjust the seek position for time elapsed.\n            if (self.playing(id[i])) {\n              sound._rateSeek = self.seek(id[i]);\n              sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n            }\n            sound._rate = rate;\n\n            // Change the playback rate.\n            if (self._webAudio && sound._node && sound._node.bufferSource) {\n              sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n            } else if (sound._node) {\n              sound._node.playbackRate = rate;\n            }\n\n            // Reset the timers.\n            var seek = self.seek(id[i]);\n            var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n\n            // Start a new end timer if sound is already playing.\n            if (self._endTimers[id[i]] || !sound._paused) {\n              self._clearTimer(id[i]);\n              self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n\n            self._emit('rate', sound._id);\n          }\n        }\n      } else {\n        sound = self._soundById(id);\n        return sound ? sound._rate : self._rate;\n      }\n\n      return self;\n    },\n\n    /**\n     * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.\n     *   seek() -> Returns the first sound node's current seek position.\n     *   seek(id) -> Returns the sound id's current seek position.\n     *   seek(seek) -> Sets the seek position of the first sound node.\n     *   seek(seek, id) -> Sets the seek position of passed sound id.\n     * @return {Howl/Number} Returns self or the current seek position.\n     */\n    seek: function() {\n      var self = this;\n      var args = arguments;\n      var seek, id;\n\n      // Determine the values based on arguments.\n      if (args.length === 0) {\n        // We will simply return the current position of the first node.\n        id = self._sounds[0]._id;\n      } else if (args.length === 1) {\n        // First check if this is an ID, and if not, assume it is a new seek position.\n        var ids = self._getSoundIds();\n        var index = ids.indexOf(args[0]);\n        if (index >= 0) {\n          id = parseInt(args[0], 10);\n        } else if (self._sounds.length) {\n          id = self._sounds[0]._id;\n          seek = parseFloat(args[0]);\n        }\n      } else if (args.length === 2) {\n        seek = parseFloat(args[0]);\n        id = parseInt(args[1], 10);\n      }\n\n      // If there is no ID, bail out.\n      if (typeof id === 'undefined') {\n        return self;\n      }\n\n      // If the sound hasn't loaded, add it to the load queue to seek when capable.\n      if (self._state !== 'loaded' || self._playLock) {\n        self._queue.push({\n          event: 'seek',\n          action: function() {\n            self.seek.apply(self, args);\n          }\n        });\n\n        return self;\n      }\n\n      // Get the sound.\n      var sound = self._soundById(id);\n\n      if (sound) {\n        if (typeof seek === 'number' && seek >= 0) {\n          // Pause the sound and update position for restarting playback.\n          var playing = self.playing(id);\n          if (playing) {\n            self.pause(id, true);\n          }\n\n          // Move the position of the track and cancel timer.\n          sound._seek = seek;\n          sound._ended = false;\n          self._clearTimer(id);\n\n          // Update the seek position for HTML5 Audio.\n          if (!self._webAudio && sound._node && !isNaN(sound._node.duration)) {\n            sound._node.currentTime = seek;\n          }\n\n          // Seek and emit when ready.\n          var seekAndEmit = function() {\n            self._emit('seek', id);\n\n            // Restart the playback if the sound was playing.\n            if (playing) {\n              self.play(id, true);\n            }\n          };\n\n          // Wait for the play lock to be unset before emitting (HTML5 Audio).\n          if (playing && !self._webAudio) {\n            var emitSeek = function() {\n              if (!self._playLock) {\n                seekAndEmit();\n              } else {\n                setTimeout(emitSeek, 0);\n              }\n            };\n            setTimeout(emitSeek, 0);\n          } else {\n            seekAndEmit();\n          }\n        } else {\n          if (self._webAudio) {\n            var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n            var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n            return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n          } else {\n            return sound._node.currentTime;\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.\n     * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.\n     * @return {Boolean} True if playing and false if not.\n     */\n    playing: function(id) {\n      var self = this;\n\n      // Check the passed sound ID (if any).\n      if (typeof id === 'number') {\n        var sound = self._soundById(id);\n        return sound ? !sound._paused : false;\n      }\n\n      // Otherwise, loop through all sounds and check if any are playing.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (!self._sounds[i]._paused) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * Get the duration of this sound. Passing a sound id will return the sprite duration.\n     * @param  {Number} id The sound id to check. If none is passed, return full source duration.\n     * @return {Number} Audio duration in seconds.\n     */\n    duration: function(id) {\n      var self = this;\n      var duration = self._duration;\n\n      // If we pass an ID, get the sound and return the sprite length.\n      var sound = self._soundById(id);\n      if (sound) {\n        duration = self._sprite[sound._sprite][1] / 1000;\n      }\n\n      return duration;\n    },\n\n    /**\n     * Returns the current loaded state of this Howl.\n     * @return {String} 'unloaded', 'loading', 'loaded'\n     */\n    state: function() {\n      return this._state;\n    },\n\n    /**\n     * Unload and destroy the current Howl object.\n     * This will immediately stop all sound instances attached to this group.\n     */\n    unload: function() {\n      var self = this;\n\n      // Stop playing any active sounds.\n      var sounds = self._sounds;\n      for (var i=0; i<sounds.length; i++) {\n        // Stop the sound if it is currently playing.\n        if (!sounds[i]._paused) {\n          self.stop(sounds[i]._id);\n        }\n\n        // Remove the source or disconnect.\n        if (!self._webAudio) {\n          // Set the source to 0-second silence to stop any downloading (except in IE).\n          var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n          if (!checkIE) {\n            sounds[i]._node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n          }\n\n          // Remove any event listeners.\n          sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n          sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n\n          // Release the Audio object back to the pool.\n          Howler._releaseHtml5Audio(sounds[i]._node);\n        }\n\n        // Empty out all of the nodes.\n        delete sounds[i]._node;\n\n        // Make sure all timers are cleared out.\n        self._clearTimer(sounds[i]._id);\n      }\n\n      // Remove the references in the global Howler object.\n      var index = Howler._howls.indexOf(self);\n      if (index >= 0) {\n        Howler._howls.splice(index, 1);\n      }\n\n      // Delete this sound from the cache (if no other Howl is using it).\n      var remCache = true;\n      for (i=0; i<Howler._howls.length; i++) {\n        if (Howler._howls[i]._src === self._src || self._src.indexOf(Howler._howls[i]._src) >= 0) {\n          remCache = false;\n          break;\n        }\n      }\n\n      if (cache && remCache) {\n        delete cache[self._src];\n      }\n\n      // Clear global errors.\n      Howler.noAudio = false;\n\n      // Clear out `self`.\n      self._state = 'unloaded';\n      self._sounds = [];\n      self = null;\n\n      return null;\n    },\n\n    /**\n     * Listen to a custom event.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @param  {Number}   once  (INTERNAL) Marks event to fire only once.\n     * @return {Howl}\n     */\n    on: function(event, fn, id, once) {\n      var self = this;\n      var events = self['_on' + event];\n\n      if (typeof fn === 'function') {\n        events.push(once ? {id: id, fn: fn, once: once} : {id: id, fn: fn});\n      }\n\n      return self;\n    },\n\n    /**\n     * Remove a custom event. Call without parameters to remove all events.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to remove. Leave empty to remove all.\n     * @param  {Number}   id    (optional) Only remove events for this sound.\n     * @return {Howl}\n     */\n    off: function(event, fn, id) {\n      var self = this;\n      var events = self['_on' + event];\n      var i = 0;\n\n      // Allow passing just an event and ID.\n      if (typeof fn === 'number') {\n        id = fn;\n        fn = null;\n      }\n\n      if (fn || id) {\n        // Loop through event store and remove the passed function.\n        for (i=0; i<events.length; i++) {\n          var isId = (id === events[i].id);\n          if (fn === events[i].fn && isId || !fn && isId) {\n            events.splice(i, 1);\n            break;\n          }\n        }\n      } else if (event) {\n        // Clear out all events of this type.\n        self['_on' + event] = [];\n      } else {\n        // Clear out all events of every type.\n        var keys = Object.keys(self);\n        for (i=0; i<keys.length; i++) {\n          if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n            self[keys[i]] = [];\n          }\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Listen to a custom event and remove it once fired.\n     * @param  {String}   event Event name.\n     * @param  {Function} fn    Listener to call.\n     * @param  {Number}   id    (optional) Only listen to events for this sound.\n     * @return {Howl}\n     */\n    once: function(event, fn, id) {\n      var self = this;\n\n      // Setup the event listener.\n      self.on(event, fn, id, 1);\n\n      return self;\n    },\n\n    /**\n     * Emit all events of a specific type and pass the sound id.\n     * @param  {String} event Event name.\n     * @param  {Number} id    Sound ID.\n     * @param  {Number} msg   Message to go with event.\n     * @return {Howl}\n     */\n    _emit: function(event, id, msg) {\n      var self = this;\n      var events = self['_on' + event];\n\n      // Loop through event store and fire all functions.\n      for (var i=events.length-1; i>=0; i--) {\n        // Only fire the listener if the correct ID is used.\n        if (!events[i].id || events[i].id === id || event === 'load') {\n          setTimeout(function(fn) {\n            fn.call(this, id, msg);\n          }.bind(self, events[i].fn), 0);\n\n          // If this event was setup with `once`, remove it.\n          if (events[i].once) {\n            self.off(event, events[i].fn, events[i].id);\n          }\n        }\n      }\n\n      // Pass the event type into load queue so that it can continue stepping.\n      self._loadQueue(event);\n\n      return self;\n    },\n\n    /**\n     * Queue of actions initiated before the sound has loaded.\n     * These will be called in sequence, with the next only firing\n     * after the previous has finished executing (even if async like play).\n     * @return {Howl}\n     */\n    _loadQueue: function(event) {\n      var self = this;\n\n      if (self._queue.length > 0) {\n        var task = self._queue[0];\n\n        // Remove this task if a matching event was passed.\n        if (task.event === event) {\n          self._queue.shift();\n          self._loadQueue();\n        }\n\n        // Run the task if no event type is passed.\n        if (!event) {\n          task.action();\n        }\n      }\n\n      return self;\n    },\n\n    /**\n     * Fired when playback ends at the end of the duration.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _ended: function(sound) {\n      var self = this;\n      var sprite = sound._sprite;\n\n      // If we are using IE and there was network latency we may be clipping\n      // audio before it completes playing. Lets check the node to make sure it\n      // believes it has completed, before ending the playback.\n      if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n        setTimeout(self._ended.bind(self, sound), 100);\n        return self;\n      }\n\n      // Should this sound loop?\n      var loop = !!(sound._loop || self._sprite[sprite][2]);\n\n      // Fire the ended event.\n      self._emit('end', sound._id);\n\n      // Restart the playback for HTML5 Audio loop.\n      if (!self._webAudio && loop) {\n        self.stop(sound._id, true).play(sound._id);\n      }\n\n      // Restart this timer if on a Web Audio loop.\n      if (self._webAudio && loop) {\n        self._emit('play', sound._id);\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        sound._playStart = Howler.ctx.currentTime;\n\n        var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n      }\n\n      // Mark the node as paused.\n      if (self._webAudio && !loop) {\n        sound._paused = true;\n        sound._ended = true;\n        sound._seek = sound._start || 0;\n        sound._rateSeek = 0;\n        self._clearTimer(sound._id);\n\n        // Clean up the buffer source.\n        self._cleanBuffer(sound._node);\n\n        // Attempt to auto-suspend AudioContext if no sounds are still playing.\n        Howler._autoSuspend();\n      }\n\n      // When using a sprite, end the track.\n      if (!self._webAudio && !loop) {\n        self.stop(sound._id, true);\n      }\n\n      return self;\n    },\n\n    /**\n     * Clear the end timer for a sound playback.\n     * @param  {Number} id The sound ID.\n     * @return {Howl}\n     */\n    _clearTimer: function(id) {\n      var self = this;\n\n      if (self._endTimers[id]) {\n        // Clear the timeout or remove the ended listener.\n        if (typeof self._endTimers[id] !== 'function') {\n          clearTimeout(self._endTimers[id]);\n        } else {\n          var sound = self._soundById(id);\n          if (sound && sound._node) {\n            sound._node.removeEventListener('ended', self._endTimers[id], false);\n          }\n        }\n\n        delete self._endTimers[id];\n      }\n\n      return self;\n    },\n\n    /**\n     * Return the sound identified by this ID, or return null.\n     * @param  {Number} id Sound ID\n     * @return {Object}    Sound object or null.\n     */\n    _soundById: function(id) {\n      var self = this;\n\n      // Loop through all sounds and find the one with this ID.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (id === self._sounds[i]._id) {\n          return self._sounds[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * Return an inactive sound from the pool or create a new one.\n     * @return {Sound} Sound playback object.\n     */\n    _inactiveSound: function() {\n      var self = this;\n\n      self._drain();\n\n      // Find the first inactive node to recycle.\n      for (var i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          return self._sounds[i].reset();\n        }\n      }\n\n      // If no inactive node was found, create a new one.\n      return new Sound(self);\n    },\n\n    /**\n     * Drain excess inactive sounds from the pool.\n     */\n    _drain: function() {\n      var self = this;\n      var limit = self._pool;\n      var cnt = 0;\n      var i = 0;\n\n      // If there are less sounds than the max pool size, we are done.\n      if (self._sounds.length < limit) {\n        return;\n      }\n\n      // Count the number of inactive sounds.\n      for (i=0; i<self._sounds.length; i++) {\n        if (self._sounds[i]._ended) {\n          cnt++;\n        }\n      }\n\n      // Remove excess inactive sounds, going in reverse order.\n      for (i=self._sounds.length - 1; i>=0; i--) {\n        if (cnt <= limit) {\n          return;\n        }\n\n        if (self._sounds[i]._ended) {\n          // Disconnect the audio source when using Web Audio.\n          if (self._webAudio && self._sounds[i]._node) {\n            self._sounds[i]._node.disconnect(0);\n          }\n\n          // Remove sounds until we have the pool size.\n          self._sounds.splice(i, 1);\n          cnt--;\n        }\n      }\n    },\n\n    /**\n     * Get all ID's from the sounds pool.\n     * @param  {Number} id Only return one ID if one is passed.\n     * @return {Array}    Array of IDs.\n     */\n    _getSoundIds: function(id) {\n      var self = this;\n\n      if (typeof id === 'undefined') {\n        var ids = [];\n        for (var i=0; i<self._sounds.length; i++) {\n          ids.push(self._sounds[i]._id);\n        }\n\n        return ids;\n      } else {\n        return [id];\n      }\n    },\n\n    /**\n     * Load the sound back into the buffer source.\n     * @param  {Sound} sound The sound object to work with.\n     * @return {Howl}\n     */\n    _refreshBuffer: function(sound) {\n      var self = this;\n\n      // Setup the buffer source for playback.\n      sound._node.bufferSource = Howler.ctx.createBufferSource();\n      sound._node.bufferSource.buffer = cache[self._src];\n\n      // Connect to the correct node.\n      if (sound._panner) {\n        sound._node.bufferSource.connect(sound._panner);\n      } else {\n        sound._node.bufferSource.connect(sound._node);\n      }\n\n      // Setup looping and playback rate.\n      sound._node.bufferSource.loop = sound._loop;\n      if (sound._loop) {\n        sound._node.bufferSource.loopStart = sound._start || 0;\n        sound._node.bufferSource.loopEnd = sound._stop || 0;\n      }\n      sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n\n      return self;\n    },\n\n    /**\n     * Prevent memory leaks by cleaning up the buffer source after playback.\n     * @param  {Object} node Sound's audio node containing the buffer source.\n     * @return {Howl}\n     */\n    _cleanBuffer: function(node) {\n      var self = this;\n      var isIOS = Howler._navigator && Howler._navigator.vendor.indexOf('Apple') >= 0;\n\n      if (Howler._scratchBuffer && node.bufferSource) {\n        node.bufferSource.onended = null;\n        node.bufferSource.disconnect(0);\n        if (isIOS) {\n          try { node.bufferSource.buffer = Howler._scratchBuffer; } catch(e) {}\n        }\n      }\n      node.bufferSource = null;\n\n      return self;\n    }\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Setup the sound object, which each node attached to a Howl group is contained in.\n   * @param {Object} howl The Howl parent group.\n   */\n  var Sound = function(howl) {\n    this._parent = howl;\n    this.init();\n  };\n  Sound.prototype = {\n    /**\n     * Initialize a new Sound object.\n     * @return {Sound}\n     */\n    init: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup the default parameters.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a unique ID for this sound.\n      self._id = ++Howler._counter;\n\n      // Add itself to the parent's pool.\n      parent._sounds.push(self);\n\n      // Create the new node.\n      self.create();\n\n      return self;\n    },\n\n    /**\n     * Create and setup a new sound object, whether HTML5 Audio or Web Audio.\n     * @return {Sound}\n     */\n    create: function() {\n      var self = this;\n      var parent = self._parent;\n      var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n\n      if (parent._webAudio) {\n        // Create the gain node for controlling volume (the source will connect to this).\n        self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n        self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n        self._node.paused = true;\n        self._node.connect(Howler.masterGain);\n      } else {\n        // Get an unlocked Audio object from the pool.\n        self._node = Howler._obtainHtml5Audio();\n\n        // Listen for errors (http://dev.w3.org/html5/spec-author-view/spec.html#mediaerror).\n        self._errorFn = self._errorListener.bind(self);\n        self._node.addEventListener('error', self._errorFn, false);\n\n        // Listen for 'canplaythrough' event to let us know the sound is ready.\n        self._loadFn = self._loadListener.bind(self);\n        self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n\n        // Setup the new audio node.\n        self._node.src = parent._src;\n        self._node.preload = 'auto';\n        self._node.volume = volume * Howler.volume();\n\n        // Begin loading the source.\n        self._node.load();\n      }\n\n      return self;\n    },\n\n    /**\n     * Reset the parameters of this sound to the original state (for recycle).\n     * @return {Sound}\n     */\n    reset: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all of the parameters of this sound.\n      self._muted = parent._muted;\n      self._loop = parent._loop;\n      self._volume = parent._volume;\n      self._rate = parent._rate;\n      self._seek = 0;\n      self._rateSeek = 0;\n      self._paused = true;\n      self._ended = true;\n      self._sprite = '__default';\n\n      // Generate a new ID so that it isn't confused with the previous sound.\n      self._id = ++Howler._counter;\n\n      return self;\n    },\n\n    /**\n     * HTML5 Audio error listener callback.\n     */\n    _errorListener: function() {\n      var self = this;\n\n      // Fire an error event and pass back the code.\n      self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n\n      // Clear the event listener.\n      self._node.removeEventListener('error', self._errorFn, false);\n    },\n\n    /**\n     * HTML5 Audio canplaythrough listener callback.\n     */\n    _loadListener: function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Round up the duration to account for the lower precision in HTML5 Audio.\n      parent._duration = Math.ceil(self._node.duration * 10) / 10;\n\n      // Setup a sprite if none is defined.\n      if (Object.keys(parent._sprite).length === 0) {\n        parent._sprite = {__default: [0, parent._duration * 1000]};\n      }\n\n      if (parent._state !== 'loaded') {\n        parent._state = 'loaded';\n        parent._emit('load');\n        parent._loadQueue();\n      }\n\n      // Clear the event listener.\n      self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n    }\n  };\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  var cache = {};\n\n  /**\n   * Buffer a sound from URL, Data URI or cache and decode to audio source (Web Audio API).\n   * @param  {Howl} self\n   */\n  var loadBuffer = function(self) {\n    var url = self._src;\n\n    // Check if the buffer has already been cached and use it instead.\n    if (cache[url]) {\n      // Set the duration from the cache.\n      self._duration = cache[url].duration;\n\n      // Load the sound into this Howl.\n      loadSound(self);\n\n      return;\n    }\n\n    if (/^data:[^;]+;base64,/.test(url)) {\n      // Decode the base64 data URI without XHR, since some browsers don't support it.\n      var data = atob(url.split(',')[1]);\n      var dataView = new Uint8Array(data.length);\n      for (var i=0; i<data.length; ++i) {\n        dataView[i] = data.charCodeAt(i);\n      }\n\n      decodeAudioData(dataView.buffer, self);\n    } else {\n      // Load the buffer from the URL.\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.withCredentials = self._xhrWithCredentials;\n      xhr.responseType = 'arraybuffer';\n      xhr.onload = function() {\n        // Make sure we get a successful response back.\n        var code = (xhr.status + '')[0];\n        if (code !== '0' && code !== '2' && code !== '3') {\n          self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n          return;\n        }\n\n        decodeAudioData(xhr.response, self);\n      };\n      xhr.onerror = function() {\n        // If there is an error, switch to HTML5 Audio.\n        if (self._webAudio) {\n          self._html5 = true;\n          self._webAudio = false;\n          self._sounds = [];\n          delete cache[url];\n          self.load();\n        }\n      };\n      safeXhrSend(xhr);\n    }\n  };\n\n  /**\n   * Send the XHR request wrapped in a try/catch.\n   * @param  {Object} xhr XHR to send.\n   */\n  var safeXhrSend = function(xhr) {\n    try {\n      xhr.send();\n    } catch (e) {\n      xhr.onerror();\n    }\n  };\n\n  /**\n   * Decode audio data from an array buffer.\n   * @param  {ArrayBuffer} arraybuffer The audio data.\n   * @param  {Howl}        self\n   */\n  var decodeAudioData = function(arraybuffer, self) {\n    // Fire a load error if something broke.\n    var error = function() {\n      self._emit('loaderror', null, 'Decoding audio data failed.');\n    };\n\n    // Load the sound on success.\n    var success = function(buffer) {\n      if (buffer && self._sounds.length > 0) {\n        cache[self._src] = buffer;\n        loadSound(self, buffer);\n      } else {\n        error();\n      }\n    };\n\n    // Decode the buffer into an audio source.\n    if (typeof Promise !== 'undefined' && Howler.ctx.decodeAudioData.length === 1) {\n      Howler.ctx.decodeAudioData(arraybuffer).then(success).catch(error);\n    } else {\n      Howler.ctx.decodeAudioData(arraybuffer, success, error);\n    }\n  }\n\n  /**\n   * Sound is now loaded, so finish setting everything up and fire the loaded event.\n   * @param  {Howl} self\n   * @param  {Object} buffer The decoded buffer sound source.\n   */\n  var loadSound = function(self, buffer) {\n    // Set the duration.\n    if (buffer && !self._duration) {\n      self._duration = buffer.duration;\n    }\n\n    // Setup a sprite if none is defined.\n    if (Object.keys(self._sprite).length === 0) {\n      self._sprite = {__default: [0, self._duration * 1000]};\n    }\n\n    // Fire the loaded event.\n    if (self._state !== 'loaded') {\n      self._state = 'loaded';\n      self._emit('load');\n      self._loadQueue();\n    }\n  };\n\n  /**\n   * Setup the audio context when available, or switch to HTML5 Audio mode.\n   */\n  var setupAudioContext = function() {\n    // If we have already detected that Web Audio isn't supported, don't run this step again.\n    if (!Howler.usingWebAudio) {\n      return;\n    }\n\n    // Check if we are using Web Audio and setup the AudioContext if we are.\n    try {\n      if (typeof AudioContext !== 'undefined') {\n        Howler.ctx = new AudioContext();\n      } else if (typeof webkitAudioContext !== 'undefined') {\n        Howler.ctx = new webkitAudioContext();\n      } else {\n        Howler.usingWebAudio = false;\n      }\n    } catch(e) {\n      Howler.usingWebAudio = false;\n    }\n\n    // If the audio context creation still failed, set using web audio to false.\n    if (!Howler.ctx) {\n      Howler.usingWebAudio = false;\n    }\n\n    // Check if a webview is being used on iOS8 or earlier (rather than the browser).\n    // If it is, disable Web Audio as it causes crashing.\n    var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n    var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version = appVersion ? parseInt(appVersion[1], 10) : null;\n    if (iOS && version && version < 9) {\n      var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n      if (Howler._navigator && Howler._navigator.standalone && !safari || Howler._navigator && !Howler._navigator.standalone && !safari) {\n        Howler.usingWebAudio = false;\n      }\n    }\n\n    // Create and expose the master GainNode when using Web Audio (useful for plugins or advanced usage).\n    if (Howler.usingWebAudio) {\n      Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n      Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : 1, Howler.ctx.currentTime);\n      Howler.masterGain.connect(Howler.ctx.destination);\n    }\n\n    // Re-run the setup on Howler.\n    Howler._setup();\n  };\n\n  // Add support for AMD (Asynchronous Module Definition) libraries such as require.js.\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return {\n        Howler: Howler,\n        Howl: Howl\n      };\n    });\n  }\n\n  // Add support for CommonJS libraries such as browserify.\n  if (typeof exports !== 'undefined') {\n    exports.Howler = Howler;\n    exports.Howl = Howl;\n  }\n\n  // Define globally in case AMD is not available or unused.\n  if (typeof window !== 'undefined') {\n    window.HowlerGlobal = HowlerGlobal;\n    window.Howler = Howler;\n    window.Howl = Howl;\n    window.Sound = Sound;\n  } else if (typeof global !== 'undefined') { // Add to global in Node.js (for testing, etc).\n    global.HowlerGlobal = HowlerGlobal;\n    global.Howler = Howler;\n    global.Howl = Howl;\n    global.Sound = Sound;\n  }\n})();\n\n\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.1.1\n *  howlerjs.com\n *\n *  (c) 2013-2018, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\n\n(function() {\n\n  'use strict';\n\n  // Setup default properties.\n  HowlerGlobal.prototype._pos = [0, 0, 0];\n  HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];\n\n  /** Global Methods **/\n  /***************************************************************************/\n\n  /**\n   * Helper method to update the stereo panning position of all current Howls.\n   * Future Howls will not use this value unless explicitly set.\n   * @param  {Number} pan A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @return {Howler/Number}     Self or current stereo panning value.\n   */\n  HowlerGlobal.prototype.stereo = function(pan) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Loop through all Howls and update their stereo panning.\n    for (var i=self._howls.length-1; i>=0; i--) {\n      self._howls[i].stereo(pan);\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the position of the listener in 3D cartesian space. Sounds using\n   * 3D position will be relative to the listener's position.\n   * @param  {Number} x The x-position of the listener.\n   * @param  {Number} y The y-position of the listener.\n   * @param  {Number} z The z-position of the listener.\n   * @return {Howler/Array}   Self or current listener position.\n   */\n  HowlerGlobal.prototype.pos = function(x, y, z) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._pos[1] : y;\n    z = (typeof z !== 'number') ? self._pos[2] : z;\n\n    if (typeof x === 'number') {\n      self._pos = [x, y, z];\n\n      if (typeof self.ctx.listener.positionX !== 'undefined') {\n        self.ctx.listener.positionX.setTargetAtTime(self._pos[0], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionY.setTargetAtTime(self._pos[1], Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.positionZ.setTargetAtTime(self._pos[2], Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setPosition(self._pos[0], self._pos[1], self._pos[2]);\n      }\n    } else {\n      return self._pos;\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the listener is pointing in the 3D cartesian space.\n   * A front and up vector must be provided. The front is the direction the\n   * face of the listener is pointing, and up is the direction the top of the\n   * listener is pointing. Thus, these values are expected to be at right angles\n   * from each other.\n   * @param  {Number} x   The x-orientation of the listener.\n   * @param  {Number} y   The y-orientation of the listener.\n   * @param  {Number} z   The z-orientation of the listener.\n   * @param  {Number} xUp The x-orientation of the top of the listener.\n   * @param  {Number} yUp The y-orientation of the top of the listener.\n   * @param  {Number} zUp The z-orientation of the top of the listener.\n   * @return {Howler/Array}     Returns self or the current orientation vectors.\n   */\n  HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self.ctx || !self.ctx.listener) {\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    var or = self._orientation;\n    y = (typeof y !== 'number') ? or[1] : y;\n    z = (typeof z !== 'number') ? or[2] : z;\n    xUp = (typeof xUp !== 'number') ? or[3] : xUp;\n    yUp = (typeof yUp !== 'number') ? or[4] : yUp;\n    zUp = (typeof zUp !== 'number') ? or[5] : zUp;\n\n    if (typeof x === 'number') {\n      self._orientation = [x, y, z, xUp, yUp, zUp];\n\n      if (typeof self.ctx.listener.forwardX !== 'undefined') {\n        self.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);\n        self.ctx.listener.upZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);\n      } else {\n        self.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);\n      }\n    } else {\n      return or;\n    }\n\n    return self;\n  };\n\n  /** Group Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core init.\n   * @param  {Function} _super Core init method.\n   * @return {Howl}\n   */\n  Howl.prototype.init = (function(_super) {\n    return function(o) {\n      var self = this;\n\n      // Setup user-defined default properties.\n      self._orientation = o.orientation || [1, 0, 0];\n      self._stereo = o.stereo || null;\n      self._pos = o.pos || null;\n      self._pannerAttr = {\n        coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : 360,\n        coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : 360,\n        coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : 0,\n        distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : 'inverse',\n        maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : 10000,\n        panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : 'HRTF',\n        refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : 1,\n        rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : 1\n      };\n\n      // Setup event listeners.\n      self._onstereo = o.onstereo ? [{fn: o.onstereo}] : [];\n      self._onpos = o.onpos ? [{fn: o.onpos}] : [];\n      self._onorientation = o.onorientation ? [{fn: o.onorientation}] : [];\n\n      // Complete initilization with howler.js core's init function.\n      return _super.call(this, o);\n    };\n  })(Howl.prototype.init);\n\n  /**\n   * Get/set the stereo panning of the audio source for this sound or all in the group.\n   * @param  {Number} pan  A value of -1.0 is all the way left and 1.0 is all the way right.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Number}    Returns self or the current stereo panning value.\n   */\n  Howl.prototype.stereo = function(pan, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change stereo pan when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'stereo',\n        action: function() {\n          self.stereo(pan, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Check for PannerStereoNode support and fallback to PannerNode if it doesn't exist.\n    var pannerType = (typeof Howler.ctx.createStereoPanner === 'undefined') ? 'spatial' : 'stereo';\n\n    // Setup the group's stereo panning if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's stereo panning if no parameters are passed.\n      if (typeof pan === 'number') {\n        self._stereo = pan;\n        self._pos = [pan, 0, 0];\n      } else {\n        return self._stereo;\n      }\n    }\n\n    // Change the streo panning of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof pan === 'number') {\n          sound._stereo = pan;\n          sound._pos = [pan, 0, 0];\n\n          if (sound._node) {\n            // If we are falling back, make sure the panningModel is equalpower.\n            sound._pannerAttr.panningModel = 'equalpower';\n\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || !sound._panner.pan) {\n              setupPanner(sound, pannerType);\n            }\n\n            if (pannerType === 'spatial') {\n              if (typeof sound._panner.positionX !== 'undefined') {\n                sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);\n                sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);\n                sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);\n              } else {\n                sound._panner.setPosition(pan, 0, 0);\n              }\n            } else {\n              sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);\n            }\n          }\n\n          self._emit('stereo', sound._id);\n        } else {\n          return sound._stereo;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the 3D spatial position of the audio source for this sound or group relative to the global listener.\n   * @param  {Number} x  The x-position of the audio source.\n   * @param  {Number} y  The y-position of the audio source.\n   * @param  {Number} z  The z-position of the audio source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial position: [x, y, z].\n   */\n  Howl.prototype.pos = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change position when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'pos',\n        action: function() {\n          self.pos(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? 0 : y;\n    z = (typeof z !== 'number') ? -0.5 : z;\n\n    // Setup the group's spatial position if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial position if no parameters are passed.\n      if (typeof x === 'number') {\n        self._pos = [x, y, z];\n      } else {\n        return self._pos;\n      }\n    }\n\n    // Change the spatial position of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._pos = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner || sound._panner.pan) {\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.positionX !== 'undefined') {\n              sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setPosition(x, y, z);\n            }\n          }\n\n          self._emit('pos', sound._id);\n        } else {\n          return sound._pos;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the direction the audio source is pointing in the 3D cartesian coordinate\n   * space. Depending on how direction the sound is, based on the `cone` attributes,\n   * a sound pointing away from the listener can be quiet or silent.\n   * @param  {Number} x  The x-orientation of the source.\n   * @param  {Number} y  The y-orientation of the source.\n   * @param  {Number} z  The z-orientation of the source.\n   * @param  {Number} id (optional) The sound ID. If none is passed, all in group will be updated.\n   * @return {Howl/Array}    Returns self or the current 3D spatial orientation: [x, y, z].\n   */\n  Howl.prototype.orientation = function(x, y, z, id) {\n    var self = this;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // If the sound hasn't loaded, add it to the load queue to change orientation when capable.\n    if (self._state !== 'loaded') {\n      self._queue.push({\n        event: 'orientation',\n        action: function() {\n          self.orientation(x, y, z, id);\n        }\n      });\n\n      return self;\n    }\n\n    // Set the defaults for optional 'y' & 'z'.\n    y = (typeof y !== 'number') ? self._orientation[1] : y;\n    z = (typeof z !== 'number') ? self._orientation[2] : z;\n\n    // Setup the group's spatial orientation if no ID is passed.\n    if (typeof id === 'undefined') {\n      // Return the group's spatial orientation if no parameters are passed.\n      if (typeof x === 'number') {\n        self._orientation = [x, y, z];\n      } else {\n        return self._orientation;\n      }\n    }\n\n    // Change the spatial orientation of one or all sounds in group.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      // Get the sound.\n      var sound = self._soundById(ids[i]);\n\n      if (sound) {\n        if (typeof x === 'number') {\n          sound._orientation = [x, y, z];\n\n          if (sound._node) {\n            // Check if there is a panner setup and create a new one if not.\n            if (!sound._panner) {\n              // Make sure we have a position to setup the node with.\n              if (!sound._pos) {\n                sound._pos = self._pos || [0, 0, -0.5];\n              }\n\n              setupPanner(sound, 'spatial');\n            }\n\n            if (typeof sound._panner.orientationX !== 'undefined') {\n              sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);\n              sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);\n              sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);\n            } else {\n              sound._panner.setOrientation(x, y, z);\n            }\n          }\n\n          self._emit('orientation', sound._id);\n        } else {\n          return sound._orientation;\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /**\n   * Get/set the panner node's attributes for a sound or group of sounds.\n   * This method can optionall take 0, 1 or 2 arguments.\n   *   pannerAttr() -> Returns the group's values.\n   *   pannerAttr(id) -> Returns the sound id's values.\n   *   pannerAttr(o) -> Set's the values of all sounds in this Howl group.\n   *   pannerAttr(o, id) -> Set's the values of passed sound id.\n   *\n   *   Attributes:\n   *     coneInnerAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      inside of which there will be no volume reduction.\n   *     coneOuterAngle - (360 by default) A parameter for directional audio sources, this is an angle, in degrees,\n   *                      outside of which the volume will be reduced to a constant value of `coneOuterGain`.\n   *     coneOuterGain - (0 by default) A parameter for directional audio sources, this is the gain outside of the\n   *                     `coneOuterAngle`. It is a linear value in the range `[0, 1]`.\n   *     distanceModel - ('inverse' by default) Determines algorithm used to reduce volume as audio moves away from\n   *                     listener. Can be `linear`, `inverse` or `exponential.\n   *     maxDistance - (10000 by default) The maximum distance between source and listener, after which the volume\n   *                   will not be reduced any further.\n   *     refDistance - (1 by default) A reference distance for reducing volume as source moves further from the listener.\n   *                   This is simply a variable of the distance model and has a different effect depending on which model\n   *                   is used and the scale of your coordinates. Generally, volume will be equal to 1 at this distance.\n   *     rolloffFactor - (1 by default) How quickly the volume reduces as source moves from listener. This is simply a\n   *                     variable of the distance model and can be in the range of `[0, 1]` with `linear` and `[0, â]`\n   *                     with `inverse` and `exponential`.\n   *     panningModel - ('HRTF' by default) Determines which spatialization algorithm is used to position audio.\n   *                     Can be `HRTF` or `equalpower`.\n   *\n   * @return {Howl/Object} Returns self or current panner attributes.\n   */\n  Howl.prototype.pannerAttr = function() {\n    var self = this;\n    var args = arguments;\n    var o, id, sound;\n\n    // Stop right here if not using Web Audio.\n    if (!self._webAudio) {\n      return self;\n    }\n\n    // Determine the values based on arguments.\n    if (args.length === 0) {\n      // Return the group's panner attribute values.\n      return self._pannerAttr;\n    } else if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        o = args[0];\n\n        // Set the grou's panner attribute values.\n        if (typeof id === 'undefined') {\n          if (!o.pannerAttr) {\n            o.pannerAttr = {\n              coneInnerAngle: o.coneInnerAngle,\n              coneOuterAngle: o.coneOuterAngle,\n              coneOuterGain: o.coneOuterGain,\n              distanceModel: o.distanceModel,\n              maxDistance: o.maxDistance,\n              refDistance: o.refDistance,\n              rolloffFactor: o.rolloffFactor,\n              panningModel: o.panningModel\n            };\n          }\n\n          self._pannerAttr = {\n            coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== 'undefined' ? o.pannerAttr.coneInnerAngle : self._coneInnerAngle,\n            coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== 'undefined' ? o.pannerAttr.coneOuterAngle : self._coneOuterAngle,\n            coneOuterGain: typeof o.pannerAttr.coneOuterGain !== 'undefined' ? o.pannerAttr.coneOuterGain : self._coneOuterGain,\n            distanceModel: typeof o.pannerAttr.distanceModel !== 'undefined' ? o.pannerAttr.distanceModel : self._distanceModel,\n            maxDistance: typeof o.pannerAttr.maxDistance !== 'undefined' ? o.pannerAttr.maxDistance : self._maxDistance,\n            refDistance: typeof o.pannerAttr.refDistance !== 'undefined' ? o.pannerAttr.refDistance : self._refDistance,\n            rolloffFactor: typeof o.pannerAttr.rolloffFactor !== 'undefined' ? o.pannerAttr.rolloffFactor : self._rolloffFactor,\n            panningModel: typeof o.pannerAttr.panningModel !== 'undefined' ? o.pannerAttr.panningModel : self._panningModel\n          };\n        }\n      } else {\n        // Return this sound's panner attribute values.\n        sound = self._soundById(parseInt(args[0], 10));\n        return sound ? sound._pannerAttr : self._pannerAttr;\n      }\n    } else if (args.length === 2) {\n      o = args[0];\n      id = parseInt(args[1], 10);\n    }\n\n    // Update the values of the specified sounds.\n    var ids = self._getSoundIds(id);\n    for (var i=0; i<ids.length; i++) {\n      sound = self._soundById(ids[i]);\n\n      if (sound) {\n        // Merge the new values into the sound.\n        var pa = sound._pannerAttr;\n        pa = {\n          coneInnerAngle: typeof o.coneInnerAngle !== 'undefined' ? o.coneInnerAngle : pa.coneInnerAngle,\n          coneOuterAngle: typeof o.coneOuterAngle !== 'undefined' ? o.coneOuterAngle : pa.coneOuterAngle,\n          coneOuterGain: typeof o.coneOuterGain !== 'undefined' ? o.coneOuterGain : pa.coneOuterGain,\n          distanceModel: typeof o.distanceModel !== 'undefined' ? o.distanceModel : pa.distanceModel,\n          maxDistance: typeof o.maxDistance !== 'undefined' ? o.maxDistance : pa.maxDistance,\n          refDistance: typeof o.refDistance !== 'undefined' ? o.refDistance : pa.refDistance,\n          rolloffFactor: typeof o.rolloffFactor !== 'undefined' ? o.rolloffFactor : pa.rolloffFactor,\n          panningModel: typeof o.panningModel !== 'undefined' ? o.panningModel : pa.panningModel\n        };\n\n        // Update the panner values or create a new panner if none exists.\n        var panner = sound._panner;\n        if (panner) {\n          panner.coneInnerAngle = pa.coneInnerAngle;\n          panner.coneOuterAngle = pa.coneOuterAngle;\n          panner.coneOuterGain = pa.coneOuterGain;\n          panner.distanceModel = pa.distanceModel;\n          panner.maxDistance = pa.maxDistance;\n          panner.refDistance = pa.refDistance;\n          panner.rolloffFactor = pa.rolloffFactor;\n          panner.panningModel = pa.panningModel;\n        } else {\n          // Make sure we have a position to setup the node with.\n          if (!sound._pos) {\n            sound._pos = self._pos || [0, 0, -0.5];\n          }\n\n          // Create a new panner node.\n          setupPanner(sound, 'spatial');\n        }\n      }\n    }\n\n    return self;\n  };\n\n  /** Single Sound Methods **/\n  /***************************************************************************/\n\n  /**\n   * Add new properties to the core Sound init.\n   * @param  {Function} _super Core Sound init method.\n   * @return {Sound}\n   */\n  Sound.prototype.init = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Setup user-defined default properties.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // Complete initilization with howler.js core Sound's init function.\n      _super.call(this);\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      }\n    };\n  })(Sound.prototype.init);\n\n  /**\n   * Override the Sound.reset method to clean up properties from the spatial plugin.\n   * @param  {Function} _super Sound reset method.\n   * @return {Sound}\n   */\n  Sound.prototype.reset = (function(_super) {\n    return function() {\n      var self = this;\n      var parent = self._parent;\n\n      // Reset all spatial plugin properties on this sound.\n      self._orientation = parent._orientation;\n      self._stereo = parent._stereo;\n      self._pos = parent._pos;\n      self._pannerAttr = parent._pannerAttr;\n\n      // If a stereo or position was specified, set it up.\n      if (self._stereo) {\n        parent.stereo(self._stereo);\n      } else if (self._pos) {\n        parent.pos(self._pos[0], self._pos[1], self._pos[2], self._id);\n      } else if (self._panner) {\n        // Disconnect the panner.\n        self._panner.disconnect(0);\n        self._panner = undefined;\n        parent._refreshBuffer(self);\n      }\n\n      // Complete resetting of the sound.\n      return _super.call(this);\n    };\n  })(Sound.prototype.reset);\n\n  /** Helper Methods **/\n  /***************************************************************************/\n\n  /**\n   * Create a new panner node and save it on the sound.\n   * @param  {Sound} sound Specific sound to setup panning on.\n   * @param {String} type Type of panner to create: 'stereo' or 'spatial'.\n   */\n  var setupPanner = function(sound, type) {\n    type = type || 'spatial';\n\n    // Create the new panner node.\n    if (type === 'spatial') {\n      sound._panner = Howler.ctx.createPanner();\n      sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;\n      sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;\n      sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;\n      sound._panner.distanceModel = sound._pannerAttr.distanceModel;\n      sound._panner.maxDistance = sound._pannerAttr.maxDistance;\n      sound._panner.refDistance = sound._pannerAttr.refDistance;\n      sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;\n      sound._panner.panningModel = sound._pannerAttr.panningModel;\n\n      if (typeof sound._panner.positionX !== 'undefined') {\n        sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);\n        sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);\n        sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);\n      }\n\n      if (typeof sound._panner.orientationX !== 'undefined') {\n        sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);\n        sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);\n        sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);\n      } else {\n        sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);\n      }\n    } else {\n      sound._panner = Howler.ctx.createStereoPanner();\n      sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);\n    }\n\n    sound._panner.connect(sound._node);\n\n    // Update the connections.\n    if (!sound._paused) {\n      sound._parent.pause(sound._id, true).play(sound._id, true);\n    }\n  };\n})();\n","// external import\nimport {Howl, Howler} from \"howler\";\n\n(function () {\n    /**\n     * There is no constructor function for me.audio.\n     * @namespace me.audio\n     * @memberOf me\n     */\n    me.audio = (function () {\n        /*\n         * PRIVATE STUFF\n         */\n\n        // hold public stuff in our singleton\n        var api = {};\n\n        // audio channel list\n        var audioTracks = {};\n\n        // current music\n        var current_track_id = null;\n\n        // a retry counter\n        var retry_counter = 0;\n\n        /**\n         * event listener callback on load error\n         * @ignore\n         */\n        function soundLoadError(sound_name, onerror_cb) {\n            // check the retry counter\n            if (retry_counter++ > 3) {\n                // something went wrong\n                var errmsg = \"melonJS: failed loading \" + sound_name;\n                if (me.sys.stopOnAudioError === false) {\n                    // disable audio\n                    me.audio.disable();\n                    // call error callback if defined\n                    if (onerror_cb) {\n                        onerror_cb();\n                    }\n                    // warning\n                    console.log(errmsg + \", disabling audio\");\n                }\n                else {\n                    // throw an exception and stop everything !\n                    throw new Error(errmsg);\n                }\n            // else try loading again !\n            }\n            else {\n                audioTracks[sound_name].load();\n            }\n        }\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * Initialize and configure the audio support.<br>\n         * melonJS supports a wide array of audio codecs that have varying browser support :\n         * <i> (\"mp3\", \"mpeg\", opus\", \"ogg\", \"oga\", \"wav\", \"aac\", \"caf\", \"m4a\", \"mp4\", \"weba\", \"webm\", \"dolby\", \"flac\")</i>.<br>\n         * For a maximum browser coverage the recommendation is to use at least two of them,\n         * typically default to webm and then fallback to mp3 for the best balance of small filesize and high quality,\n         * webm has nearly full browser coverage with a great combination of compression and quality, and mp3 will fallback gracefully for other browsers.\n         * It is important to remember that melonJS selects the first compatible sound based on the list of extensions and given order passed here.\n         * So if you want webm to be used before mp3, you need to put the audio format in that order.\n         * @name init\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} [audioFormat=\"mp3\"] audio format provided\n         * @return {Boolean} Indicates whether audio initialization was successful\n         * @example\n         * // initialize the \"sound engine\", giving \"webm\" as default desired audio format, and \"mp3\" as a fallback\n         * if (!me.audio.init(\"webm,mp3\")) {\n         *     alert(\"Sorry but your browser does not support html 5 audio !\");\n         *     return;\n         * }\n         */\n        api.init = function (audioFormat) {\n            if (!me.initialized) {\n                throw new Error(\"me.audio.init() called before engine initialization.\");\n            }\n            // if no param is given to init we use mp3 by default\n            audioFormat = typeof audioFormat === \"string\" ? audioFormat : \"mp3\";\n            // convert it into an array\n            this.audioFormats = audioFormat.split(\",\");\n\n            return !Howler.noAudio;\n        };\n\n        /**\n         * return true if audio (HTML5 or WebAudio) is supported\n         * @see me.audio#hasAudio\n         * @name hasAudio\n         * @memberOf me.audio\n         * @public\n         * @function\n         */\n        api.hasAudio = function () {\n            return !Howler.noAudio;\n        };\n\n        /**\n         * enable audio output <br>\n         * only useful if audio supported and previously disabled through\n         *\n         * @see me.audio#disable\n         * @name enable\n         * @memberOf me.audio\n         * @public\n         * @function\n         */\n        api.enable = function () {\n            this.unmuteAll();\n        };\n\n        /**\n         * disable audio output\n         *\n         * @name disable\n         * @memberOf me.audio\n         * @public\n         * @function\n         */\n        api.disable = function () {\n            this.muteAll();\n        };\n\n        /**\n         * Load an audio file.<br>\n         * <br>\n         * sound item must contain the following fields :<br>\n         * - name    : name of the sound<br>\n         * - src     : source path<br>\n         * @ignore\n         */\n        api.load = function (sound, html5, onload_cb, onerror_cb) {\n            var urls = [];\n            if (typeof(this.audioFormats) === \"undefined\" || this.audioFormats.length === 0) {\n                throw new Error(\"target audio extension(s) should be set through me.audio.init() before calling the preloader.\");\n            }\n            for (var i = 0; i < this.audioFormats.length; i++) {\n                urls.push(sound.src + sound.name + \".\" + this.audioFormats[i] + me.loader.nocache);\n            }\n            audioTracks[sound.name] = new Howl({\n                src : urls,\n                volume : Howler.volume(),\n                html5 : html5 === true,\n                xhrWithCredentials : me.loader.withCredentials,\n                /**\n                 * @ignore\n                 */\n                onloaderror : function () {\n                    soundLoadError.call(me.audio, sound.name, onerror_cb);\n                },\n                /**\n                 * @ignore\n                 */\n                onload : function () {\n                    retry_counter = 0;\n                    if (onload_cb) {\n                        onload_cb();\n                    }\n                }\n            });\n\n            return 1;\n        };\n\n        /**\n         * play the specified sound\n         * @name play\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name - case sensitive\n         * @param {Boolean} [loop=false] loop audio\n         * @param {Function} [onend] Function to call when sound instance ends playing.\n         * @param {Number} [volume=default] Float specifying volume (0.0 - 1.0 values accepted).\n         * @return {Number} the sound instance ID.\n         * @example\n         * // play the \"cling\" audio clip\n         * me.audio.play(\"cling\");\n         * // play & repeat the \"engine\" audio clip\n         * me.audio.play(\"engine\", true);\n         * // play the \"gameover_sfx\" audio clip and call myFunc when finished\n         * me.audio.play(\"gameover_sfx\", false, myFunc);\n         * // play the \"gameover_sfx\" audio clip with a lower volume level\n         * me.audio.play(\"gameover_sfx\", false, null, 0.5);\n         */\n        api.play = function (sound_name, loop, onend, volume) {\n            var sound = audioTracks[sound_name];\n            if (sound && typeof sound !== \"undefined\") {\n                var id = sound.play();\n                if (typeof loop === \"boolean\") {\n                    // arg[0] can take different types in howler 2.0\n                    sound.loop(loop, id);\n                }\n                sound.volume(typeof(volume) === \"number\" ? me.Math.clamp(volume, 0.0, 1.0) : Howler.volume(), id);\n                if (typeof(onend) === \"function\") {\n                    if (loop === true) {\n                        sound.on(\"end\", onend, id);\n                    }\n                    else {\n                        sound.once(\"end\", onend, id);\n                    }\n                }\n                return id;\n            } else {\n                throw new Error(\"audio clip \" + sound_name + \" does not exist\");\n            }\n        };\n\n        /**\n         * Fade a currently playing sound between two volumee.\n         * @name fade\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name - case sensitive\n         * @param {Number} from Volume to fade from (0.0 to 1.0).\n         * @param {Number} to Volume to fade to (0.0 to 1.0).\n         * @param {Number} duration Time in milliseconds to fade.\n         * @param {Number} [id] the sound instance ID. If none is passed, all sounds in group will fade.\n         */\n        api.fade = function (sound_name, from, to, duration, id) {\n            var sound = audioTracks[sound_name];\n            if (sound && typeof sound !== \"undefined\") {\n                sound.fade(from, to, duration, id);\n            } else {\n                throw new Error(\"audio clip \" + sound_name + \" does not exist\");\n            }\n        };\n\n        /**\n         * get/set the position of playback for a sound.\n         * @name seek\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name - case sensitive\n         * @param {Number} [seek]  The position to move current playback to (in seconds).\n         * @param {Number} [id] the sound instance ID. If none is passed, all sounds in group will changed.\n         * @return return the current seek position (if no extra parameters were given)\n         * @example\n         * // return the current position of the background music\n         * var current_pos = me.audio.seek(\"dst-gameforest\");\n         * // set back the position of the background music to the beginning\n         * me.audio.seek(\"dst-gameforest\", 0);\n         */\n        api.seek = function (sound_name, seek, id) {\n            var sound = audioTracks[sound_name];\n            if (sound && typeof sound !== \"undefined\") {\n                return sound.seek.apply(sound, Array.prototype.slice.call(arguments, 1));\n            } else {\n                throw new Error(\"audio clip \" + sound_name + \" does not exist\");\n            }\n        };\n\n        /**\n         * get or set the rate of playback for a sound.\n         * @name rate\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name - case sensitive\n         * @param {Number} [rate] playback rate : 0.5 to 4.0, with 1.0 being normal speed.\n         * @param {Number} [id] the sound instance ID. If none is passed, all sounds in group will be changed.\n         * @return return the current playback rate (if no extra parameters were given)\n         * @example\n         * // get the playback rate of the background music\n         * var rate = me.audio.rate(\"dst-gameforest\");\n         * // speed up the playback of the background music\n         * me.audio.rate(\"dst-gameforest\", 2.0);\n         */\n        api.rate = function (sound_name, rate, id) {\n            var sound = audioTracks[sound_name];\n            if (sound && typeof sound !== \"undefined\") {\n                return sound.rate.apply(sound, Array.prototype.slice.call(arguments, 1));\n            } else {\n                throw new Error(\"audio clip \" + sound_name + \" does not exist\");\n            }\n        };\n\n        /**\n         * stop the specified sound on all channels\n         * @name stop\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name - case sensitive\n         * @param {Number} [id] the sound instance ID. If none is passed, all sounds in group will stop.\n         * @example\n         * me.audio.stop(\"cling\");\n         */\n        api.stop = function (sound_name, id) {\n            var sound = audioTracks[sound_name];\n            if (sound && typeof sound !== \"undefined\") {\n                sound.stop(id);\n                // remove the defined onend callback (if any defined)\n                sound.off(\"end\", undefined, id);\n            } else {\n                throw new Error(\"audio clip \" + sound_name + \" does not exist\");\n            }\n        };\n\n        /**\n         * pause the specified sound on all channels<br>\n         * this function does not reset the currentTime property\n         * @name pause\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name - case sensitive\n         * @param {Number} [id] the sound instance ID. If none is passed, all sounds in group will pause.\n         * @example\n         * me.audio.pause(\"cling\");\n         */\n        api.pause = function (sound_name, id) {\n            var sound = audioTracks[sound_name];\n            if (sound && typeof sound !== \"undefined\") {\n                sound.pause(id);\n            } else {\n                throw new Error(\"audio clip \" + sound_name + \" does not exist\");\n            }\n        };\n\n        /**\n         * resume the specified sound on all channels<br>\n         * @name resume\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name - case sensitive\n         * @param {Number} [id] the sound instance ID. If none is passed, all sounds in group will resume.\n         * @example\n         * // play a audio clip\n         * var id = me.audio.play(\"myClip\");\n         * ...\n         * // pause it\n         * me.audio.pause(\"myClip\", id);\n         * ...\n         * // resume\n         * me.audio.resume(\"myClip\", id);\n         */\n        api.resume = function (sound_name, id) {\n            var sound = audioTracks[sound_name];\n            if (sound && typeof sound !== \"undefined\") {\n                sound.play(id);\n            } else {\n                throw new Error(\"audio clip \" + sound_name + \" does not exist\");\n            }\n        };\n\n        /**\n         * play the specified audio track<br>\n         * this function automatically set the loop property to true<br>\n         * and keep track of the current sound being played.\n         * @name playTrack\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio track name - case sensitive\n         * @param {Number} [volume=default] Float specifying volume (0.0 - 1.0 values accepted).\n         * @return {Number} the sound instance ID.\n         * @example\n         * me.audio.playTrack(\"awesome_music\");\n         */\n        api.playTrack = function (sound_name, volume) {\n            current_track_id = sound_name;\n            return me.audio.play(\n                current_track_id,\n                true,\n                null,\n                volume\n            );\n        };\n\n        /**\n         * stop the current audio track\n         *\n         * @see me.audio#playTrack\n         * @name stopTrack\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @example\n         * // play a awesome music\n         * me.audio.playTrack(\"awesome_music\");\n         * // stop the current music\n         * me.audio.stopTrack();\n         */\n        api.stopTrack = function () {\n            if (current_track_id !== null) {\n                audioTracks[current_track_id].stop();\n                current_track_id = null;\n            }\n        };\n\n        /**\n         * pause the current audio track\n         *\n         * @name pauseTrack\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @example\n         * me.audio.pauseTrack();\n         */\n        api.pauseTrack = function () {\n            if (current_track_id !== null) {\n                audioTracks[current_track_id].pause();\n            }\n        };\n\n        /**\n         * resume the previously paused audio track\n         *\n         * @name resumeTrack\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @example\n         * // play an awesome music\n         * me.audio.playTrack(\"awesome_music\");\n         * // pause the audio track\n         * me.audio.pauseTrack();\n         * // resume the music\n         * me.audio.resumeTrack();\n         */\n        api.resumeTrack = function () {\n            if (current_track_id !== null) {\n                audioTracks[current_track_id].play();\n            }\n        };\n\n        /**\n         * returns the current track Id\n         * @name getCurrentTrack\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @return {String} audio track name\n         */\n        api.getCurrentTrack = function () {\n            return current_track_id;\n        };\n\n        /**\n         * set the default global volume\n         * @name setVolume\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {Number} volume Float specifying volume (0.0 - 1.0 values accepted).\n         */\n        api.setVolume = function (volume) {\n            Howler.volume(volume);\n        };\n\n        /**\n         * get the default global volume\n         * @name getVolume\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @returns {Number} current volume value in Float [0.0 - 1.0] .\n         */\n        api.getVolume = function () {\n            return Howler.volume();\n        };\n\n        /**\n         * mute or unmute the specified sound, but does not pause the playback.\n         * @name mute\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name - case sensitive\n         * @param {Number} [id] the sound instance ID. If none is passed, all sounds in group will mute.\n         * @param {Boolean} [mute=true] True to mute and false to unmute\n         * @example\n         * // mute the background music\n         * me.audio.mute(\"awesome_music\");\n         */\n        api.mute = function (sound_name, id, mute) {\n            // if not defined : true\n            mute = (typeof(mute) === \"undefined\" ? true : !!mute);\n            var sound = audioTracks[sound_name];\n            if (sound && typeof(sound) !== \"undefined\") {\n                sound.mute(mute, id);\n            } else {\n                throw new Error(\"audio clip \" + sound_name + \" does not exist\");\n            }\n        };\n\n        /**\n         * unmute the specified sound\n         * @name unmute\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio clip name\n         * @param {Number} [id] the sound instance ID. If none is passed, all sounds in group will unmute.\n         */\n        api.unmute = function (sound_name, id) {\n            api.mute(sound_name, id, false);\n        };\n\n        /**\n         * mute all audio\n         * @name muteAll\n         * @memberOf me.audio\n         * @public\n         * @function\n         */\n        api.muteAll = function () {\n            Howler.mute(true);\n        };\n\n        /**\n         * unmute all audio\n         * @name unmuteAll\n         * @memberOf me.audio\n         * @public\n         * @function\n         */\n        api.unmuteAll = function () {\n            Howler.mute(false);\n        };\n\n        /**\n         * Returns true if audio is muted globally.\n         * @name muted\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @return {Boolean} true if audio is muted globally\n         */\n        api.muted = function () {\n            return Howler._muted;\n        };\n\n        /**\n         * unload specified audio track to free memory\n         *\n         * @name unload\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @param {String} sound_name audio track name - case sensitive\n         * @return {Boolean} true if unloaded\n         * @example\n         * me.audio.unload(\"awesome_music\");\n         */\n        api.unload = function (sound_name) {\n            if (!(sound_name in audioTracks)) {\n                return false;\n            }\n\n            // destroy the Howl object\n            audioTracks[sound_name].unload();\n            delete audioTracks[sound_name];\n            return true;\n        };\n\n        /**\n         * unload all audio to free memory\n         *\n         * @name unloadAll\n         * @memberOf me.audio\n         * @public\n         * @function\n         * @example\n         * me.audio.unloadAll();\n         */\n        api.unloadAll = function () {\n            for (var sound_name in audioTracks) {\n                if (audioTracks.hasOwnProperty(sound_name)) {\n                    api.unload(sound_name);\n                }\n            }\n        };\n\n        // return our object\n        return api;\n    })();\n\n})();\n","(function () {\n    /**\n     * video functions\n     * There is no constructor function for me.video\n     * @namespace me.video\n     * @memberOf me\n     */\n    me.video = (function () {\n        // hold public stuff in our api\n        var api = {};\n\n        var deferResizeId = 0;\n\n        var designRatio = 1;\n        var designWidth = 0;\n        var designHeight = 0;\n\n        // max display size\n        var maxWidth = Infinity;\n        var maxHeight = Infinity;\n\n        // default video settings\n        var settings = {\n            wrapper : undefined,\n            renderer : 2, // AUTO\n            doubleBuffering : false,\n            autoScale : false,\n            scale : 1.0,\n            scaleMethod : \"fit\",\n            transparent : false,\n            blendMode : \"normal\",\n            antiAlias : false,\n            failIfMajorPerformanceCaveat : true,\n            subPixel : false,\n            verbose : false,\n            consoleHeader : true\n        };\n\n        /**\n         * Auto-detect the best renderer to use\n         * @ignore\n         */\n        function autoDetectRenderer(c, width, height, options) {\n            try {\n                return new me.WebGLRenderer(c, width, height, options);\n            }\n            catch (e) {\n                return new me.CanvasRenderer(c, width, height, options);\n            }\n        }\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * Select the HTML5 Canvas renderer\n         * @public\n         * @name CANVAS\n         * @memberOf me.video\n         * @enum {Number}\n         */\n        api.CANVAS = 0;\n\n        /**\n         * Select the WebGL renderer\n         * @public\n         * @name WEBGL\n         * @memberOf me.video\n         * @enum {Number}\n         */\n        api.WEBGL = 1;\n\n        /**\n         * Auto-select the renderer (Attempt WebGL first, with fallback to Canvas)\n         * @public\n         * @name AUTO\n         * @memberOf me.video\n         * @enum {Number}\n         */\n        api.AUTO = 2;\n\n        /**\n         * Initialize the \"video\" system (create a canvas based on the given arguments, and the related renderer). <br>\n         * melonJS support various scaling mode, that can be enabled <u>once the scale option is set to <b>`auto`</b></u> : <br>\n         *  - <i><b>`fit`</b></i> : Letterboxed; content is scaled to design aspect ratio <br>\n         * <center><img src=\"images/scale-fit.png\"/></center><br>\n         *  - <i><b>`fill-min`</b></i> : Canvas is resized to fit minimum design resolution; content is scaled to design aspect ratio <br>\n         * <center><img src=\"images/scale-fill-min.png\"/></center><br>\n         *  - <i><b>`fill-max`</b></i> : Canvas is resized to fit maximum design resolution; content is scaled to design aspect ratio <br>\n         * <center><img src=\"images/scale-fill-max.png\"/></center><br>\n         *  - <i><b>`flex`</b><</i> : Canvas width & height is resized to fit; content is scaled to design aspect ratio <br>\n         * <center><img src=\"images/scale-flex.png\"/></center><br>\n         *  - <i><b>`flex-width`</b></i> : Canvas width is resized to fit; content is scaled to design aspect ratio <br>\n         * <center><img src=\"images/scale-flex-width.png\"/></center><br>\n         *  - <i><b>`flex-height`</b></i> : Canvas height is resized to fit; content is scaled to design aspect ratio <br>\n         * <center><img src=\"images/scale-flex-height.png\"/></center><br>\n         *  - <i><b>`stretch`</b></i> : Canvas is resized to fit; content is scaled to screen aspect ratio\n         * <center><img src=\"images/scale-stretch.png\"/></center><br>\n         * @name init\n         * @memberOf me.video\n         * @function\n         * @param {Number} width the width of the canvas viewport\n         * @param {Number} height the height of the canvas viewport\n         * @param {Object} [options] The optional video/renderer parameters.<br> (see Renderer(s) documentation for further specific options)\n         * @param {String} [options.wrapper=document.body] the \"div\" element name to hold the canvas in the HTML file\n         * @param {Number} [options.renderer=me.video.AUTO] renderer to use.\n         * @param {Boolean} [options.doubleBuffering=false] enable/disable double buffering\n         * @param {Number|String} [options.scale=1.0] enable scaling of the canvas ('auto' for automatic scaling)\n         * @param {String} [options.scaleMethod=\"fit\"] screen scaling modes ('fit','fill-min','fill-max','flex','flex-width','flex-height','stretch')\n         * @param {Boolean} [options.useParentDOMSize=false] on browser devices, limit the canvas width and height to its parent container dimensions as returned by getBoundingClientRect(),\n         *                                                   as opposed to the browser window dimensions\n         * @param {Boolean} [options.transparent=false] whether to allow transparent pixels in the front buffer (screen)\n         * @param {Boolean} [options.antiAlias=false] whether to enable or not video scaling interpolation\n         * @param {Boolean} [options.consoleHeader=true] whether to display melonJS version and basic device information in the console\n         * @return {Boolean} false if initialization failed (canvas not supported)\n         * @see me.CanvasRenderer\n         * @see me.WebGLRenderer\n         * @example\n         * // init the video with a 640x480 canvas\n         * me.video.init(640, 480, {\n         *     wrapper : \"screen\",\n         *     renderer : me.video.AUTO,\n         *     scale : \"auto\",\n         *     scaleMethod : \"fit\",\n         *     doubleBuffering : true\n         * });\n         */\n        api.init = function (game_width, game_height, options) {\n            // ensure melonjs has been properly initialized\n            if (!me.initialized) {\n                throw new Error(\"me.video.init() called before engine initialization.\");\n            }\n\n            // revert to default options if not defined\n            settings = Object.assign(settings, options || {});\n\n            // sanitize potential given parameters\n            settings.doubleBuffering = !!(settings.doubleBuffering);\n            settings.useParentDOMSize = !!(settings.useParentDOMSize);\n            settings.autoScale = (settings.scale === \"auto\") || false;\n            settings.transparent = !!(settings.transparent);\n            settings.antiAlias = !!(settings.antiAlias);\n            settings.failIfMajorPerformanceCaveat = !!(settings.failIfMajorPerformanceCaveat);\n            settings.subPixel = !!(settings.subPixel);\n            settings.verbose = !!(settings.verbose);\n            if (settings.scaleMethod.search(/^(fill-(min|max)|fit|flex(-(width|height))?|stretch)$/) !== 0) {\n                settings.scaleMethod = \"fit\";\n            }\n\n            // override renderer settings if &webgl is defined in the URL\n            if (me.game.HASH.webgl === true) {\n                settings.renderer = api.WEBGL;\n            }\n\n            // normalize scale\n            settings.scale = (settings.autoScale) ? 1.0 : (+settings.scale || 1.0);\n            me.sys.scale = new me.Vector2d(settings.scale, settings.scale);\n\n            // force double buffering if scaling is required\n            if (settings.autoScale || (settings.scale !== 1.0)) {\n                settings.doubleBuffering = true;\n            }\n\n            // hold the requested video size ratio\n            designRatio = game_width / game_height;\n            designWidth = game_width;\n            designHeight = game_height;\n\n            // default scaled size value\n            var game_width_zoom = game_width * me.sys.scale.x;\n            var game_height_zoom = game_height * me.sys.scale.y;\n            settings.zoomX = game_width_zoom;\n            settings.zoomY = game_height_zoom;\n\n            //add a channel for the onresize/onorientationchange event\n            window.addEventListener(\n                \"resize\",\n                me.utils.function.throttle(\n                    function (event) {\n                        me.event.publish(me.event.WINDOW_ONRESIZE, [ event ]);\n                    }, 100\n                ), false\n            );\n\n            // Screen Orientation API\n            window.addEventListener(\n                \"orientationchange\",\n                function (event) {\n                    me.event.publish(me.event.WINDOW_ONORIENTATION_CHANGE, [ event ]);\n                },\n                false\n            );\n            // pre-fixed implementation on mozzila\n            window.addEventListener(\n                \"onmozorientationchange\",\n                function (event) {\n                    me.event.publish(me.event.WINDOW_ONORIENTATION_CHANGE, [ event ]);\n                },\n                false\n            );\n            if (typeof window.screen !== \"undefined\") {\n                // is this one required ?\n                window.screen.onorientationchange = function (event) {\n                    me.event.publish(me.event.WINDOW_ONORIENTATION_CHANGE, [ event ]);\n                };\n            }\n\n            // Automatically update relative canvas position on scroll\n            window.addEventListener(\"scroll\", me.utils.function.throttle(\n                function (e) {\n                    me.video.renderer.updateBounds();\n                    me.event.publish(me.event.WINDOW_ONSCROLL, [ e ]);\n                }, 100\n            ), false);\n\n            // register to the channel\n            me.event.subscribe(\n                me.event.WINDOW_ONRESIZE,\n                me.video.onresize.bind(me.video)\n            );\n            me.event.subscribe(\n                me.event.WINDOW_ONORIENTATION_CHANGE,\n                me.video.onresize.bind(me.video)\n            );\n\n            // create the main screen canvas\n            var canvas;\n\n            if (me.device.ejecta === true) {\n                // a main canvas is already automatically created by Ejecta\n                canvas = document.getElementById(\"canvas\");\n            } else if (typeof window.canvas !== \"undefined\") {\n                // a global canvas is available, e.g. webapp adapter for wechat\n                canvas = window.canvas;\n            } else {\n                canvas = api.createCanvas(game_width_zoom, game_height_zoom);\n            }\n\n            // add our canvas\n            if (options.wrapper) {\n                settings.wrapper = document.getElementById(options.wrapper);\n            }\n            // if wrapperid is not defined (null)\n            if (!settings.wrapper) {\n                // add the canvas to document.body\n                settings.wrapper = document.body;\n            }\n            settings.wrapper.appendChild(canvas);\n\n            // stop here if not supported\n            if (typeof canvas.getContext === \"undefined\") {\n                return false;\n            }\n\n            /**\n             * A reference to the current video renderer\n             * @public\n             * @memberOf me.video\n             * @name renderer\n             * @type {me.Renderer|me.CanvasRenderer|me.WebGLRenderer}\n             */\n            switch (settings.renderer) {\n                case api.AUTO:\n                case api.WEBGL:\n                    this.renderer = autoDetectRenderer(canvas, game_width, game_height, settings);\n                    break;\n                default:\n                    this.renderer = new me.CanvasRenderer(canvas, game_width, game_height, settings);\n                    break;\n            }\n\n            // adjust CSS style for High-DPI devices\n            var ratio = me.device.devicePixelRatio;\n            if (ratio > 1) {\n                canvas.style.width = (canvas.width / ratio) + \"px\";\n                canvas.style.height = (canvas.height / ratio) + \"px\";\n            }\n\n\n            // set max the canvas max size if CSS values are defined\n            if (window.getComputedStyle) {\n                var style = window.getComputedStyle(canvas, null);\n                me.video.setMaxSize(parseInt(style.maxWidth, 10), parseInt(style.maxHeight, 10));\n            }\n\n            me.game.init();\n\n            // trigger an initial resize();\n            me.video.onresize();\n\n            // add an observer to detect when the dom tree is modified\n            if (\"MutationObserver\" in window) {\n                // Create an observer instance linked to the callback function\n                var observer = new MutationObserver(me.video.onresize.bind(me.video));\n\n                // Start observing the target node for configured mutations\n                observer.observe(settings.wrapper, {\n                    attributes: false, childList: true, subtree: true\n                });\n            }\n\n            if (options.consoleHeader !== false) {\n                var renderType = (me.video.renderer instanceof me.CanvasRenderer) ? \"CANVAS\" : \"WebGL\";\n                var audioType = me.device.hasWebAudio ? \"Web Audio\" : \"HTML5 Audio\";\n                // output video information in the console\n                console.log(me.mod + \" \" + me.version + \" | http://melonjs.org\" );\n                console.log(\n                    renderType + \" | \" +\n                    audioType + \" | \" +\n                    \"pixel ratio \" + me.device.devicePixelRatio + \" | \" +\n                    (me.device.isMobile ? \"mobile\" : \"desktop\") + \" | \" +\n                    me.device.getScreenOrientation() + \" | \" +\n                    me.device.language\n                );\n                console.log( \"resolution: \" + \"requested \" + game_width + \"x\" + game_height +\n                    \", got \" + me.video.renderer.getWidth() + \"x\" + me.video.renderer.getHeight()\n                );\n            }\n            return true;\n        };\n\n        /**\n         * set the max canvas display size (when scaling)\n         * @name setMaxSize\n         * @memberOf me.video\n         * @function\n         * @param {Number} width width\n         * @param {Number} height height\n         */\n        api.setMaxSize = function (w, h) {\n            // max display size\n            maxWidth = w || Infinity;\n            maxHeight = h || Infinity;\n            // trigger a resize\n            // defer it to ensure everything is properly intialized\n            me.utils.function.defer(me.video.onresize, me.video);\n        };\n\n        /**\n         * Create and return a new Canvas\n         * @name createCanvas\n         * @memberOf me.video\n         * @function\n         * @param {Number} width width\n         * @param {Number} height height\n         * @return {Canvas}\n         */\n        api.createCanvas = function (width, height) {\n            if (width === 0 || height === 0)  {\n                throw new Error(\"width or height was zero, Canvas could not be initialized !\");\n            }\n\n            var _canvas = document.createElement(\"canvas\");\n\n            _canvas.width = width;\n            _canvas.height = height;\n\n            return _canvas;\n        };\n\n        /**\n         * return a reference to the wrapper\n         * @name getWrapper\n         * @memberOf me.video\n         * @function\n         * @return {Document}\n         */\n        api.getWrapper = function () {\n            return settings.wrapper;\n        };\n\n        /**\n         * callback for window resize event\n         * @ignore\n         */\n        api.onresize = function () {\n            // default (no scaling)\n            var scaleX = 1, scaleY = 1;\n\n            if (settings.autoScale) {\n                var parentNodeWidth;\n                var parentNodeHeight;\n                var parentNode = me.video.renderer.getScreenCanvas().parentNode;\n                if (typeof (parentNode) !== \"undefined\") {\n                    if (settings.useParentDOMSize && typeof parentNode.getBoundingClientRect === \"function\") {\n                        var rect = parentNode.getBoundingClientRect();\n                        parentNodeWidth = rect.width || (rect.right - rect.left);\n                        parentNodeHeight = rect.height || (rect.bottom - rect.top);\n                    } else {\n                        // for cased where DOM is not implemented and so parentNode (e.g. Ejecta, Weixin)\n                        parentNodeWidth = parentNode.width;\n                        parentNodeHeight = parentNode.height;\n                    }\n                }\n                var _max_width = Math.min(maxWidth, parentNodeWidth || window.innerWidth);\n                var _max_height = Math.min(maxHeight, parentNodeHeight || window.innerHeight);\n                var screenRatio = _max_width / _max_height;\n                var sWidth = Infinity;\n                var sHeight = Infinity;\n\n                if (\n                    (settings.scaleMethod === \"fill-min\" && screenRatio > designRatio) ||\n                    (settings.scaleMethod === \"fill-max\" && screenRatio < designRatio) ||\n                    (settings.scaleMethod === \"flex-width\")\n                ) {\n                    // resize the display canvas to fill the parent container\n                    sWidth = Math.min(maxWidth, designHeight * screenRatio);\n                    scaleX = scaleY = _max_width / sWidth;\n                    sWidth = ~~(sWidth + 0.5);\n                    this.renderer.resize(sWidth, designHeight);\n                }\n                else if (\n                    (settings.scaleMethod === \"fill-min\" && screenRatio < designRatio) ||\n                    (settings.scaleMethod === \"fill-max\" && screenRatio > designRatio) ||\n                    (settings.scaleMethod === \"flex-height\")\n                ) {\n                    // resize the display canvas to fill the parent container\n                    sHeight = Math.min(maxHeight, designWidth * (_max_height / _max_width));\n                    scaleX = scaleY = _max_height / sHeight;\n                    sHeight = ~~(sHeight + 0.5);\n                    this.renderer.resize(designWidth, sHeight);\n                }\n                else if (settings.scaleMethod === \"flex\") {\n                    // resize the display canvas to fill the parent container\n                    this.renderer.resize(_max_width, _max_height);\n                }\n                else if (settings.scaleMethod === \"stretch\") {\n                    // scale the display canvas to fit with the parent container\n                    scaleX = _max_width / designWidth;\n                    scaleY = _max_height / designHeight;\n                }\n                else {\n                    // scale the display canvas to fit the parent container\n                    // make sure we maintain the original aspect ratio\n                    if (screenRatio < designRatio) {\n                        scaleX = scaleY = _max_width / designWidth;\n                    }\n                    else {\n                        scaleX = scaleY = _max_height / designHeight;\n                    }\n                }\n\n                // adjust scaling ratio based on the device pixel ratio\n                scaleX *= me.device.devicePixelRatio;\n                scaleY *= me.device.devicePixelRatio;\n\n                if (deferResizeId) {\n                    // cancel any previous pending resize\n                    clearTimeout(deferResizeId);\n                }\n                deferResizeId = me.utils.function.defer(me.video.updateDisplaySize, this, scaleX, scaleY);\n            }\n\n            // update parent container bounds\n            this.renderer.updateBounds();\n        };\n\n        /**\n         * Modify the \"displayed\" canvas size\n         * @name updateDisplaySize\n         * @memberOf me.video\n         * @function\n         * @param {Number} scaleX X scaling multiplier\n         * @param {Number} scaleY Y scaling multiplier\n         */\n        api.updateDisplaySize = function (scaleX, scaleY) {\n\n            // update the global scale variable\n            me.sys.scale.set(scaleX, scaleY);\n\n            // renderer resize logic\n            this.renderer.scaleCanvas(scaleX, scaleY);\n\n            // update parent container bounds\n            this.renderer.updateBounds();\n\n            // force repaint\n            me.game.repaint();\n\n            // clear the timeout id\n            deferResizeId = 0;\n        };\n\n        // return our api\n        return api;\n    })();\n\n})();\n","(function () {\n\n    /**\n     * a base renderer object\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {HTMLCanvasElement} canvas The html canvas tag to draw to on screen.\n     * @param {Number} width The width of the canvas without scaling\n     * @param {Number} height The height of the canvas without scaling\n     * @param {Object} [options] The renderer parameters\n     * @param {Boolean} [options.doubleBuffering=false] Whether to enable double buffering\n     * @param {Boolean} [options.antiAlias=false] Whether to enable anti-aliasing, use false (default) for a pixelated effect.\n     * @param {Boolean} [options.failIfMajorPerformanceCaveat=true] If true, the renderer will switch to CANVAS mode if the performances of a WebGL context would be dramatically lower than that of a native application making equivalent OpenGL calls.\n     * @param {Boolean} [options.transparent=false] Whether to enable transparency on the canvas (performance hit when enabled)\n     * @param {Boolean} [options.blendMode=\"normal\"] the default blend mode to use (\"normal\", \"multiply\")\n     * @param {Boolean} [options.subPixel=false] Whether to enable subpixel rendering (performance hit when enabled)\n     * @param {Boolean} [options.verbose=false] Enable the verbose mode that provides additional details as to what the renderer is doing\n     * @param {Number} [options.zoomX=width] The actual width of the canvas with scaling applied\n     * @param {Number} [options.zoomY=height] The actual height of the canvas with scaling applied\n     */\n    me.Renderer = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (c, width, height, options) {\n            /**\n             * The given constructor options\n             * @public\n             * @name settings\n             * @memberOf me.Renderer#\n             * @enum {Object}\n             */\n            this.settings = options;\n\n            /**\n             * true if the current rendering context is valid\n             * @name isContextValid\n             * @memberOf me.Renderer\n             * @default true\n             * type {Boolean}\n             */\n            this.isContextValid = true;\n\n            /**\n             * @ignore\n             */\n            this.currentScissor = new Int32Array([ 0, 0, this.width, this.height ]);\n\n            /**\n             * @ignore\n             */\n            this.currentBlendMode = \"normal\";\n\n            // canvas size after scaling\n            this.gameWidthZoom = this.settings.zoomX || width;\n            this.gameHeightZoom = this.settings.zoomY || height;\n\n            // canvas object and context\n            this.canvas = this.backBufferCanvas = c;\n            this.context = null;\n\n            // global color\n            this.currentColor = new me.Color(0, 0, 0, 1.0);\n\n            // global tint color\n            this.currentTint = new me.Color(255, 255, 255, 1.0);\n\n            // default uvOffset\n            this.uvOffset = 0;\n\n            // the parent container bouds\n            this.parentBounds = new me.Rect(0, 0, 0, 0);\n\n            // reset the instantiated renderer on game reset\n            me.event.subscribe(me.event.GAME_RESET, function () {\n                me.video.renderer.reset();\n            });\n\n            return this;\n        },\n\n        /**\n         * prepare the framebuffer for drawing a new frame\n         * @name clear\n         * @memberOf me.Renderer.prototype\n         * @function\n         */\n        clear : function () {},\n\n        /**\n         * Reset context state\n         * @name reset\n         * @memberOf me.Renderer.prototype\n         * @function\n         */\n        reset : function () {\n            this.resetTransform();\n            this.setBlendMode(this.settings.blendMode);\n            this.setColor(\"#000000\");\n            this.currentTint.setColor(255, 255, 255, 1.0);\n            this.cache.clear();\n            this.currentScissor[0] = 0;\n            this.currentScissor[1] = 0;\n            this.currentScissor[2] = this.backBufferCanvas.width;\n            this.currentScissor[3] = this.backBufferCanvas.height;\n            this.updateBounds();\n        },\n\n        /**\n         * update the bounds (size and position) of the parent container.\n         * (this can be manually called in case of manual page layout modification not triggering a resize event)\n         * @name updateBounds\n         * @memberOf me.Renderer.prototype\n         * @function\n         */\n        updateBounds : function () {\n            var target = this.getScreenCanvas();\n            var rect;\n            if (typeof target.getBoundingClientRect === \"undefined\") {\n                rect = { left : 0, top : 0, width: 0, height: 0 };\n            } else {\n                rect = target.getBoundingClientRect();\n            }\n            this.parentBounds.setShape(rect.left, rect.top, rect.width, rect.height);\n        },\n\n        /**\n         * returns the bounds (size and position) of the parent container\n         * @name getBounds\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @return {me.Rect}\n         */\n        getBounds : function () {\n            return this.parentBounds;\n        },\n\n        /**\n         * return a reference to the system canvas\n         * @name getCanvas\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @return {HTMLCanvasElement}\n         */\n        getCanvas : function () {\n            return this.backBufferCanvas;\n        },\n\n        /**\n         * return a reference to the screen canvas\n         * @name getScreenCanvas\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @return {HTMLCanvasElement}\n         */\n        getScreenCanvas : function () {\n            return this.canvas;\n        },\n\n        /**\n         * return a reference to the screen canvas corresponding 2d Context<br>\n         * (will return buffered context if double buffering is enabled, or a reference to the Screen Context)\n         * @name getScreenContext\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @return {Context2d}\n         */\n        getScreenContext : function () {\n            return this.context;\n        },\n\n        /**\n         * returns the current blend mode for this renderer\n         * @name getBlendMode\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @return {String} blend mode\n         */\n        getBlendMode : function () {\n            return this.currentBlendMode;\n        },\n\n        /**\n         * Returns the 2D Context object of the given Canvas<br>\n         * Also configures anti-aliasing and blend modes based on constructor options.\n         * @name getContext2d\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param {HTMLCanvasElement} canvas\n         * @param {Boolean} [transparent=true] use false to disable transparency\n         * @return {Context2d}\n         */\n        getContext2d : function (c, transparent) {\n            if (typeof c === \"undefined\" || c === null) {\n                throw new Error(\n                    \"You must pass a canvas element in order to create \" +\n                    \"a 2d context\"\n                );\n            }\n\n            if (typeof c.getContext === \"undefined\") {\n                throw new Error(\n                    \"Your browser does not support HTML5 canvas.\"\n                );\n            }\n\n            if (typeof transparent !== \"boolean\") {\n                transparent = true;\n            }\n\n            var _context = c.getContext(\"2d\", {\n                    \"alpha\" : transparent\n            });\n\n            if (!_context.canvas) {\n                _context.canvas = c;\n            }\n            this.setAntiAlias(_context, this.settings.antiAlias);\n            return _context;\n        },\n\n        /**\n         * return the width of the system Canvas\n         * @name getWidth\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @return {Number}\n         */\n        getWidth : function () {\n            return this.backBufferCanvas.width;\n        },\n\n        /**\n         * return the height of the system Canvas\n         * @name getHeight\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @return {Number}\n         */\n        getHeight : function () {\n            return this.backBufferCanvas.height;\n        },\n\n        /**\n         * get the current fill & stroke style color.\n         * @name getColor\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param {me.Color} current global color\n         */\n        getColor : function () {\n            return this.currentColor;\n        },\n\n        /**\n         * return the current global alpha\n         * @name globalAlpha\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @return {Number}\n         */\n        globalAlpha : function () {\n            return this.currentColor.glArray[3];\n        },\n\n        /**\n         * check if the given rectangle overlaps with the renderer screen coordinates\n         * @name overlaps\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param  {me.Rect} rect\n         * @return {boolean} true if overlaps\n         */\n        overlaps : function (rect) {\n            return (\n                rect.left < this.getWidth() && rect.right > 0 &&\n                rect.top < this.getHeight() && rect.bottom > 0\n            );\n        },\n\n\n        /**\n         * resizes the system canvas\n         * @name resize\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param {Number} width new width of the canvas\n         * @param {Number} height new height of the canvas\n         */\n        resize : function (width, height) {\n            if (width !== this.backBufferCanvas.width || height !== this.backBufferCanvas.height) {\n                this.backBufferCanvas.width = width;\n                this.backBufferCanvas.height = height;\n                this.currentScissor[0] = 0;\n                this.currentScissor[1] = 0;\n                this.currentScissor[2] = width;\n                this.currentScissor[3] = height;\n                // publish the corresponding event\n                me.event.publish(me.event.CANVAS_ONRESIZE, [ width, height ]);\n            }\n            this.updateBounds();\n        },\n\n        /**\n         * enable/disable image smoothing (scaling interpolation) for the given context\n         * @name setAntiAlias\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param {Context2d} context\n         * @param {Boolean} [enable=false]\n         */\n        setAntiAlias : function (context, enable) {\n            var canvas = context.canvas;\n\n            // enable/disable antialis on the given Context2d object\n            me.agent.setPrefixed(\"imageSmoothingEnabled\", enable === true, context);\n\n            // set antialias CSS property on the main canvas\n            if (enable !== true) {\n                // https://developer.mozilla.org/en-US/docs/Web/CSS/image-rendering\n                canvas.style[\"image-rendering\"] = \"pixelated\";\n                canvas.style[\"image-rendering\"] = \"crisp-edges\";\n                canvas.style[\"image-rendering\"] = \"-moz-crisp-edges\";\n                canvas.style[\"image-rendering\"] = \"-o-crisp-edges\";\n                canvas.style[\"image-rendering\"] = \"-webkit-optimize-contrast\";\n                canvas.style.msInterpolationMode = \"nearest-neighbor\";\n            } else {\n                canvas.style[\"image-rendering\"] = \"auto\";\n            }\n        },\n\n        /**\n         * stroke the given shape\n         * @name stroke\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param {me.Rect|me.Polygon|me.Line|me.Ellipse} shape a shape object to stroke\n         */\n        stroke : function (shape, fill) {\n            if (shape.shapeType === \"Rectangle\") {\n                this.strokeRect(shape.left, shape.top, shape.width, shape.height, fill);\n            } else if (shape instanceof me.Line || shape instanceof me.Polygon) {\n                this.strokePolygon(shape, fill);\n            } else if (shape instanceof me.Ellipse) {\n                this.strokeEllipse(\n                    shape.pos.x,\n                    shape.pos.y,\n                    shape.radiusV.x,\n                    shape.radiusV.y,\n                    fill\n                );\n            }\n        },\n\n        /**\n         * fill the given shape\n         * @name fill\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param {me.Rect|me.Polygon|me.Line|me.Ellipse} shape a shape object to fill\n         */\n        fill : function (shape) {\n            this.stroke(shape, true);\n        },\n\n        /**\n         * A mask limits rendering elements to the shape and position of the given mask object.\n         * So, if the renderable is larger than the mask, only the intersecting part of the renderable will be visible.\n         * Mask are not preserved through renderer context save and restore.\n         * @name setMask\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param {me.Rect|me.Polygon|me.Line|me.Ellipse} [mask] the shape defining the mask to be applied\n         */\n        setMask : function (mask) {},\n\n        /**\n         * disable (remove) the rendering mask set through setMask.\n         * @name clearMask\n         * @see setMask\n         * @memberOf me.Renderer.prototype\n         * @function\n         */\n        clearMask : function() {},\n\n        /**\n         * set a rendering tint (WebGL only) for sprite based renderables.\n         * @name setTint\n         * @memberOf me.Renderer.prototype\n         * @function\n         * @param {me.Color} [tint] the tint color\n         */\n        setTint : function (tint) {\n            // global tint color\n            this.currentTint.copy(tint);\n        },\n\n        /**\n         * clear the rendering tint set through setTint.\n         * @name clearTint\n         * @see setTint\n         * @memberOf me.Renderer.prototype\n         * @function\n         */\n        clearTint : function() {\n            // reset to default\n            this.currentTint.setColor(255, 255, 255, 1.0);\n        },\n\n        /**\n         * @ignore\n         */\n        drawFont : function (/*bounds*/) {}\n\n    });\n\n})();\n","(function () {\n\n    /**\n     * A Texture atlas object, currently supports : <br>\n     * - [TexturePacker]{@link http://www.codeandweb.com/texturepacker/} : through JSON export (standard and multipack texture atlas) <br>\n     * - [ShoeBox]{@link http://renderhjs.net/shoebox/} : through JSON export using the\n     * melonJS setting [file]{@link https://github.com/melonjs/melonJS/raw/master/media/shoebox_JSON_export.sbx} <br>\n     * - Standard (fixed cell size) spritesheet : through a {framewidth:xx, frameheight:xx, anchorPoint:me.Vector2d} object\n     * @class\n     * @extends me.Object\n     * @memberOf me.Renderer\n     * @name Texture\n     * @constructor\n     * @param {Object|Object[]} atlas atlas information. See {@link me.loader.getJSON}\n     * @param {HTMLImageElement|HTMLCanvasElement|String|HTMLImageElement[]|HTMLCanvasElement[]|String[]} [source=atlas.meta.image] Image source\n     * @param {Boolean} [cached=false] Use true to skip caching this Texture\n     * @example\n     * // create a texture atlas from a JSON Object\n     * game.texture = new me.video.renderer.Texture(\n     *     me.loader.getJSON(\"texture\")\n     * );\n     *\n     * // create a texture atlas from a multipack JSON Object\n     * game.texture = new me.video.renderer.Texture([\n     *     me.loader.getJSON(\"texture-0\"),\n     *     me.loader.getJSON(\"texture-1\"),\n     *     me.loader.getJSON(\"texture-2\")\n     * ]);\n     *\n     * // create a texture atlas for a spritesheet with an anchorPoint in the center of each frame\n     * game.texture = new me.video.renderer.Texture(\n     *     {\n     *         framewidth : 32,\n     *         frameheight : 32,\n     *         anchorPoint : new me.Vector2d(0.5, 0.5)\n     *     },\n     *     me.loader.getImage(\"spritesheet\")\n     * );\n     */\n    me.Renderer.prototype.Texture = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (atlases, src, cache) {\n            /**\n             * to identify the atlas format (e.g. texture packer)\n             * @ignore\n             */\n            this.format = null;\n\n            /**\n             * the texture source(s) itself\n             * @type Map\n             * @ignore\n             */\n            this.sources = new Map();\n\n            /**\n             * the atlas dictionnaries\n             * @type Map\n             * @ignore\n             */\n            this.atlases = new Map();\n\n            // parse given atlas(es) paremeters\n            if (typeof (atlases) !== \"undefined\") {\n                // normalize to array to keep the following code generic\n                atlases = Array.isArray(atlases) ? atlases : [atlases];\n                for (var i in atlases) {\n                    var atlas = atlases[i];\n\n                    if (typeof(atlas.meta) !== \"undefined\") {\n                        // Texture Packer\n                        if (atlas.meta.app.includes(\"texturepacker\")) {\n                            this.format = \"texturepacker\";\n                            // set the texture\n                            if (typeof(src) === \"undefined\") {\n                                // get the texture name from the atlas meta data\n                                var image = me.loader.getImage(atlas.meta.image);\n                                if (!image) {\n                                    throw new Error(\n                                        \"Atlas texture '\" + image + \"' not found\"\n                                    );\n                                }\n                                this.sources.set(atlas.meta.image, image);\n                            } else {\n                                this.sources.set(atlas.meta.image || \"default\", typeof src === \"string\" ? me.loader.getImage(src) : src);\n                            }\n                            this.repeat = \"no-repeat\";\n                        }\n                        // ShoeBox\n                        else if (atlas.meta.app.includes(\"ShoeBox\")) {\n                            if (!atlas.meta.exporter || !atlas.meta.exporter.includes(\"melonJS\")) {\n                                throw new Error(\n                                    \"ShoeBox requires the JSON exporter : \" +\n                                    \"https://github.com/melonjs/melonJS/tree/master/media/shoebox_JSON_export.sbx\"\n                                );\n                            }\n                            this.format = \"ShoeBox\";\n                            this.repeat = \"no-repeat\";\n                            this.sources.set(\"default\", typeof src === \"string\" ? me.loader.getImage(src) : src);\n                        }\n                        // Internal texture atlas\n                        else if (atlas.meta.app.includes(\"melonJS\")) {\n                            this.format = \"melonJS\";\n                            this.repeat = atlas.meta.repeat || \"no-repeat\";\n                            this.sources.set(\"default\", typeof src === \"string\" ? me.loader.getImage(src) : src);\n                        }\n                        // initialize the atlas\n                        this.atlases.set(atlas.meta.image || \"default\", this.parse(atlas));\n\n                    } else {\n                        // a regular spritesheet\n                        if (typeof(atlas.framewidth) !== \"undefined\" &&\n                            typeof(atlas.frameheight) !== \"undefined\") {\n                            this.format = \"Spritesheet (fixed cell size)\";\n                            this.repeat = \"no-repeat\";\n\n                            if (typeof(src) !== \"undefined\") {\n                                // overwrite if specified\n                                atlas.image = typeof src === \"string\" ? me.loader.getImage(src) : src;\n                            }\n                            // initialize the atlas\n                            this.atlases.set(\"default\", this.parseFromSpriteSheet(atlas));\n                            this.sources.set(\"default\", atlas.image);\n\n                        }\n                    }\n                } // end forEach\n            }\n\n            // if format not recognized\n            if (this.atlases.length === 0) {\n                throw new Error(\"texture atlas format not supported\");\n            }\n\n            // Add self to TextureCache if cache !== false\n            if (cache !== false) {\n                src = Array.isArray(src) ? src : [src];\n                for (var source of this.sources) {\n                    if (cache instanceof me.Renderer.TextureCache) {\n                        cache.set(source, this);\n                    } else {\n                        me.video.renderer.cache.set(source, this);\n                    }\n                }\n            }\n        },\n\n        /**\n         * create a simple 1 frame texture atlas based on the given parameters\n         * @ignore\n         */\n        createAtlas : function (width, height, name, repeat) {\n            return {\n                \"meta\" : {\n                    \"app\" : \"melonJS\",\n                    \"size\" : { \"w\" : width, \"h\" : height },\n                    \"repeat\" : repeat || \"no-repeat\",\n                    \"image\" : \"default\"\n                },\n                \"frames\" : [{\n                    \"filename\" : name || \"default\",\n                    \"frame\" : { \"x\" : 0, \"y\" : 0, \"w\" : width, \"h\" : height }\n                }]\n            };\n        },\n\n        /**\n         * build an atlas from the given data\n         * @ignore\n         */\n        parse : function (data) {\n            var atlas = {};\n            var self = this;\n            data.frames.forEach(function (frame) {\n                // fix wrongly formatted JSON (e.g. last dummy object in ShoeBox)\n                if (frame.hasOwnProperty(\"filename\")) {\n                    // Source coordinates\n                    var s = frame.frame;\n\n                    var originX, originY;\n                    // Pixel-based offset origin from the top-left of the source frame\n                    var hasTextureAnchorPoint = (frame.spriteSourceSize && frame.sourceSize && frame.pivot);\n                    if (hasTextureAnchorPoint) {\n                        originX = (frame.sourceSize.w * frame.pivot.x) - ((frame.trimmed) ? frame.spriteSourceSize.x : 0);\n                        originY = (frame.sourceSize.h * frame.pivot.y) - ((frame.trimmed) ? frame.spriteSourceSize.y : 0);\n                    }\n\n                    atlas[frame.filename] = {\n                        name         : frame.filename, // frame name\n                        texture      : data.meta.image || \"default\", // the source texture\n                        offset       : new me.Vector2d(s.x, s.y),\n                        anchorPoint  : (hasTextureAnchorPoint) ? new me.Vector2d(originX / s.w, originY / s.h) : null,\n                        trimmed      : !!frame.trimmed,\n                        width        : s.w,\n                        height       : s.h,\n                        angle        : (frame.rotated === true) ? -me.Math.ETA : 0\n                    };\n                    self.addUvsMap(atlas, frame.filename, data.meta.size.w, data.meta.size.h);\n                }\n            });\n            return atlas;\n        },\n\n        /**\n         * build an atlas from the given spritesheet\n         * @ignore\n         */\n        parseFromSpriteSheet : function (data) {\n            var atlas = {};\n            var image = data.image;\n            var spacing = data.spacing || 0;\n            var margin = data.margin || 0;\n\n            var width = image.width;\n            var height = image.height;\n\n            // calculate the sprite count (line, col)\n            var spritecount = me.pool.pull(\"me.Vector2d\",\n                ~~((width - margin + spacing) / (data.framewidth + spacing)),\n                ~~((height - margin + spacing) / (data.frameheight + spacing))\n            );\n\n            // verifying the texture size\n            if ((width % (data.framewidth + spacing)) !== 0 ||\n                (height % (data.frameheight + spacing)) !== 0) {\n                // \"truncate size\"\n                width = spritecount.x * (data.framewidth + spacing);\n                height = spritecount.y * (data.frameheight + spacing);\n                // warning message\n                console.warn(\n                    \"Spritesheet Texture for image: \" + image.src +\n                    \" is not divisible by \" + (data.framewidth + spacing) +\n                    \"x\" + (data.frameheight + spacing) +\n                    \", truncating effective size to \" + width + \"x\" + height\n                );\n            }\n\n            // build the local atlas\n            for (var frame = 0, count = spritecount.x * spritecount.y; frame < count; frame++) {\n                var name = \"\" + frame;\n                atlas[name] = {\n                    name        : name,\n                    texture     : \"default\", // the source texture\n                    offset      : new me.Vector2d(\n                        margin + (spacing + data.framewidth) * (frame % spritecount.x),\n                        margin + (spacing + data.frameheight) * ~~(frame / spritecount.x)\n                    ),\n                    anchorPoint : (data.anchorPoint || null),\n                    trimmed     : false,\n                    width       : data.framewidth,\n                    height      : data.frameheight,\n                    angle       : 0\n                };\n                this.addUvsMap(atlas, name, width, height);\n            }\n\n            me.pool.push(spritecount);\n\n            return atlas;\n        },\n\n        /**\n         * @ignore\n         */\n        addUvsMap : function (atlas, frame, w, h) {\n            // ignore if using the Canvas Renderer\n            if (me.video.renderer instanceof me.WebGLRenderer) {\n                // Source coordinates\n                var s = atlas[frame].offset;\n                var sw = atlas[frame].width;\n                var sh = atlas[frame].height;\n\n                atlas[frame].uvs = new Float32Array([\n                    s.x / w,        // Left\n                    s.y / h,        // Top\n                    (s.x + sw) / w, // Right\n                    (s.y + sh) / h  // Bottom\n                ]);\n                // Cache source coordinates\n                // TODO: Remove this when the Batcher only accepts a region name\n                var key = s.x + \",\" + s.y + \",\" + w + \",\" + h;\n                atlas[key] = atlas[frame];\n            }\n            return atlas[frame];\n        },\n\n        /**\n         * @ignore\n         */\n        addQuadRegion : function (name, x, y, w, h) {\n            // TODO: Require proper atlas regions instead of caching arbitrary region keys\n            if (me.video.renderer.settings.verbose === true) {\n                console.warn(\"Adding texture region\", name, \"for texture\", this);\n            }\n\n            var source = this.getTexture();\n            var atlas = this.getAtlas();\n            var dw = source.width;\n            var dh = source.height;\n\n            atlas[name] = {\n                name    : name,\n                offset  : new me.Vector2d(x, y),\n                width   : w,\n                height  : h,\n                angle   : 0\n            };\n\n            this.addUvsMap(atlas, name, dw, dh);\n\n            return atlas[name];\n        },\n\n        /**\n         * return the default or specified atlas dictionnary\n         * @name getAtlas\n         * @memberOf me.Renderer.Texture\n         * @function\n         * @param {String} [name] atlas name in case of multipack textures\n         * @return {Object}\n         */\n        getAtlas : function (key) {\n            if (typeof key === \"string\") {\n                return this.atlases.get(key);\n            } else {\n                return this.atlases.values().next().value;\n            }\n        },\n\n        /**\n         * return the source texture for the given region (or default one if none specified)\n         * @name getTexture\n         * @memberOf me.Renderer.Texture\n         * @function\n         * @param {Object} [region] region name in case of multipack textures\n         * @return {HTMLImageElement|HTMLCanvasElement}\n         */\n        getTexture : function (region) {\n            if ((typeof region === \"object\") && (typeof region.texture === \"string\")) {\n                return this.sources.get(region.texture);\n            } else {\n                return this.sources.values().next().value;\n            }\n        },\n\n        /**\n         * return a normalized region (or frame) information for the specified sprite name\n         * @name getRegion\n         * @memberOf me.Renderer.Texture\n         * @function\n         * @param {String} name name of the sprite\n         * @param {String} [atlas] name of a specific atlas where to search for the region\n         * @return {Object}\n         */\n        getRegion : function (name, atlas) {\n            var region;\n            if (typeof atlas === \"string\") {\n                region = this.getAtlas(atlas)[name];\n            } else {\n                // look for the given region in each existing atlas\n                this.atlases.forEach(function (atlas) {\n                    if (typeof atlas[name] !== \"undefined\") {\n                        // there should be only one\n                        region = atlas[name];\n                    }\n                });\n            }\n            return region;\n        },\n\n        /**\n         * return the uvs mapping for the given region\n         * @name getUVs\n         * @memberOf me.Renderer.Texture\n         * @function\n         * @param {Object} region region (or frame) name\n         * @return {Float32Array} region Uvs\n         */\n        getUVs : function (name) {\n            // Get the source texture region\n            var region = this.getRegion(name);\n\n            if (typeof(region) === \"undefined\") {\n                // TODO: Require proper atlas regions instead of caching arbitrary region keys\n                var keys = name.split(\",\"),\n                    sx = +keys[0],\n                    sy = +keys[1],\n                    sw = +keys[2],\n                    sh = +keys[3];\n                region = this.addQuadRegion(name, sx, sy, sw, sh);\n            }\n            return region.uvs;\n        },\n\n        /**\n         * Create a sprite object using the first region found using the specified name\n         * @name createSpriteFromName\n         * @memberOf me.Renderer.Texture\n         * @function\n         * @param {String} name name of the sprite\n         * @param {Object} [settings] Additional settings passed to the {@link me.Sprite} contructor\n         * @return {me.Sprite}\n         * @example\n         * // create a new texture object under the `game` namespace\n         * game.texture = new me.video.renderer.Texture(\n         *    me.loader.getJSON(\"texture\"),\n         *    me.loader.getImage(\"texture\")\n         * );\n         * ...\n         * ...\n         * // add the coin sprite as renderable for the entity\n         * this.renderable = game.texture.createSpriteFromName(\"coin.png\");\n         * // set the renderable position to bottom center\n         * this.anchorPoint.set(0.5, 1.0);\n         */\n        createSpriteFromName : function (name, settings) {\n            // instantiate a new sprite object\n            return me.pool.pull(\n                \"me.Sprite\",\n                0, 0,\n                Object.assign({\n                    image: this,\n                    region : name\n                }, settings || {})\n            );\n        },\n\n        /**\n         * Create an animation object using the first region found using all specified names\n         * @name createAnimationFromName\n         * @memberOf me.Renderer.Texture\n         * @function\n         * @param {String[]|Number[]} names list of names for each sprite\n         * (when manually creating a Texture out of a spritesheet, only numeric values are authorized)\n         * @param {Object} [settings] Additional settings passed to the {@link me.Sprite} contructor\n         * @return {me.Sprite}\n         * @example\n         * // create a new texture object under the `game` namespace\n         * game.texture = new me.video.renderer.Texture(\n         *     me.loader.getJSON(\"texture\"),\n         *     me.loader.getImage(\"texture\")\n         * );\n         *\n         * // create a new Sprite as renderable for the entity\n         * this.renderable = game.texture.createAnimationFromName([\n         *     \"walk0001.png\", \"walk0002.png\", \"walk0003.png\",\n         *     \"walk0004.png\", \"walk0005.png\", \"walk0006.png\",\n         *     \"walk0007.png\", \"walk0008.png\", \"walk0009.png\",\n         *     \"walk0010.png\", \"walk0011.png\"\n         * ]);\n         *\n         * // define an additional basic walking animation\n         * this.renderable.addAnimation (\"simple_walk\", [0,2,1]);\n         * // you can also use frame name to define your animation\n         * this.renderable.addAnimation (\"speed_walk\", [\"walk0007.png\", \"walk0008.png\", \"walk0009.png\", \"walk0010.png\"]);\n         * // set the default animation\n         * this.renderable.setCurrentAnimation(\"simple_walk\");\n         * // set the renderable position to bottom center\n         * this.anchorPoint.set(0.5, 1.0);\n         */\n        createAnimationFromName : function (names, settings) {\n            var tpAtlas = [], indices = {};\n            var width = 0, height = 0;\n            var region;\n            // iterate through the given names\n            // and create a \"normalized\" atlas\n            for (var i = 0; i < names.length; ++i) {\n                region = this.getRegion(names[i]);\n                if (region == null) {\n                    // throw an error\n                    throw new Error(\"Texture - region for \" + names[i] + \" not found\");\n                }\n                tpAtlas[i] = region;\n                // save the corresponding index\n                indices[names[i]] = i;\n                // calculate the max size of a frame\n                width = Math.max(region.width, width);\n                height = Math.max(region.height, height);\n            }\n            // instantiate a new animation sheet object\n            return new me.Sprite(0, 0, Object.assign({\n                image: this,\n                framewidth: width,\n                frameheight: height,\n                margin: 0,\n                spacing: 0,\n                atlas: tpAtlas,\n                atlasIndices: indices\n            }, settings || {}));\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * a basic texture cache object\n     * @ignore\n     */\n    me.Renderer.TextureCache = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (max_size) {\n            this.cache = new Map();\n            this.units = new Map();\n            this.max_size = max_size || Infinity;\n            this.clear();\n        },\n\n        /**\n         * @ignore\n         */\n        clear : function () {\n            this.cache.clear();\n            this.units.clear();\n            this.length = 0;\n        },\n\n        /**\n         * @ignore\n         */\n        validate : function () {\n            if (this.length >= this.max_size) {\n                // TODO: Merge textures instead of throwing an exception\n                throw new Error(\n                    \"Texture cache overflow: \" + this.max_size +\n                    \" texture units available.\"\n                );\n            }\n        },\n\n        /**\n         * @ignore\n         */\n        get : function (image, atlas) {\n            if (!this.cache.has(image)) {\n                if (!atlas) {\n                    atlas = me.video.renderer.Texture.prototype.createAtlas.apply(\n                        me.video.renderer.Texture.prototype,\n                        [image.width, image.height, image.src ? me.utils.file.getBasename(image.src) : undefined]\n                    );\n                }\n                this.set(image, new me.video.renderer.Texture(atlas, image, false));\n            }\n            return this.cache.get(image);\n        },\n\n        /**\n         * @ignore\n         */\n        set : function (image, texture) {\n            var width = image.width;\n            var height = image.height;\n\n            // warn if a non POT texture is added to the cache\n            if (!me.Math.isPowerOfTwo(width) || !me.Math.isPowerOfTwo(height)) {\n                var src = typeof image.src !== \"undefined\" ? image.src : image;\n                console.warn(\n                    \"[Texture] \" + src + \" is not a POT texture \" +\n                    \"(\" + width + \"x\" + height + \")\"\n                );\n            }\n\n            this.validate();\n            this.cache.set(image, texture);\n            this.units.set(texture, this.length++);\n        },\n\n        /**\n         * @ignore\n         */\n        getUnit : function (texture) {\n            return this.units.get(texture);\n        }\n    });\n\n})();\n","(function () {\n\n    /**\n     * a canvas renderer object\n     * @class\n     * @extends me.Renderer\n     * @memberOf me\n     * @constructor\n     * @param {HTMLCanvasElement} canvas The html canvas tag to draw to on screen.\n     * @param {Number} width The width of the canvas without scaling\n     * @param {Number} height The height of the canvas without scaling\n     * @param {Object} [options] The renderer parameters\n     * @param {Boolean} [options.doubleBuffering=false] Whether to enable double buffering\n     * @param {Boolean} [options.antiAlias=false] Whether to enable anti-aliasing\n     * @param {Boolean} [options.transparent=false] Whether to enable transparency on the canvas (performance hit when enabled)\n     * @param {Boolean} [options.subPixel=false] Whether to enable subpixel renderering (performance hit when enabled)\n     * @param {Boolean} [options.textureSeamFix=true] enable the texture seam fix when rendering Tile when antiAlias is off for the canvasRenderer\n     * @param {Number} [options.zoomX=width] The actual width of the canvas with scaling applied\n     * @param {Number} [options.zoomY=height] The actual height of the canvas with scaling applied\n     */\n    me.CanvasRenderer = me.Renderer.extend({\n        /**\n         * @ignore\n         */\n        init : function (c, width, height, options) {\n            // parent constructor\n            this._super(me.Renderer, \"init\", [c, width, height, options]);\n\n            // defined the 2d context\n            this.context = this.getContext2d(this.canvas, this.settings.transparent);\n\n            // create the back buffer if we use double buffering\n            if (this.settings.doubleBuffering) {\n                this.backBufferCanvas = me.video.createCanvas(width, height);\n                this.backBufferContext2D = this.getContext2d(this.backBufferCanvas);\n\n                if (this.settings.transparent) {\n                    // Clears the front buffer for each frame blit\n                    this.context.globalCompositeOperation = \"copy\";\n                }\n            }\n            else {\n                this.backBufferCanvas = this.canvas;\n                this.backBufferContext2D = this.context;\n            }\n\n            this.setBlendMode(this.settings.blendMode);\n\n            // apply the default color to the 2d context\n            this.setColor(this.currentColor);\n\n            // create a texture cache\n            this.cache = new me.Renderer.TextureCache();\n\n            if (this.settings.textureSeamFix !== false  && !this.settings.antiAlias) {\n                // enable the tile texture seam fix with the canvas renderer\n                this.uvOffset = 1;\n            }\n\n            return this;\n        },\n\n        /**\n         * Reset context state\n         * @name reset\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         */\n        reset : function () {\n            this._super(me.Renderer, \"reset\");\n        },\n\n        /**\n         * Reset the canvas transform to identity\n         * @name resetTransform\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         */\n        resetTransform : function () {\n            this.backBufferContext2D.setTransform(1, 0, 0, 1, 0, 0);\n        },\n\n        /**\n         * Set a blend mode for the given context\n         * @name setBlendMode\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {String} [mode=\"normal\"] blend mode : \"normal\", \"multiply\"\n         * @param {Context2d} [context]\n         */\n        setBlendMode : function (mode, context) {\n            context = context || this.getContext();\n            this.currentBlendMode = mode;\n            switch (mode) {\n                case \"multiply\" :\n                    context.globalCompositeOperation = \"multiply\";\n                    break;\n\n                default : // normal\n                    context.globalCompositeOperation = \"source-over\";\n                    this.currentBlendMode = \"normal\";\n                    break;\n            }\n        },\n\n        /**\n         * prepare the framebuffer for drawing a new frame\n         * @name clear\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         */\n        clear : function () {\n            if (this.settings.transparent) {\n                this.clearColor(\"rgba(0,0,0,0)\", true);\n            }\n        },\n\n        /**\n         * render the main framebuffer on screen\n         * @name flush\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         */\n        flush : function () {\n            if (this.settings.doubleBuffering) {\n                this.context.drawImage(\n                    this.backBufferCanvas, 0, 0,\n                    this.backBufferCanvas.width, this.backBufferCanvas.height,\n                    0, 0,\n                    this.gameWidthZoom, this.gameHeightZoom\n                );\n            }\n        },\n\n        /**\n         * Clears the main framebuffer with the given color\n         * @name clearColor\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {me.Color|String} color CSS color.\n         * @param {Boolean} [opaque=false] Allow transparency [default] or clear the surface completely [true]\n         */\n        clearColor : function (col, opaque) {\n            this.save();\n            this.resetTransform();\n            this.backBufferContext2D.globalCompositeOperation = opaque ? \"copy\" : \"source-over\";\n            this.backBufferContext2D.fillStyle = (col instanceof me.Color) ? col.toRGBA() : col;\n            this.fillRect(0, 0, this.backBufferCanvas.width, this.backBufferCanvas.height);\n            this.restore();\n        },\n\n        /**\n         * Erase the pixels in the given rectangular area by setting them to transparent black (rgba(0,0,0,0)).\n         * @name clearRect\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x x axis of the coordinate for the rectangle starting point.\n         * @param {Number} y y axis of the coordinate for the rectangle starting point.\n         * @param {Number} width The rectangle's width.\n         * @param {Number} height The rectangle's height.\n         */\n        clearRect : function (x, y, width, height) {\n            this.backBufferContext2D.clearRect(x, y, width, height);\n        },\n\n        /**\n         * Create a pattern with the specified repetition\n         * @name createPattern\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {image} image Source image\n         * @param {String} repeat Define how the pattern should be repeated\n         * @return {CanvasPattern}\n         * @see me.ImageLayer#repeat\n         * @example\n         * var tileable   = renderer.createPattern(image, \"repeat\");\n         * var horizontal = renderer.createPattern(image, \"repeat-x\");\n         * var vertical   = renderer.createPattern(image, \"repeat-y\");\n         * var basic      = renderer.createPattern(image, \"no-repeat\");\n         */\n        createPattern : function (image, repeat) {\n            return this.backBufferContext2D.createPattern(image, repeat);\n        },\n\n        /**\n         * Draw an image onto the main using the canvas api\n         * @name drawImage\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Image} image An element to draw into the context. The specification permits any canvas image source (CanvasImageSource), specifically, a CSSImageValue, an HTMLImageElement, an SVGImageElement, an HTMLVideoElement, an HTMLCanvasElement, an ImageBitmap, or an OffscreenCanvas.\n         * @param {Number} sx The X coordinate of the top left corner of the sub-rectangle of the source image to draw into the destination context.\n         * @param {Number} sy The Y coordinate of the top left corner of the sub-rectangle of the source image to draw into the destination context.\n         * @param {Number} sw The width of the sub-rectangle of the source image to draw into the destination context. If not specified, the entire rectangle from the coordinates specified by sx and sy to the bottom-right corner of the image is used.\n         * @param {Number} sh The height of the sub-rectangle of the source image to draw into the destination context.\n         * @param {Number} dx The X coordinate in the destination canvas at which to place the top-left corner of the source image.\n         * @param {Number} dy The Y coordinate in the destination canvas at which to place the top-left corner of the source image.\n         * @param {Number} dWidth The width to draw the image in the destination canvas. This allows scaling of the drawn image. If not specified, the image is not scaled in width when drawn.\n         * @param {Number} dHeight The height to draw the image in the destination canvas. This allows scaling of the drawn image. If not specified, the image is not scaled in height when drawn.\n         * @example\n         * // Position the image on the canvas:\n         * renderer.drawImage(image, dx, dy);\n         * // Position the image on the canvas, and specify width and height of the image:\n         * renderer.drawImage(image, dx, dy, dWidth, dHeight);\n         * // Clip the image and position the clipped part on the canvas:\n         * renderer.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n         */\n        drawImage : function (image, sx, sy, sw, sh, dx, dy, dw, dh) {\n            if (this.backBufferContext2D.globalAlpha < 1 / 255) {\n                // Fast path: don't draw fully transparent\n                return;\n            }\n\n            if (typeof sw === \"undefined\") {\n                sw = dw = image.width;\n                sh = dh = image.height;\n                dx = sx;\n                dy = sy;\n                sx = 0;\n                sy = 0;\n            }\n            else if (typeof dx === \"undefined\") {\n                dx = sx;\n                dy = sy;\n                dw = sw;\n                dh = sh;\n                sw = image.width;\n                sh = image.height;\n                sx = 0;\n                sy = 0;\n            }\n\n            if (this.settings.subPixel === false) {\n                // clamp to pixel grid\n                dx = ~~dx;\n                dy = ~~dy;\n            }\n\n            this.backBufferContext2D.drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh);\n        },\n\n        /**\n         * Draw a pattern within the given rectangle.\n         * @name drawPattern\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {CanvasPattern} pattern Pattern object\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} width\n         * @param {Number} height\n         * @see me.CanvasRenderer#createPattern\n         */\n        drawPattern : function (pattern, x, y, width, height) {\n            if (this.backBufferContext2D.globalAlpha < 1 / 255) {\n                // Fast path: don't draw fully transparent\n                return;\n            }\n            var fillStyle = this.backBufferContext2D.fillStyle;\n            this.backBufferContext2D.fillStyle = pattern;\n            this.backBufferContext2D.fillRect(x, y, width, height);\n            this.backBufferContext2D.fillStyle = fillStyle;\n        },\n\n        /**\n         * Stroke an arc at the specified coordinates with given radius, start and end points\n         * @name strokeArc\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x arc center point x-axis\n         * @param {Number} y arc center point y-axis\n         * @param {Number} radius\n         * @param {Number} start start angle in radians\n         * @param {Number} end end angle in radians\n         * @param {Boolean} [antiClockwise=false] draw arc anti-clockwise\n         */\n        strokeArc : function (x, y, radius, start, end, antiClockwise, fill) {\n            var context = this.backBufferContext2D;\n\n            if (context.globalAlpha < 1 / 255) {\n                // Fast path: don't draw fully transparent\n                return;\n            }\n            this.translate(x + radius, y + radius);\n            context.beginPath();\n            context.arc(0, 0, radius, start, end, antiClockwise || false);\n            context[fill === true ? \"fill\" : \"stroke\"]();\n            context.closePath();\n            this.translate(-(x + radius), -(y + radius));\n        },\n\n        /**\n         * Fill an arc at the specified coordinates with given radius, start and end points\n         * @name fillArc\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x arc center point x-axis\n         * @param {Number} y arc center point y-axis\n         * @param {Number} radius\n         * @param {Number} start start angle in radians\n         * @param {Number} end end angle in radians\n         * @param {Boolean} [antiClockwise=false] draw arc anti-clockwise\n         */\n        fillArc : function (x, y, radius, start, end, antiClockwise) {\n            this.strokeArc(x, y, radius, start, end, antiClockwise || false, true);\n        },\n\n        /**\n         * Stroke an ellipse at the specified coordinates with given radius\n         * @name strokeEllipse\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x ellipse center point x-axis\n         * @param {Number} y ellipse center point y-axis\n         * @param {Number} w horizontal radius of the ellipse\n         * @param {Number} h vertical radius of the ellipse\n         */\n        strokeEllipse : function (x, y, w, h, fill) {\n            var context = this.backBufferContext2D;\n\n            if (context.globalAlpha < 1 / 255) {\n                // Fast path: don't draw fully transparent\n                return;\n            }\n\n            var hw = w,\n                hh = h,\n                lx = x - hw,\n                rx = x + hw,\n                ty = y - hh,\n                by = y + hh;\n\n            var xmagic = hw * 0.551784,\n                ymagic = hh * 0.551784,\n                xmin = x - xmagic,\n                xmax = x + xmagic,\n                ymin = y - ymagic,\n                ymax = y + ymagic;\n\n            context.beginPath();\n            context.moveTo(x, ty);\n            context.bezierCurveTo(xmax, ty, rx, ymin, rx, y);\n            context.bezierCurveTo(rx, ymax, xmax, by, x, by);\n            context.bezierCurveTo(xmin, by, lx, ymax, lx, y);\n            context.bezierCurveTo(lx, ymin, xmin, ty, x, ty);\n            context[fill === true ? \"fill\" : \"stroke\"]();\n        },\n\n        /**\n         * Fill an ellipse at the specified coordinates with given radius\n         * @name fillEllipse\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x ellipse center point x-axis\n         * @param {Number} y ellipse center point y-axis\n         * @param {Number} w horizontal radius of the ellipse\n         * @param {Number} h vertical radius of the ellipse\n         */\n        fillEllipse : function (x, y, w, h) {\n            this.strokeEllipse(x, y, w, h, true);\n        },\n\n        /**\n         * Stroke a line of the given two points\n         * @name strokeLine\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} startX the start x coordinate\n         * @param {Number} startY the start y coordinate\n         * @param {Number} endX the end x coordinate\n         * @param {Number} endY the end y coordinate\n         */\n        strokeLine : function (startX, startY, endX, endY) {\n            var context = this.backBufferContext2D;\n\n            if (context < 1 / 255) {\n                // Fast path: don't draw fully transparent\n                return;\n            }\n\n            context.beginPath();\n            context.moveTo(startX, startY);\n            context.lineTo(endX, endY);\n            context.stroke();\n        },\n\n        /**\n         * Fill a line of the given two points\n         * @name fillLine\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} startX the start x coordinate\n         * @param {Number} startY the start y coordinate\n         * @param {Number} endX the end x coordinate\n         * @param {Number} endY the end y coordinate\n         */\n        fillLine : function (startX, startY, endX, endY) {\n            this.strokeLine(startX, startY, endX, endY);\n        },\n\n        /**\n         * Stroke the given me.Polygon on the screen\n         * @name strokePolygon\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {me.Polygon} poly the shape to draw\n         */\n        strokePolygon : function (poly, fill) {\n            var context = this.backBufferContext2D;\n\n            if (context.globalAlpha < 1 / 255) {\n                // Fast path: don't draw fully transparent\n                return;\n            }\n\n            this.translate(poly.pos.x, poly.pos.y);\n            context.beginPath();\n            context.moveTo(poly.points[0].x, poly.points[0].y);\n            var point;\n            for (var i = 1; i < poly.points.length; i++) {\n                point = poly.points[i];\n                context.lineTo(point.x, point.y);\n            }\n            context.lineTo(poly.points[0].x, poly.points[0].y);\n            context[fill === true ? \"fill\" : \"stroke\"]();\n            context.closePath();\n            this.translate(-poly.pos.x, -poly.pos.y);\n        },\n\n        /**\n         * Fill the given me.Polygon on the screen\n         * @name fillPolygon\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {me.Polygon} poly the shape to draw\n         */\n        fillPolygon : function (poly) {\n            this.strokePolygon(poly, true);\n        },\n\n        /**\n         * Stroke a rectangle at the specified coordinates\n         * @name strokeRect\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} width\n         * @param {Number} height\n         */\n        strokeRect : function (x, y, width, height) {\n            if (this.backBufferContext2D.globalAlpha < 1 / 255) {\n                // Fast path: don't draw fully transparent\n                return;\n            }\n            this.backBufferContext2D.strokeRect(x, y, width, height);\n        },\n\n        /**\n         * Draw a filled rectangle at the specified coordinates\n         * @name fillRect\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} width\n         * @param {Number} height\n         */\n        fillRect : function (x, y, width, height) {\n            if (this.backBufferContext2D.globalAlpha < 1 / 255) {\n                // Fast path: don't draw fully transparent\n                return;\n            }\n            this.backBufferContext2D.fillRect(x, y, width, height);\n        },\n\n\n        /**\n         * return a reference to the system 2d Context\n         * @name getContext\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @return {CanvasRenderingContext2D}\n         */\n        getContext : function () {\n            return this.backBufferContext2D;\n        },\n\n        /**\n         * return a reference to the font 2d Context\n         * @ignore\n         */\n        getFontContext : function () {\n            // in canvas mode we can directly use the 2d context\n            return this.getContext();\n        },\n\n        /**\n         * scales the canvas & 2d Context\n         * @name scaleCanvas\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         */\n        scaleCanvas : function (scaleX, scaleY) {\n            this.canvas.width = this.gameWidthZoom = this.backBufferCanvas.width * scaleX;\n            this.canvas.height = this.gameHeightZoom = this.backBufferCanvas.height * scaleY;\n\n            // adjust CSS style for High-DPI devices\n            if (me.device.devicePixelRatio > 1) {\n                this.canvas.style.width = (this.canvas.width / me.device.devicePixelRatio) + \"px\";\n                this.canvas.style.height = (this.canvas.height / me.device.devicePixelRatio) + \"px\";\n            }\n\n            if (this.settings.doubleBuffering && this.settings.transparent) {\n                // Clears the front buffer for each frame blit\n                this.context.globalCompositeOperation = \"copy\";\n            } else {\n                this.setBlendMode(this.settings.blendMode, this.context);\n            }\n            this.setAntiAlias(this.context, this.settings.antiAlias);\n            this.flush();\n        },\n\n        /**\n         * save the canvas context\n         * @name save\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         */\n        save : function () {\n            this.backBufferContext2D.save();\n        },\n\n        /**\n         * restores the canvas context\n         * @name restore\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         */\n        restore : function () {\n            this.backBufferContext2D.restore();\n            this.currentColor.glArray[3] = this.backBufferContext2D.globalAlpha;\n            this.currentScissor[0] = 0;\n            this.currentScissor[1] = 0;\n            this.currentScissor[2] = this.backBufferCanvas.width;\n            this.currentScissor[3] = this.backBufferCanvas.height;\n        },\n\n        /**\n         * rotates the canvas context\n         * @name rotate\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} angle in radians\n         */\n        rotate : function (angle) {\n            this.backBufferContext2D.rotate(angle);\n        },\n\n        /**\n         * scales the canvas context\n         * @name scale\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         */\n        scale : function (x, y) {\n            this.backBufferContext2D.scale(x, y);\n        },\n\n        /**\n         * Set the current fill & stroke style color.\n         * By default, or upon reset, the value is set to #000000.\n         * @name setColor\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {me.Color|String} color css color value\n         */\n        setColor : function (color) {\n            this.backBufferContext2D.strokeStyle =\n            this.backBufferContext2D.fillStyle = (\n                color instanceof me.Color ?\n                color.toRGBA() :\n                color\n            );\n        },\n\n        /**\n         * Set the global alpha on the canvas context\n         * @name setGlobalAlpha\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} alpha 0.0 to 1.0 values accepted.\n         */\n        setGlobalAlpha : function (a) {\n            this.backBufferContext2D.globalAlpha = this.currentColor.glArray[3] = a;\n        },\n\n        /**\n         * Set the line width on the context\n         * @name setLineWidth\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} width Line width\n         */\n        setLineWidth : function (width) {\n            this.backBufferContext2D.lineWidth = width;\n        },\n\n        /**\n         * Reset (overrides) the renderer transformation matrix to the\n         * identity one, and then apply the given transformation matrix.\n         * @name setTransform\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {me.Matrix2d} mat2d Matrix to transform by\n         */\n        setTransform : function (mat2d) {\n            this.resetTransform();\n            this.transform(mat2d);\n        },\n\n        /**\n         * Multiply given matrix into the renderer tranformation matrix\n         * @name transform\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {me.Matrix2d} mat2d Matrix to transform by\n         */\n        transform : function (mat2d) {\n            var a = mat2d.val;\n            var tx = a[6],\n                ty = a[7];\n\n            if (this.settings.subPixel === false) {\n                tx = ~~tx;\n                ty = ~~ty;\n            }\n\n            this.backBufferContext2D.transform(\n                a[0],\n                a[1],\n                a[3],\n                a[4],\n                tx,\n                ty\n            );\n        },\n\n        /**\n         * Translates the context to the given position\n         * @name translate\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         */\n        translate : function (x, y) {\n            if (this.settings.subPixel === false) {\n                this.backBufferContext2D.translate(~~x, ~~y);\n            } else {\n                this.backBufferContext2D.translate(x, y);\n            }\n        },\n\n        /**\n         * clip the given region from the original canvas. Once a region is clipped,\n         * all future drawing will be limited to the clipped region.\n         * You can however save the current region using the save(),\n         * and restore it (with the restore() method) any time in the future.\n         * (<u>this is an experimental feature !</u>)\n         * @name clipRect\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} width\n         * @param {Number} height\n         */\n        clipRect : function (x, y, width, height) {\n            var canvas = this.backBufferCanvas;\n            // if requested box is different from the current canvas size;\n            if (x !== 0 || y !== 0 || width !== canvas.width || height !== canvas.height) {\n                var currentScissor = this.currentScissor;\n                // if different from the current scissor box\n                if (currentScissor[0] !== x || currentScissor[1] !== y ||\n                    currentScissor[2] !== width || currentScissor[3] !== height) {\n                    var context = this.backBufferContext2D;\n                    context.beginPath();\n                    context.rect(x, y, width, height);\n                    context.clip();\n                    // save the new currentScissor box\n                    currentScissor[0] = x;\n                    currentScissor[1] = y;\n                    currentScissor[2] = width;\n                    currentScissor[3] = height;\n                }\n            }\n        },\n\n        /**\n         * A mask limits rendering elements to the shape and position of the given mask object.\n         * So, if the renderable is larger than the mask, only the intersecting part of the renderable will be visible.\n         * Mask are not preserved through renderer context save and restore.\n         * @name setMask\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         * @param {me.Rect|me.Polygon|me.Line|me.Ellipse} [mask] the shape defining the mask to be applied\n         */\n        setMask : function (mask) {\n            var context = this.backBufferContext2D;\n            var _x = mask.pos.x, _y = mask.pos.y;\n\n            // https://github.com/melonjs/melonJS/issues/648\n            if (mask instanceof me.Ellipse) {\n                var hw = mask.radiusV.x,\n                    hh = mask.radiusV.y,\n                    lx = _x - hw,\n                    rx = _x + hw,\n                    ty = _y - hh,\n                    by = _y + hh;\n\n                var xmagic = hw * 0.551784,\n                    ymagic = hh * 0.551784,\n                    xmin = _x - xmagic,\n                    xmax = _x + xmagic,\n                    ymin = _y - ymagic,\n                    ymax = _y + ymagic;\n\n                context.beginPath();\n                context.moveTo(_x, ty);\n                context.bezierCurveTo(xmax, ty, rx, ymin, rx, _y);\n                context.bezierCurveTo(rx, ymax, xmax, by, _x, by);\n                context.bezierCurveTo(xmin, by, lx, ymax, lx, _y);\n                context.bezierCurveTo(lx, ymin, xmin, ty, _x, ty);\n            } else {\n                context.save();\n                context.beginPath();\n                context.moveTo(_x + mask.points[0].x, _y + mask.points[0].y);\n                var point;\n                for (var i = 1; i < mask.points.length; i++) {\n                    point = mask.points[i];\n                    context.lineTo(_x + point.x, _y + point.y);\n                }\n                context.closePath();\n            }\n            context.clip();\n        },\n\n        /**\n         * disable (remove) the rendering mask set through setMask.\n         * @name clearMask\n         * @see setMask\n         * @memberOf me.CanvasRenderer.prototype\n         * @function\n         */\n        clearMask : function() {\n            this.backBufferContext2D.restore();\n        }\n\n    });\n\n})();\n","(function () {\n\n    /**\n     * a WebGL renderer object\n     * @extends me.Renderer\n     * @namespace me.WebGLRenderer\n     * @memberOf me\n     * @constructor\n     * @param {HTMLCanvasElement} canvas The html canvas tag to draw to on screen.\n     * @param {Number} width The width of the canvas without scaling\n     * @param {Number} height The height of the canvas without scaling\n     * @param {Object} [options] The renderer parameters\n     * @param {Boolean} [options.doubleBuffering=false] Whether to enable double buffering\n     * @param {Boolean} [options.antiAlias=false] Whether to enable anti-aliasing\n     * @param {Boolean} [options.failIfMajorPerformanceCaveat=true] If true, the renderer will switch to CANVAS mode if the performances of a WebGL context would be dramatically lower than that of a native application making equivalent OpenGL calls.\n     * @param {Boolean} [options.transparent=false] Whether to enable transparency on the canvas (performance hit when enabled)\n     * @param {Boolean} [options.subPixel=false] Whether to enable subpixel renderering (performance hit when enabled)\n     * @param {Number} [options.zoomX=width] The actual width of the canvas with scaling applied\n     * @param {Number} [options.zoomY=height] The actual height of the canvas with scaling applied\n     * @param {me.WebGLRenderer.Compositor} [options.compositor] A class that implements the compositor API\n     */\n    me.WebGLRenderer = me.Renderer.extend({\n        /**\n         * @ignore\n         */\n        init : function (canvas, width, height, options) {\n            // reference to this renderer\n            var renderer = this;\n\n            // parent contructor\n            this._super(me.Renderer, \"init\", [canvas, width, height, options]);\n\n            /**\n             * The WebGL context\n             * @name gl\n             * @memberOf me.WebGLRenderer\n             * type {WebGLRenderingContext}\n             */\n            this.context = this.gl = this.getContextGL(canvas, this.settings.transparent);\n\n            /**\n             * @ignore\n             */\n            this._colorStack = [];\n\n            /**\n             * @ignore\n             */\n            this._matrixStack = [];\n\n            /**\n             * @ignore\n             */\n            this._scissorStack = [];\n\n            /**\n             * @ignore\n             */\n            this._glPoints = [\n                new me.Vector2d(),\n                new me.Vector2d(),\n                new me.Vector2d(),\n                new me.Vector2d()\n            ];\n\n            /**\n             * The current transformation matrix used for transformations on the overall scene\n             * @name currentTransform\n             * @type me.Matrix2d\n             * @memberOf me.WebGLRenderer#\n             */\n            this.currentTransform = new me.Matrix2d();\n\n            // Create a compositor\n            var Compositor = this.settings.compositor || me.WebGLRenderer.Compositor;\n            this.compositor = new Compositor(this);\n\n\n            // default WebGL state(s)\n            this.gl.disable(this.gl.DEPTH_TEST);\n            this.gl.disable(this.gl.SCISSOR_TEST);\n            this.gl.enable(this.gl.BLEND);\n\n            // set default mode\n            this.setBlendMode(this.settings.blendMode);\n\n            // Create a texture cache\n            this.cache = new me.Renderer.TextureCache(\n                this.compositor.maxTextures\n            );\n\n            // Configure the WebGL viewport\n            this.scaleCanvas(1, 1);\n\n            // to simulate context lost and restore :\n            // var ctx = me.video.renderer.context.getExtension('WEBGL_lose_context');\n            // ctx.loseContext()\n            canvas.addEventListener(\"webglcontextlost\", function (event) {\n                event.preventDefault();\n                renderer.isContextValid = false;\n                me.event.publish(me.event.WEBGL_ONCONTEXT_LOST, [ renderer ]);\n            }, false );\n            // ctx.restoreContext()\n            canvas.addEventListener(\"webglcontextrestored\", function (event) {\n                renderer.reset();\n                renderer.isContextValid = true;\n                me.event.publish(me.event.WEBGL_ONCONTEXT_RESTORED, [ renderer ]);\n            }, false );\n\n            return this;\n        },\n\n        /**\n         * Reset context state\n         * @name reset\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         */\n        reset : function () {\n            this._super(me.Renderer, \"reset\");\n            if (this.isContextValid === false) {\n                // on context lost/restore\n                this.compositor.init(this);\n            } else {\n                this.compositor.reset();\n            }\n            this.gl.disable(this.gl.SCISSOR_TEST);\n            if (typeof this.fontContext2D !== \"undefined\" ) {\n                this.createFontTexture(this.cache);\n            }\n\n        },\n\n        /**\n         * Reset the gl transform to identity\n         * @name resetTransform\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         */\n        resetTransform : function () {\n            this.currentTransform.identity();\n        },\n\n        /**\n         * @ignore\n         */\n        createFontTexture : function (cache) {\n            if (typeof this.fontTexture === \"undefined\") {\n                var image = me.video.createCanvas(\n                    me.Math.nextPowerOfTwo(this.backBufferCanvas.width),\n                    me.Math.nextPowerOfTwo(this.backBufferCanvas.height)\n                );\n\n                /**\n                 * @ignore\n                 */\n                this.fontContext2D = this.getContext2d(image);\n\n                /**\n                 * @ignore\n                 */\n                this.fontTexture = new this.Texture(\n                    this.Texture.prototype.createAtlas.apply(\n                        this.Texture.prototype,\n                        [ this.backBufferCanvas.width, this.backBufferCanvas.height, \"fontTexture\"]\n                    ),\n                    image,\n                    cache\n                );\n            }\n            else {\n               // fontTexture was already created, just add it back into the cache\n               cache.set(this.fontContext2D.canvas, this.fontTexture);\n           }\n           this.compositor.uploadTexture(this.fontTexture, 0, 0, 0);\n\n\n\n        },\n\n        /**\n         * Create a pattern with the specified repetition\n         * @name createPattern\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {image} image Source image\n         * @param {String} repeat Define how the pattern should be repeated\n         * @return {me.video.renderer.Texture}\n         * @see me.ImageLayer#repeat\n         * @example\n         * var tileable   = renderer.createPattern(image, \"repeat\");\n         * var horizontal = renderer.createPattern(image, \"repeat-x\");\n         * var vertical   = renderer.createPattern(image, \"repeat-y\");\n         * var basic      = renderer.createPattern(image, \"no-repeat\");\n         */\n        createPattern : function (image, repeat) {\n\n            if (!me.Math.isPowerOfTwo(image.width) || !me.Math.isPowerOfTwo(image.height)) {\n                var src = typeof image.src !== \"undefined\" ? image.src : image;\n                throw new Error(\n                    \"[WebGL Renderer] \" + src + \" is not a POT texture \" +\n                    \"(\" + image.width + \"x\" + image.height + \")\"\n                );\n            }\n\n            var texture = new this.Texture(\n                this.Texture.prototype.createAtlas.apply(\n                    this.Texture.prototype,\n                    [ image.width, image.height, \"pattern\", repeat]\n                ),\n                image\n            );\n\n            // FIXME: Remove old cache entry and texture when changing the repeat mode\n            this.compositor.uploadTexture(texture);\n\n            return texture;\n        },\n\n        /**\n         * Flush the compositor to the frame buffer\n         * @name flush\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         */\n        flush : function () {\n            this.compositor.flush();\n        },\n\n        /**\n         * Clears the gl context with the given color.\n         * @name clearColor\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {me.Color|String} color CSS color.\n         * @param {Boolean} [opaque=false] Allow transparency [default] or clear the surface completely [true]\n         */\n        clearColor : function (col, opaque) {\n            this.save();\n            this.resetTransform();\n            this.currentColor.copy(col);\n            if (opaque) {\n                this.compositor.clear();\n            }\n            else {\n                this.fillRect(0, 0, this.canvas.width, this.canvas.height);\n            }\n            this.restore();\n        },\n\n        /**\n         * Erase the pixels in the given rectangular area by setting them to transparent black (rgba(0,0,0,0)).\n         * @name clearRect\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x x axis of the coordinate for the rectangle starting point.\n         * @param {Number} y y axis of the coordinate for the rectangle starting point.\n         * @param {Number} width The rectangle's width.\n         * @param {Number} height The rectangle's height.\n         */\n        clearRect : function (x, y, width, height) {\n            var color = this.currentColor.clone();\n            this.currentColor.copy(\"#000000\");\n            this.fillRect(x, y, width, height);\n            this.currentColor.copy(color);\n            me.pool.push(color);\n        },\n\n        /**\n         * @ignore\n         */\n        drawFont : function (bounds) {\n            var fontContext = this.getFontContext();\n\n            // Flush the compositor so we can upload a new texture\n            this.flush();\n\n            // Force-upload the new texture\n            this.compositor.uploadTexture(this.fontTexture, 0, 0, 0, true);\n\n            // Add the new quad\n            var key = bounds.pos.x + \",\" + bounds.pos.y + \",\" + bounds.width + \",\" + bounds.height;\n            this.compositor.addQuad(\n                this.fontTexture,\n                key,\n                bounds.pos.x,\n                bounds.pos.y,\n                bounds.width,\n                bounds.height\n            );\n\n            // Clear font context2D\n            fontContext.clearRect(\n                bounds.pos.x,\n                bounds.pos.y,\n                bounds.width,\n                bounds.height\n            );\n        },\n\n        /**\n         * Draw an image to the gl context\n         * @name drawImage\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Image} image An element to draw into the context. The specification permits any canvas image source (CanvasImageSource), specifically, a CSSImageValue, an HTMLImageElement, an SVGImageElement, an HTMLVideoElement, an HTMLCanvasElement, an ImageBitmap, or an OffscreenCanvas.\n         * @param {Number} sx The X coordinate of the top left corner of the sub-rectangle of the source image to draw into the destination context.\n         * @param {Number} sy The Y coordinate of the top left corner of the sub-rectangle of the source image to draw into the destination context.\n         * @param {Number} sw The width of the sub-rectangle of the source image to draw into the destination context. If not specified, the entire rectangle from the coordinates specified by sx and sy to the bottom-right corner of the image is used.\n         * @param {Number} sh The height of the sub-rectangle of the source image to draw into the destination context.\n         * @param {Number} dx The X coordinate in the destination canvas at which to place the top-left corner of the source image.\n         * @param {Number} dy The Y coordinate in the destination canvas at which to place the top-left corner of the source image.\n         * @param {Number} dWidth The width to draw the image in the destination canvas. This allows scaling of the drawn image. If not specified, the image is not scaled in width when drawn.\n         * @param {Number} dHeight The height to draw the image in the destination canvas. This allows scaling of the drawn image. If not specified, the image is not scaled in height when drawn.\n         * @example\n         * // Position the image on the canvas:\n         * renderer.drawImage(image, dx, dy);\n         * // Position the image on the canvas, and specify width and height of the image:\n         * renderer.drawImage(image, dx, dy, dWidth, dHeight);\n         * // Clip the image and position the clipped part on the canvas:\n         * renderer.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n         */\n        drawImage : function (image, sx, sy, sw, sh, dx, dy, dw, dh) {\n            if (typeof sw === \"undefined\") {\n                sw = dw = image.width;\n                sh = dh = image.height;\n                dx = sx;\n                dy = sy;\n                sx = 0;\n                sy = 0;\n            }\n            else if (typeof dx === \"undefined\") {\n                dx = sx;\n                dy = sy;\n                dw = sw;\n                dh = sh;\n                sw = image.width;\n                sh = image.height;\n                sx = 0;\n                sy = 0;\n            }\n\n            if (this.settings.subPixel === false) {\n                // clamp to pixel grid\n                dx = ~~dx;\n                dy = ~~dy;\n            }\n\n            var key = sx + \",\" + sy + \",\" + sw + \",\" + sh;\n            this.compositor.addQuad(this.cache.get(image), key, dx, dy, dw, dh);\n        },\n\n        /**\n         * Draw a pattern within the given rectangle.\n         * @name drawPattern\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {me.video.renderer.Texture} pattern Pattern object\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} width\n         * @param {Number} height\n         * @see me.WebGLRenderer#createPattern\n         */\n        drawPattern : function (pattern, x, y, width, height) {\n            var key = \"0,0,\" + width + \",\" + height;\n            this.compositor.addQuad(pattern, key, x, y, width, height);\n        },\n\n\n        /**\n         * return a reference to the screen canvas corresponding WebGL Context\n         * @name getScreenContext\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @return {WebGLRenderingContext}\n         */\n        getScreenContext : function () {\n            return this.gl;\n        },\n\n        /**\n         * Returns the WebGL Context object of the given Canvas\n         * @name getContextGL\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Canvas} canvas\n         * @param {Boolean} [transparent=true] use false to disable transparency\n         * @return {WebGLRenderingContext}\n         */\n        getContextGL : function (canvas, transparent) {\n            if (typeof canvas === \"undefined\" || canvas === null) {\n                throw new Error(\n                    \"You must pass a canvas element in order to create \" +\n                    \"a GL context\"\n                );\n            }\n\n            if (typeof transparent !== \"boolean\") {\n                transparent = true;\n            }\n\n            var attr = {\n                alpha : transparent,\n                antialias : this.settings.antiAlias,\n                depth : false,\n                stencil: true,\n                premultipliedAlpha: transparent,\n                failIfMajorPerformanceCaveat : this.settings.failIfMajorPerformanceCaveat\n            };\n\n            var gl = canvas.getContext(\"webgl\", attr) || canvas.getContext(\"experimental-webgl\", attr);\n\n            if (!gl) {\n                throw new Error(\n                    \"A WebGL context could not be created.\"\n                );\n            }\n\n            return gl;\n        },\n\n        /**\n         * Returns the WebGLContext instance for the renderer\n         * return a reference to the system 2d Context\n         * @name getContext\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @return {WebGLRenderingContext}\n         */\n        getContext : function () {\n            return this.gl;\n        },\n\n        /**\n         * set a blend mode for the given context\n         * @name setBlendMode\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {String} [mode=\"normal\"] blend mode : \"normal\", \"multiply\"\n         * @param {WebGLRenderingContext} [gl]\n         */\n        setBlendMode : function (mode, gl) {\n            gl = gl || this.gl;\n\n\n            gl.enable(gl.BLEND);\n            switch (mode) {\n                case \"multiply\" :\n                    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n                    this.currentBlendMode = mode;\n                    break;\n\n                default :\n                    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n                    this.currentBlendMode = \"normal\";\n                    break;\n            }\n        },\n\n        /**\n         * return a reference to the font 2d Context\n         * @ignore\n         */\n        getFontContext : function () {\n            if (typeof this.fontContext2D === \"undefined\" ) {\n                // warn the end user about performance impact\n                console.warn(\"[WebGL Renderer] WARNING : Using Standard me.Text with WebGL will severly impact performances !\");\n                // create the font texture if not done yet\n                this.createFontTexture(this.cache);\n            }\n            return this.fontContext2D;\n        },\n\n        /**\n         * scales the canvas & GL Context\n         * @name scaleCanvas\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         */\n        scaleCanvas : function (scaleX, scaleY) {\n            var w = this.canvas.width * scaleX;\n            var h = this.canvas.height * scaleY;\n\n            // adjust CSS style for High-DPI devices\n            if (me.device.devicePixelRatio > 1) {\n                this.canvas.style.width = (w / me.device.devicePixelRatio) + \"px\";\n                this.canvas.style.height = (h / me.device.devicePixelRatio) + \"px\";\n            }\n            else {\n                this.canvas.style.width = w + \"px\";\n                this.canvas.style.height = h + \"px\";\n            }\n\n            this.compositor.setProjection(this.canvas.width, this.canvas.height);\n        },\n\n        /**\n         * restores the canvas context\n         * @name restore\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         */\n        restore : function () {\n            // do nothing if there is no saved states\n            if (this._matrixStack.length !== 0) {\n                var color = this._colorStack.pop();\n                var matrix = this._matrixStack.pop();\n\n                // restore the previous context\n                this.currentColor.copy(color);\n                this.currentTransform.copy(matrix);\n\n                // recycle objects\n                me.pool.push(color);\n                me.pool.push(matrix);\n            }\n\n            if (this._scissorStack.length !== 0) {\n                // FIXME : prevent `scissor` object realloc and GC\n                this.currentScissor.set(this._scissorStack.pop());\n            } else {\n                // turn off scissor test\n                this.gl.disable(this.gl.SCISSOR_TEST);\n                this.currentScissor[0] = 0;\n                this.currentScissor[1] = 0;\n                this.currentScissor[2] = this.backBufferCanvas.width;\n                this.currentScissor[3] = this.backBufferCanvas.height;\n            }\n        },\n\n        /**\n         * saves the canvas context\n         * @name save\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         */\n        save : function () {\n            this._colorStack.push(this.currentColor.clone());\n            this._matrixStack.push(this.currentTransform.clone());\n\n            if (this.gl.isEnabled(this.gl.SCISSOR_TEST)) {\n                // FIXME avoid slice and object realloc\n                this._scissorStack.push(this.currentScissor.slice());\n            }\n        },\n\n        /**\n         * rotates the uniform matrix\n         * @name rotate\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} angle in radians\n         */\n        rotate : function (angle) {\n            this.currentTransform.rotate(angle);\n        },\n\n        /**\n         * scales the uniform matrix\n         * @name scale\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         */\n        scale : function (x, y) {\n            this.currentTransform.scale(x, y);\n        },\n\n        /**\n         * not used by this renderer?\n         * @ignore\n         */\n        setAntiAlias : function (context, enable) {\n            this._super(me.Renderer, \"setAntiAlias\", [context, enable]);\n            // TODO: perhaps handle GLNEAREST or other options with texture binding\n        },\n\n        /**\n         * Set the global alpha\n         * @name setGlobalAlpha\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} alpha 0.0 to 1.0 values accepted.\n         */\n        setGlobalAlpha : function (a) {\n            this.currentColor.glArray[3] = a;\n        },\n\n        /**\n         * Set the current fill & stroke style color.\n         * By default, or upon reset, the value is set to #000000.\n         * @name setColor\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {me.Color|String} color css color string.\n         */\n        setColor : function (color) {\n            var alpha = this.currentColor.glArray[3];\n            this.currentColor.copy(color);\n            this.currentColor.glArray[3] *= alpha;\n        },\n\n        /**\n         * Set the line width\n         * @name setLineWidth\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} width Line width\n         */\n        setLineWidth : function (width) {\n            this.getScreenContext().lineWidth(width);\n        },\n\n        /**\n         * Stroke an arc at the specified coordinates with given radius, start and end points\n         * @name strokeArc\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x arc center point x-axis\n         * @param {Number} y arc center point y-axis\n         * @param {Number} radius\n         * @param {Number} start start angle in radians\n         * @param {Number} end end angle in radians\n         * @param {Boolean} [antiClockwise=false] draw arc anti-clockwise\n         */\n        strokeArc : function (x, y, radius, start, end, antiClockwise, fill) {\n            if (fill === true ) {\n                this.fillArc(x, y, radius, start, end, antiClockwise);\n            } else {\n                console.warn(\"strokeArc() is not implemented\");\n            }\n        },\n\n        /**\n         * Fill an arc at the specified coordinates with given radius, start and end points\n         * @name fillArc\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x arc center point x-axis\n         * @param {Number} y arc center point y-axis\n         * @param {Number} radius\n         * @param {Number} start start angle in radians\n         * @param {Number} end end angle in radians\n         * @param {Boolean} [antiClockwise=false] draw arc anti-clockwise\n         */\n        fillArc : function (x, y, radius, start, end, antiClockwise) {\n            console.warn(\"fillArc() is not implemented\");\n        },\n\n        /**\n         * Stroke an ellipse at the specified coordinates with given radius\n         * @name strokeEllipse\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x ellipse center point x-axis\n         * @param {Number} y ellipse center point y-axis\n         * @param {Number} w horizontal radius of the ellipse\n         * @param {Number} h vertical radius of the ellipse\n         */\n        strokeEllipse : function (x, y, w, h, fill) {\n            if (fill === true ) {\n                this.fillEllipse(x, y, w, h);\n            } else {\n                // XXX to be optimzed using a specific shader\n                var len = Math.floor(24 * Math.sqrt(w)) ||\n                          Math.floor(12 * Math.sqrt(w + h));\n                var segment = (me.Math.TAU) / len;\n                var points = this._glPoints,\n                    i;\n\n                // Grow internal points buffer if necessary\n                for (i = points.length; i < len; i++) {\n                    points.push(new me.Vector2d());\n                }\n\n                // calculate and draw all segments\n                for (i = 0; i < len; i++) {\n                    points[i].x = x + (Math.sin(segment * -i) * w);\n                    points[i].y = y + (Math.cos(segment * -i) * h);\n                }\n                // batch draw all lines\n                this.compositor.drawLine(points, len);\n            }\n\n        },\n\n        /**\n         * Fill an ellipse at the specified coordinates with given radius\n         * @name fillEllipse\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x ellipse center point x-axis\n         * @param {Number} y ellipse center point y-axis\n         * @param {Number} w horizontal radius of the ellipse\n         * @param {Number} h vertical radius of the ellipse\n         */\n        fillEllipse : function (x, y, w, h) {\n            // XXX to be optimzed using a specific shader\n            var len = Math.floor(24 * Math.sqrt(w)) ||\n                      Math.floor(12 * Math.sqrt(w + h));\n            var segment = (me.Math.TAU) / len;\n            var points = this._glPoints;\n            var index = 0, i;\n\n            // Grow internal points buffer if necessary\n            for (i = points.length; i < (len + 1) * 2; i++) {\n                points.push(new me.Vector2d());\n            }\n\n            // draw all vertices vertex coordinates\n            for (i = 0; i < len + 1; i++) {\n                points[index++].set(x, y);\n                points[index++].set(\n                    x + (Math.sin(segment * i) * w),\n                    y + (Math.cos(segment * i) * h)\n                );\n            }\n\n            // batch draw all triangles\n            this.compositor.drawTriangle(points, index, true);\n        },\n\n        /**\n         * Stroke a line of the given two points\n         * @name strokeLine\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} startX the start x coordinate\n         * @param {Number} startY the start y coordinate\n         * @param {Number} endX the end x coordinate\n         * @param {Number} endY the end y coordinate\n         */\n        strokeLine : function (startX, startY, endX, endY) {\n            var points = this._glPoints;\n            points[0].x = startX;\n            points[0].y = startY;\n            points[1].x = endX;\n            points[1].y = endY;\n            this.compositor.drawLine(points, 2, true);\n        },\n\n\n        /**\n         * Fill a line of the given two points\n         * @name fillLine\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} startX the start x coordinate\n         * @param {Number} startY the start y coordinate\n         * @param {Number} endX the end x coordinate\n         * @param {Number} endY the end y coordinate\n         */\n        fillLine : function (startX, startY, endX, endY) {\n            this.strokeLine(startX, startY, endX, endY);\n        },\n\n        /**\n         * Stroke a me.Polygon on the screen with a specified color\n         * @name strokePolygon\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {me.Polygon} poly the shape to draw\n         */\n        strokePolygon : function (poly, fill) {\n            if (fill === true ) {\n                this.fillPolygon(poly);\n            } else {\n                var len = poly.points.length,\n                    points = this._glPoints,\n                    i;\n\n                // Grow internal points buffer if necessary\n                for (i = points.length; i < len; i++) {\n                    points.push(new me.Vector2d());\n                }\n\n                // calculate and draw all segments\n                for (i = 0; i < len; i++) {\n                    points[i].x = poly.pos.x + poly.points[i].x;\n                    points[i].y = poly.pos.y + poly.points[i].y;\n                }\n                this.compositor.drawLine(points, len);\n            }\n        },\n\n        /**\n         * Fill a me.Polygon on the screen\n         * @name fillPolygon\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {me.Polygon} poly the shape to draw\n        */\n        fillPolygon : function (poly) {\n            var points = poly.points;\n            var glPoints = this._glPoints;\n            var indices = poly.getIndices();\n            var x = poly.pos.x, y = poly.pos.y;\n\n            // Grow internal points buffer if necessary\n            for (i = glPoints.length; i < indices.length; i++) {\n                glPoints.push(new me.Vector2d());\n            }\n\n            // calculate all vertices\n            for ( var i = 0; i < indices.length; i ++ ) {\n                glPoints[i].set(x + points[indices[i]].x, y + points[indices[i]].y);\n            }\n\n            // draw all triangle\n            this.compositor.drawTriangle(glPoints, indices.length);\n        },\n\n        /**\n         * Draw a stroke rectangle at the specified coordinates\n         * @name strokeRect\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} width\n         * @param {Number} height\n         */\n        strokeRect : function (x, y, width, height) {\n            var points = this._glPoints;\n            points[0].x = x;\n            points[0].y = y;\n            points[1].x = x + width;\n            points[1].y = y;\n            points[2].x = x + width;\n            points[2].y = y + height;\n            points[3].x = x;\n            points[3].y = y + height;\n            this.compositor.drawLine(points, 4);\n        },\n\n        /**\n         * Draw a filled rectangle at the specified coordinates\n         * @name fillRect\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} width\n         * @param {Number} height\n         */\n        fillRect : function (x, y, width, height) {\n            var glPoints = this._glPoints;\n            glPoints[0].x = x + width;\n            glPoints[0].y = y;\n            glPoints[1].x = x;\n            glPoints[1].y = y;\n            glPoints[2].x = x + width;\n            glPoints[2].y = y + height;\n            glPoints[3].x = x;\n            glPoints[3].y = y + height;\n            this.compositor.drawTriangle(glPoints, 4, true);\n        },\n\n        /**\n         * Reset (overrides) the renderer transformation matrix to the\n         * identity one, and then apply the given transformation matrix.\n         * @name setTransform\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {me.Matrix2d} mat2d Matrix to transform by\n         */\n        setTransform : function (mat2d) {\n            this.resetTransform();\n            this.transform(mat2d);\n        },\n\n        /**\n         * Multiply given matrix into the renderer tranformation matrix\n         * @name transform\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {me.Matrix2d} mat2d Matrix to transform by\n         */\n        transform : function (mat2d) {\n            this.currentTransform.multiply(mat2d);\n            if (this.settings.subPixel === false) {\n                // snap position values to pixel grid\n                var a = this.currentTransform.val;\n                a[6] = ~~a[6];\n                a[7] = ~~a[7];\n            }\n        },\n\n        /**\n         * Translates the uniform matrix by the given coordinates\n         * @name translate\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         */\n        translate : function (x, y) {\n            if (this.settings.subPixel === false) {\n                this.currentTransform.translate(~~x, ~~y);\n            } else {\n                this.currentTransform.translate(x, y);\n            }\n        },\n\n        /**\n         * clip the given region from the original canvas. Once a region is clipped,\n         * all future drawing will be limited to the clipped region.\n         * You can however save the current region using the save(),\n         * and restore it (with the restore() method) any time in the future.\n         * (<u>this is an experimental feature !</u>)\n         * @name clipRect\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {Number} x\n         * @param {Number} y\n         * @param {Number} width\n         * @param {Number} height\n         */\n        clipRect : function (x, y, width, height) {\n            var canvas = this.backBufferCanvas;\n            var gl = this.gl;\n            // if requested box is different from the current canvas size\n            if (x !== 0 || y !== 0 || width !== canvas.width || height !== canvas.height) {\n                var currentScissor = this.currentScissor;\n                if (gl.isEnabled(gl.SCISSOR_TEST)) {\n                    // if same as the current scissor box do nothing\n                    if (currentScissor[0] === x && currentScissor[1] === y &&\n                        currentScissor[2] === width && currentScissor[3] === height) {\n                            return;\n                    }\n                }\n                // flush the compositor\n                this.flush();\n                // turn on scissor test\n                gl.enable(this.gl.SCISSOR_TEST);\n                // set the scissor rectangle (note : coordinates are left/bottom)\n                gl.scissor(\n                    // scissor does not account for currentTransform, so manually adjust\n                    x + this.currentTransform.tx,\n                    canvas.height -height -y -this.currentTransform.ty,\n                    width,\n                    height\n                );\n                // save the new currentScissor box\n                currentScissor[0] = x;\n                currentScissor[1] = y;\n                currentScissor[2] = width;\n                currentScissor[3] = height;\n            } else {\n                // turn off scissor test\n                gl.disable(gl.SCISSOR_TEST);\n            }\n        },\n\n        /**\n         * A mask limits rendering elements to the shape and position of the given mask object.\n         * So, if the renderable is larger than the mask, only the intersecting part of the renderable will be visible.\n         * Mask are not preserved through renderer context save and restore.\n         * @name setMask\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         * @param {me.Rect|me.Polygon|me.Line|me.Ellipse} [mask] the shape defining the mask to be applied\n         */\n        setMask : function (mask) {\n            var gl = this.gl;\n\n            // flush the compositor\n            this.flush();\n\n            // Enable and setup GL state to write to stencil buffer\n            gl.enable(gl.STENCIL_TEST);\n            gl.clear(gl.STENCIL_BUFFER_BIT);\n            gl.colorMask(false, false, false, false);\n            gl.stencilFunc(gl.NOTEQUAL, 1, 1);\n            gl.stencilOp(gl.REPLACE, gl.REPLACE, gl.REPLACE);\n\n            this.fill(mask);\n\n            // flush the compositor\n            this.flush();\n\n            // Use stencil buffer to affect next rendering object\n            gl.colorMask(true, true, true, true);\n            gl.stencilFunc(gl.EQUAL, 1, 1);\n            gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n        },\n\n        /**\n         * disable (remove) the rendering mask set through setMask.\n         * @name clearMask\n         * @see setMask\n         * @memberOf me.WebGLRenderer.prototype\n         * @function\n         */\n        clearMask : function() {\n            // flush the compositor\n            this.flush();\n            this.gl.disable(this.gl.STENCIL_TEST);\n        }\n    });\n\n})();\n","(function () {\n\n    // Handy constants\n    var VERTEX_SIZE = 2;\n    var COLOR_SIZE = 4;\n    var TEXTURE_SIZE = 1;\n    var REGION_SIZE = 2;\n\n    var ELEMENT_SIZE = VERTEX_SIZE + COLOR_SIZE + TEXTURE_SIZE + REGION_SIZE;\n    var ELEMENT_OFFSET = ELEMENT_SIZE * Float32Array.BYTES_PER_ELEMENT;\n\n    var VERTEX_ELEMENT = 0;\n    var COLOR_ELEMENT = VERTEX_ELEMENT + VERTEX_SIZE;\n    var TEXTURE_ELEMENT = COLOR_ELEMENT + COLOR_SIZE;\n    var REGION_ELEMENT = TEXTURE_ELEMENT + TEXTURE_SIZE;\n\n    var VERTEX_OFFSET = VERTEX_ELEMENT * Float32Array.BYTES_PER_ELEMENT;\n    var COLOR_OFFSET = COLOR_ELEMENT * Float32Array.BYTES_PER_ELEMENT;\n    var TEXTURE_OFFSET = TEXTURE_ELEMENT * Float32Array.BYTES_PER_ELEMENT;\n    var REGION_OFFSET = REGION_ELEMENT * Float32Array.BYTES_PER_ELEMENT;\n\n    var ELEMENTS_PER_QUAD = 4;\n    var INDICES_PER_QUAD = 6;\n\n    var MAX_LENGTH = 16000;\n\n    /**\n     * A WebGL texture Compositor object. This class handles all of the WebGL state<br>\n     * Pushes texture regions into WebGL buffers, automatically flushes to GPU\n     * @extends me.Object\n     * @namespace me.WebGLRenderer.Compositor\n     * @memberOf me\n     * @constructor\n     * @param {me.WebGLRenderer} renderer the current WebGL renderer session\n     */\n    me.WebGLRenderer.Compositor = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (renderer) {\n            // local reference\n            var gl = renderer.gl;\n\n            /**\n             * The number of quads held in the batch\n             * @name length\n             * @memberOf me.WebGLRenderer.Compositor\n             * @type Number\n             * @readonly\n             */\n            this.length = 0;\n\n            // Hash map of texture units\n            this.units = [];\n            /*\n             * XXX: The GLSL compiler pukes with \"memory exhausted\" when it is\n             * given long if-then-else chains.\n             *\n             * See: http://stackoverflow.com/questions/15828966/glsl-compile-error-memory-exhausted\n             *\n             * Workaround the problem by limiting the max texture support to 24.\n             * The magic number was determined by testing under different UAs.\n             * All Desktop UAs were capable of compiling with 27 fragment shader\n             * samplers. Using 24 seems like a reasonable compromise;\n             *\n             * 24 = 2^4 + 2^3\n             *\n             * As of October 2015, approximately 4.2% of all WebGL-enabled UAs\n             * support more than 24 max textures, according to\n             * http://webglstats.com/\n             */\n            this.maxTextures = Math.min(24, gl.getParameter(\n                gl.MAX_TEXTURE_IMAGE_UNITS\n            ));\n\n            // Vector pool\n            this.v = [\n                new me.Vector2d(),\n                new me.Vector2d(),\n                new me.Vector2d(),\n                new me.Vector2d()\n            ];\n\n            // the associated renderer\n            // TODO : add a set context or whatever function, and split\n            // the constructor accordingly, so that this is easier to restore\n            // the GL context when lost\n            this.renderer = renderer;\n\n            // WebGL context\n            this.gl = renderer.gl;\n\n            // Global transformation matrix\n            this.matrix = renderer.currentTransform;\n\n            // Global fill color\n            this.color = renderer.currentColor;\n            // Global tint color\n            this.tint = renderer.currentTint;\n\n            // Uniform projection matrix\n            this.uMatrix = new me.Matrix2d();\n\n            // reference to the active shader\n            this.activeShader = null;\n\n            // Load and create shader programs\n            this.primitiveShader = new me.PrimitiveGLShader(this.gl);\n            this.quadShader = new me.QuadGLShader(this.gl, this.maxTextures);\n\n            // Stream buffer\n            this.sb = gl.createBuffer();\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.sb);\n            gl.bufferData(\n                gl.ARRAY_BUFFER,\n                MAX_LENGTH * ELEMENT_OFFSET * ELEMENTS_PER_QUAD,\n                gl.STREAM_DRAW\n            );\n\n            this.sbSize = 256;\n            this.sbIndex = 0;\n\n            // Quad stream buffer\n            this.stream = new Float32Array(\n                this.sbSize * ELEMENT_SIZE * ELEMENTS_PER_QUAD\n            );\n\n            // Index buffer\n            this.ib = gl.createBuffer();\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.ib);\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.createIB(), gl.STATIC_DRAW);\n\n            // Bind attribute pointers for quad shader\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aVertex,\n                VERTEX_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                VERTEX_OFFSET\n            );\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aColor,\n                COLOR_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                COLOR_OFFSET\n            );\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aTexture,\n                TEXTURE_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                TEXTURE_OFFSET\n            );\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aRegion,\n                REGION_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                REGION_OFFSET\n            );\n\n            this.reset();\n\n            this.setProjection(gl.canvas.width, gl.canvas.height);\n\n            // Initialize clear color\n            gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        },\n\n        /**\n         * Reset compositor internal state\n         * @ignore\n         */\n        reset : function () {\n            this.sbIndex = 0;\n            this.length = 0;\n\n            var samplers = [];\n\n            // WebGL context\n            this.gl = this.renderer.gl;\n\n            for (var i = 0; i < this.maxTextures; i++) {\n                this.units[i] = false;\n                samplers[i] = i;\n            }\n            // set the quad shader as the default program\n            this.useShader(this.quadShader);\n            this.quadShader.uniforms.uSampler = samplers;\n        },\n\n        /**\n         * Sets the projection matrix with the given size\n         * @name setProjection\n         * @memberOf me.WebGLRenderer.Compositor\n         * @function\n         * @param {Number} w WebGL Canvas width\n         * @param {Number} h WebGL Canvas height\n         */\n        setProjection : function (w, h) {\n            this.flush();\n            this.gl.viewport(0, 0, w, h);\n            this.uMatrix.setTransform(\n                2 / w,  0,      0,\n                0,      -2 / h, 0,\n                -1,     1,      1\n            );\n        },\n\n        /**\n         * Create a texture from an image\n         * @name createTexture\n         * @memberOf me.WebGLRenderer.Compositor\n         * @function\n         * @param {Number} unit Destination texture unit\n         * @param {Image|Canvas|ImageData|UInt8Array[]|Float32Array[]} image Source image\n         * @param {Number} filter gl.LINEAR or gl.NEAREST\n         * @param {String} [repeat=\"no-repeat\"] Image repeat behavior (see {@link me.ImageLayer#repeat})\n         * @param {Number} [w] Source image width (Only use with UInt8Array[] or Float32Array[] source image)\n         * @param {Number} [h] Source image height (Only use with UInt8Array[] or Float32Array[] source image)\n         * @param {Number} [b] Source image border (Only use with UInt8Array[] or Float32Array[] source image)\n         * @param {Number} [b] Source image border (Only use with UInt8Array[] or Float32Array[] source image)\n         * @param {Boolean} [premultipliedAlpha=true] Multiplies the alpha channel into the other color channels\n         * @return {WebGLTexture} A texture object\n         */\n        createTexture : function (unit, image, filter, repeat, w, h, b, premultipliedAlpha) {\n            var gl = this.gl;\n\n            repeat = repeat || \"no-repeat\";\n\n            var isPOT = me.Math.isPowerOfTwo(w || image.width) && me.Math.isPowerOfTwo(h || image.height);\n            var texture = gl.createTexture();\n            var rs = (repeat.search(/^repeat(-x)?$/) === 0) && isPOT ? gl.REPEAT : gl.CLAMP_TO_EDGE;\n            var rt = (repeat.search(/^repeat(-y)?$/) === 0) && isPOT ? gl.REPEAT : gl.CLAMP_TO_EDGE;\n\n            gl.activeTexture(gl.TEXTURE0 + unit);\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, rs);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, rt);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);\n            gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, (typeof premultipliedAlpha === \"boolean\") ? premultipliedAlpha : true);\n            if (w || h || b) {\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, w, h, b, gl.RGBA, gl.UNSIGNED_BYTE, image);\n            }\n            else {\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n            }\n\n            return texture;\n        },\n\n        /**\n         * @ignore\n         */\n        uploadTexture : function (texture, w, h, b, force) {\n            var unit = this.renderer.cache.getUnit(texture);\n            if (!this.units[unit] || force) {\n                this.units[unit] = true;\n                this.createTexture(\n                    unit,\n                    texture.getTexture(),\n                    this.renderer.settings.antiAlias ? this.gl.LINEAR : this.gl.NEAREST,\n                    texture.repeat,\n                    w,\n                    h,\n                    b,\n                    texture.premultipliedAlpha\n                );\n            }\n\n            return unit;\n        },\n\n        /**\n         * Create a full index buffer for the element array\n         * @ignore\n         */\n        createIB : function () {\n            var indices = [\n                0, 1, 2,\n                2, 1, 3\n            ];\n\n            // ~384KB index buffer\n            var data = new Array(MAX_LENGTH * INDICES_PER_QUAD);\n            for (var i = 0; i < data.length; i++) {\n                data[i] = indices[i % INDICES_PER_QUAD] +\n                    ~~(i / INDICES_PER_QUAD) * ELEMENTS_PER_QUAD;\n            }\n\n            return new Uint16Array(data);\n        },\n\n        /**\n         * Resize the stream buffer, retaining its original contents\n         * @ignore\n         */\n        resizeSB : function () {\n            this.sbSize <<= 1;\n            var stream = new Float32Array(this.sbSize * ELEMENT_SIZE * ELEMENTS_PER_QUAD);\n            stream.set(this.stream);\n            this.stream = stream;\n        },\n\n        /**\n         * Select the shader to use for compositing\n         * @name useShader\n         * @see me.GLShader\n         * @memberOf me.WebGLRenderer.Compositor\n         * @function\n         * @param {me.GLShader} shader a reference to a GLShader instance\n         */\n        useShader : function (shader) {\n            if (this.activeShader !== shader) {\n                this.flush();\n                this.activeShader = shader;\n                this.activeShader.bind();\n                this.activeShader.uniforms.uMatrix = this.uMatrix.val;\n            }\n        },\n\n        /**\n         * Add a textured quad\n         * @name addQuad\n         * @memberOf me.WebGLRenderer.Compositor\n         * @function\n         * @param {me.video.renderer.Texture} texture Source texture\n         * @param {String} key Source texture region name\n         * @param {Number} x Destination x-coordinate\n         * @param {Number} y Destination y-coordinate\n         * @param {Number} w Destination width\n         * @param {Number} h Destination height\n         */\n        addQuad : function (texture, key, x, y, w, h) {\n            var color = this.color.toGL();\n            var tint = this.tint.toGL();\n\n            if (color[3] < 1 / 255) {\n                // Fast path: don't send fully transparent quads\n                return;\n            } else {\n                // use the global alpha\n                tint[3] = color[3];\n            }\n\n            this.useShader(this.quadShader);\n\n            if (this.length >= MAX_LENGTH) {\n                this.flush();\n            }\n            if (this.length >= this.sbSize) {\n                this.resizeSB();\n            }\n\n            // Transform vertices\n            var m = this.matrix,\n                v0 = this.v[0].set(x, y),\n                v1 = this.v[1].set(x + w, y),\n                v2 = this.v[2].set(x, y + h),\n                v3 = this.v[3].set(x + w, y + h);\n\n            if (!m.isIdentity()) {\n                m.multiplyVector(v0);\n                m.multiplyVector(v1);\n                m.multiplyVector(v2);\n                m.multiplyVector(v3);\n            }\n\n            // Array index computation\n            var idx0 = this.sbIndex,\n                idx1 = idx0 + ELEMENT_SIZE,\n                idx2 = idx1 + ELEMENT_SIZE,\n                idx3 = idx2 + ELEMENT_SIZE;\n\n            // Fill vertex buffer\n            // FIXME: Pack each vertex vector into single float\n            this.stream[idx0 + VERTEX_ELEMENT + 0] = v0.x;\n            this.stream[idx0 + VERTEX_ELEMENT + 1] = v0.y;\n            this.stream[idx1 + VERTEX_ELEMENT + 0] = v1.x;\n            this.stream[idx1 + VERTEX_ELEMENT + 1] = v1.y;\n            this.stream[idx2 + VERTEX_ELEMENT + 0] = v2.x;\n            this.stream[idx2 + VERTEX_ELEMENT + 1] = v2.y;\n            this.stream[idx3 + VERTEX_ELEMENT + 0] = v3.x;\n            this.stream[idx3 + VERTEX_ELEMENT + 1] = v3.y;\n\n            // Fill color buffer\n            // FIXME: Pack color vector into single float\n            this.stream.set(tint, idx0 + COLOR_ELEMENT);\n            this.stream.set(tint, idx1 + COLOR_ELEMENT);\n            this.stream.set(tint, idx2 + COLOR_ELEMENT);\n            this.stream.set(tint, idx3 + COLOR_ELEMENT);\n\n            // Fill texture index buffer\n            // FIXME: Can the texture index be packed into another element?\n            var unit = this.uploadTexture(texture);\n            this.stream[idx0 + TEXTURE_ELEMENT] =\n            this.stream[idx1 + TEXTURE_ELEMENT] =\n            this.stream[idx2 + TEXTURE_ELEMENT] =\n            this.stream[idx3 + TEXTURE_ELEMENT] = unit;\n\n            // Fill texture coordinates buffer\n            var uvs = texture.getUVs(key);\n            // FIXME: Pack each texture coordinate into single floats\n            this.stream[idx0 + REGION_ELEMENT + 0] = uvs[0];\n            this.stream[idx0 + REGION_ELEMENT + 1] = uvs[1];\n            this.stream[idx1 + REGION_ELEMENT + 0] = uvs[2];\n            this.stream[idx1 + REGION_ELEMENT + 1] = uvs[1];\n            this.stream[idx2 + REGION_ELEMENT + 0] = uvs[0];\n            this.stream[idx2 + REGION_ELEMENT + 1] = uvs[3];\n            this.stream[idx3 + REGION_ELEMENT + 0] = uvs[2];\n            this.stream[idx3 + REGION_ELEMENT + 1] = uvs[3];\n\n            this.sbIndex += ELEMENT_SIZE * ELEMENTS_PER_QUAD;\n            this.length++;\n        },\n\n        /**\n         * Flush batched texture operations to the GPU\n         * @name flush\n         * @memberOf me.WebGLRenderer.Compositor\n         * @function\n         */\n        flush : function () {\n            if (this.length) {\n                var gl = this.gl;\n\n                // Copy data into stream buffer\n                var len = this.length * ELEMENT_SIZE * ELEMENTS_PER_QUAD;\n                gl.bufferData(\n                    gl.ARRAY_BUFFER,\n                    this.stream.subarray(0, len),\n                    gl.STREAM_DRAW\n                );\n\n                // Draw the stream buffer\n                gl.drawElements(\n                    gl.TRIANGLES,\n                    this.length * INDICES_PER_QUAD,\n                    gl.UNSIGNED_SHORT,\n                    0\n                );\n\n                this.sbIndex = 0;\n                this.length = 0;\n            }\n        },\n\n        /**\n         * Draw triangle(s)\n         * @name drawTriangle\n         * @memberOf me.WebGLRenderer.Compositor\n         * @function\n         * @param {me.Vector2d[]} points vertices\n         * @param {Number} [len=points.length] amount of points defined in the points array\n         * @param {Boolean} [strip=false] Whether the array defines a serie of connected triangles, sharing vertices\n         */\n        drawTriangle : function (points, len, strip) {\n            var gl = this.gl;\n\n            len = len || points.length;\n\n            this.useShader(this.primitiveShader);\n\n            // Put vertex data into the stream buffer\n            var j = 0;\n            var m = this.matrix;\n            var m_isIdentity = m.isIdentity();\n            for (var i = 0; i < points.length; i++) {\n                if (!m_isIdentity) {\n                    m.multiplyVector(points[i]);\n                }\n                this.stream[j++] = points[i].x;\n                this.stream[j++] = points[i].y;\n            }\n\n            // Set the line color\n            this.primitiveShader.uniforms.uColor = this.color.glArray;\n\n            // Copy data into the stream buffer\n            gl.bufferData(\n                gl.ARRAY_BUFFER,\n                this.stream.subarray(0, len * 2),\n                gl.STREAM_DRAW\n            );\n\n            // FIXME: Configure vertex attrib pointers in `useShader`\n            gl.vertexAttribPointer(\n                this.primitiveShader.attributes.aVertex,\n                VERTEX_SIZE,\n                gl.FLOAT,\n                false,\n                0,\n                0\n            );\n\n            // Draw the stream buffer\n            gl.drawArrays(strip === true ? gl.TRIANGLE_STRIP : gl.TRIANGLES, 0, len);\n\n            // FIXME: Configure vertex attrib pointers in `useShader`\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aVertex,\n                VERTEX_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                VERTEX_OFFSET\n            );\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aColor,\n                COLOR_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                COLOR_OFFSET\n            );\n\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aTexture,\n                TEXTURE_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                TEXTURE_OFFSET\n            );\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aRegion,\n                REGION_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                REGION_OFFSET\n            );\n\n        },\n\n        /**\n         * Draw a line\n         * @name drawLine\n         * @memberOf me.WebGLRenderer.Compositor\n         * @function\n         * @param {me.Vector2d[]} points Line vertices\n         * @param {Number} [len=points.length] amount of points defined in the points array\n         * @param {Boolean} [open=false] Whether the line is open (true) or closed (false)\n         */\n        drawLine : function (points, len, open) {\n            var gl = this.gl;\n\n            len = len || points.length;\n\n            this.useShader(this.primitiveShader);\n\n            // Put vertex data into the stream buffer\n            var j = 0;\n            var m = this.matrix;\n            var m_isIdentity = m.isIdentity();\n            for (var i = 0; i < points.length; i++) {\n                if (!m_isIdentity) {\n                    m.multiplyVector(points[i]);\n                }\n                this.stream[j++] = points[i].x;\n                this.stream[j++] = points[i].y;\n            }\n\n            // Set the line color\n            this.primitiveShader.uniforms.uColor = this.color.glArray;\n\n            // Copy data into the stream buffer\n            gl.bufferData(\n                gl.ARRAY_BUFFER,\n                this.stream.subarray(0, len * 2),\n                gl.STREAM_DRAW\n            );\n\n            // FIXME: Configure vertex attrib pointers in `useShader`\n            gl.vertexAttribPointer(\n                this.primitiveShader.attributes.aVertex,\n                VERTEX_SIZE,\n                gl.FLOAT,\n                false,\n                0,\n                0\n            );\n\n            // Draw the stream buffer\n            gl.drawArrays(open === true ? gl.LINE_STRIP : gl.LINE_LOOP, 0, len);\n\n            // FIXME: Configure vertex attrib pointers in `useShader`\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aVertex,\n                VERTEX_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                VERTEX_OFFSET\n            );\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aColor,\n                COLOR_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                COLOR_OFFSET\n            );\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aTexture,\n                TEXTURE_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                TEXTURE_OFFSET\n            );\n            gl.vertexAttribPointer(\n                this.quadShader.attributes.aRegion,\n                REGION_SIZE,\n                gl.FLOAT,\n                false,\n                ELEMENT_OFFSET,\n                REGION_OFFSET\n            );\n        },\n\n        /**\n         * Clear the frame buffer, flushes the composite operations and calls\n         * gl.clear()\n         * @name clear\n         * @memberOf me.WebGLRenderer.Compositor\n         * @function\n         */\n        clear : function () {\n            this.flush();\n            this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n        }\n    });\n})();\n","(function () {\n\n\n    /**\n     * @private\n     */\n    function extractUniforms(gl, shader) {\n        var uniforms = {},\n            uniRx = /uniform\\s+(\\w+)\\s+(\\w+)/g,\n            uniformsData = {},\n            descriptor = {},\n            locations = {},\n            match;\n\n        // Detect all uniform names and types\n        [ shader.vertex, shader.fragment ].forEach(function (shader) {\n            while ((match = uniRx.exec(shader))) {\n                uniformsData[match[2]] = match[1];\n            }\n        });\n\n        // Get uniform references\n        Object.keys(uniformsData).forEach(function (name) {\n            var type = uniformsData[name];\n            locations[name] = gl.getUniformLocation(shader.program, name);\n\n            descriptor[name] = {\n                \"get\" : (function (name) {\n                    /**\n                     * A getter for the uniform location\n                     * @ignore\n                     */\n                    return function () {\n                        return locations[name];\n                    };\n                })(name),\n                \"set\" : (function (name, type, fn) {\n                    if (type.indexOf(\"mat\") === 0) {\n                        /**\n                         * A generic setter for uniform matrices\n                         * @ignore\n                         */\n                        return function (val) {\n                            gl[fn](locations[name], false, val);\n                        };\n                    }\n                    else {\n                        /**\n                        * A generic setter for uniform vectors\n                        * @ignore\n                        */\n                        return function (val) {\n                            var fnv = fn;\n                            if (val.length && fn.substr(-1) !== \"v\") {\n                                fnv += \"v\";\n                            }\n                            gl[fnv](locations[name], val);\n                        };\n                    }\n                })(name, type, \"uniform\" + fnHash[type])\n            };\n        });\n        Object.defineProperties(uniforms, descriptor);\n\n        return uniforms;\n    };\n\n    /**\n     * @private\n     */\n    function extractAttributes(gl, shader) {\n        var attributes = {},\n            attrRx = /attribute\\s+\\w+\\s+(\\w+)/g,\n            attrData = [],\n            match;\n\n        // Detect all attribute names\n        while ((match = attrRx.exec(shader.vertex))) {\n            attrData.push(match[1]);\n        }\n\n        // Get attribute references\n        attrData.forEach(function (attr) {\n            attributes[attr] = gl.getAttribLocation(shader.program, attr);\n            gl.enableVertexAttribArray(attributes[attr]);\n        });\n\n        return attributes;\n    };\n\n    /**\n     * @private\n     */\n    function compileShader(gl, type, source) {\n        var shader = gl.createShader(type);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            throw new Error(gl.getShaderInfoLog(shader));\n        }\n\n        return shader;\n    };\n\n    /**\n     * Compile GLSL into a shader object\n     * @private\n     */\n    function compileProgram(gl, vertex, fragment) {\n        var vertShader = compileShader(gl, gl.VERTEX_SHADER, vertex);\n        var fragShader = compileShader(gl, gl.FRAGMENT_SHADER, fragment);\n\n        var program = gl.createProgram();\n\n        gl.attachShader(program, vertShader);\n        gl.attachShader(program, fragShader);\n        gl.linkProgram(program);\n\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n            throw new Error(\n                \"Error initializing Shader \" + this + \"\\n\" +\n                \"gl.VALIDATE_STATUS: \" + gl.getProgramParameter(program, gl.VALIDATE_STATUS) + \"\\n\" +\n                \"gl.getError()\" + gl.getError() + \"\\n\" +\n                \"gl.getProgramInfoLog()\" + gl.getProgramInfoLog(program)\n            );\n        }\n\n        gl.useProgram(program);\n\n        // clean-up\n        gl.deleteShader(vertShader);\n        gl.deleteShader(fragShader);\n\n        return program;\n    };\n\n\n    /**\n     * Hash map of GLSL data types to WebGL Uniform methods\n     * @private\n     */\n    var fnHash = {\n        \"bool\"      : \"1i\",\n        \"int\"       : \"1i\",\n        \"float\"     : \"1f\",\n        \"vec2\"      : \"2fv\",\n        \"vec3\"      : \"3fv\",\n        \"vec4\"      : \"4fv\",\n        \"bvec2\"     : \"2iv\",\n        \"bvec3\"     : \"3iv\",\n        \"bvec4\"     : \"4iv\",\n        \"ivec2\"     : \"2iv\",\n        \"ivec3\"     : \"3iv\",\n        \"ivec4\"     : \"4iv\",\n        \"mat2\"      : \"Matrix2fv\",\n        \"mat3\"      : \"Matrix3fv\",\n        \"mat4\"      : \"Matrix4fv\",\n        \"sampler2D\" : \"1i\"\n    };\n\n    /**\n     * set precision for the fiven shader source\n     * won't don anyhing if the precision is already specified\n     * @private\n     */\n    function setPrecision(src, precision) {\n        if (src.substring(0, 9) !== \"precision\") {\n            return \"precision \" + precision + \" float;\" + src;\n        }\n        return src;\n    };\n\n    /**\n     * clean the given source from space, comments, etc...\n     * @private\n     */\n    function minify(src) {\n        // remove comments\n        src = src.replace(/\\/\\*[\\s\\S]*?\\*\\/|([^\\\\:]|^)\\/\\/.*$/gm, \"$1\");\n        // Remove leading and trailing whitespace from lines\n        src = src.replace(/(\\\\n\\s+)|(\\s+\\\\n)/g, \"\");\n        // Remove line breaks\n        src = src.replace(/(\\\\r|\\\\n)+/g, \"\");\n        // Remove unnecessary whitespace\n        src = src.replace(/\\s*([;,[\\](){}\\\\\\/\\-+*|^&!=<>?~%])\\s*/g, \"$1\");\n\n        return src;\n    };\n\n    /**\n     * a base GL Shader object\n     * @class\n     * @extends me.Object\n     * @param {WebGLRenderingContext} gl the current WebGL rendering context\n     * @param {String} vertex a string containing the GLSL source code to set\n     * @param {String} fragment a string containing the GLSL source code to set\n     * @param {String} [precision=auto detected] float precision ('lowp', 'mediump' or 'highp').\n     * @constructor\n     * @see https://developer.mozilla.org/en-US/docs/Games/Techniques/3D_on_the_web/GLSL_Shaders\n     * @example\n     * // create a basic shader\n     * var myShader = new me.GLShader(\n     *    // WebGL rendering context\n     *    gl,\n     *    // vertex shader\n     *    [\n     *        \"void main() {\",\n     *        \"    gl_Position = doMathToMakeClipspaceCoordinates;\",\n     *        \"}\"\n     *    ].join(\"\\n\"),\n     *    // fragment shader\n     *    [\n     *        \"void main() {\",\n     *        \"    gl_FragColor = doMathToMakeAColor;\",\n     *        \"}\"\n     *    ].join(\"\\n\")\n     *  )\n     * // use the shader\n     * myShader.bind();\n     */\n    me.GLShader = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (gl, vertex, fragment, precision) {\n\n            /**\n             * the active gl rendering context\n             * @public\n             * @type {WebGLRenderingContext}\n             * @name gl\n             * @memberOf me.GLShader\n             */\n            this.gl = gl;\n\n            /**\n             * the vertex shader source code\n             * @public\n             * @type {String}\n             * @name vertex\n             * @memberOf me.GLShader\n             */\n            this.vertex = setPrecision(minify(vertex), precision || me.device.getMaxShaderPrecision(this.gl));\n\n            /**\n             * the fragment shader source code\n             * @public\n             * @type {String}\n             * @name vertex\n             * @memberOf me.GLShader\n             */\n            this.fragment = setPrecision(minify(fragment), precision || me.device.getMaxShaderPrecision(this.gl));\n\n            /**\n             * a reference to the shader program (once compiled)\n             * @public\n             * @type {WebGLProgram}\n             * @name program\n             * @memberOf me.GLShader\n             */\n            this.program = compileProgram(this.gl, this.vertex, this.fragment);\n\n\n            /**\n             * the attributes of the shader\n             * @public\n             * @type {Object}\n             * @name attributes\n             * @memberOf me.GLShader\n             */\n            this.attributes = extractAttributes(this.gl, this);\n\n            /**\n             * the uniforms of the shader\n             * @public\n             * @type {Object}\n             * @name uniforms\n             * @memberOf me.GLShader\n             */\n            this.uniforms = extractUniforms(this.gl, this);\n\n            // destroy the shader on context lost (will be recreated on context restore)\n            me.event.subscribe(me.event.WEBGL_ONCONTEXT_LOST, this.destroy.bind(this));\n\n            return this;\n        },\n\n        /**\n         * Installs this shader program as part of current rendering state\n         * @name bind\n         * @memberOf me.GLShader\n         * @function\n         */\n        bind : function () {\n            this.gl.useProgram(this.program);\n        },\n\n        /**\n         * destroy this shader objects resources (program, attributes, uniforms)\n         * @name destroy\n         * @memberOf me.GLShader\n         * @function\n         */\n        destroy : function () {\n            this.uniforms = null;\n            this.attributes = null;\n\n            this.gl.deleteProgram(this.program);\n\n            this.vertex = null;\n            this.fragment = null;\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * a built-in shader used by the Compositor for primitive drawing\n     * @class\n     * @extends me.GLShader\n     * @see me.WebGLRenderer.Compositor\n     * @constructor\n     * @param {WebGLRenderingContext} gl the current WebGL rendering context\n     */\n    me.PrimitiveGLShader = me.GLShader.extend({\n        /**\n         * @ignore\n         */\n        init : function (gl) {\n            this._super(me.GLShader, \"init\", [ gl,\n                [   // vertex`\n                    \"precision highp float;\",\n\n                    \"// Current vertex point\",\n                    \"attribute vec2 aVertex;\",\n\n                    \"// Projection matrix\",\n                    \"uniform mat3 uMatrix;\",\n\n                    \"// Vertex color\",\n                    \"uniform vec4 uColor;\",\n\n                    \"// Fragment color\",\n                    \"varying vec4 vColor;\",\n\n                    \"void main(void) {\",\n                    \"    // Transform the vertex position by the projection matrix\",\n                    \"    gl_Position = vec4((uMatrix * vec3(aVertex, 1)).xy, 0, 1);\",\n                    \"    // Pass the remaining attributes to the fragment shader\",\n                    \"    vColor = vec4(uColor.rgb * uColor.a, uColor.a);\",\n                    \"}\"\n                ].join(\"\\n\"),\n                [   // fragment\n                    \"// fragment color\",\n                    \"varying vec4 vColor;\",\n\n                    \"void main(void) {\",\n                    \"    gl_FragColor = vColor;\",\n                    \"}\"\n                ].join(\"\\n\")\n            ]);\n            return this;\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * a built-in shader used by the Compositor for Quad Texture drawing\n     * @class\n     * @extends me.GLShader\n     * @see me.WebGLRenderer.Compositor\n     * @constructor\n     * @param {WebGLRenderingContext} gl the current WebGL rendering context\n     * @param {Number} maxTextures the maximum amount of Texture supported by the WebGL Driver\n     */\n    me.QuadGLShader = me.GLShader.extend({\n        /**\n         * @ignore\n         */\n        init : function (gl, maxTextures) {\n            this._super(me.GLShader, \"init\", [ gl,\n                [   // vertex`\n                    \"precision highp float;\",\n                    \"attribute vec2 aVertex;\",\n                    \"attribute vec4 aColor;\",\n                    \"attribute float aTexture;\",\n                    \"attribute vec2 aRegion;\",\n                    \"uniform mat3 uMatrix;\",\n                    \"varying vec4 vColor;\",\n                    \"varying float vTexture;\",\n                    \"varying vec2 vRegion;\",\n                    \"void main(void) {\",\n                    \"    // Transform the vertex position by the projection matrix\",\n                    \"    gl_Position = vec4((uMatrix * vec3(aVertex, 1)).xy, 0, 1);\",\n                    \"    // Pass the remaining attributes to the fragment shader\",\n                    \"    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\",\n                    \"    vTexture = aTexture;\",\n                    \"    vRegion = aRegion;\",\n                    \"}\"\n                ].join(\"\\n\"),\n                [ // fragment\n                    /*\n                     * Dynamically indexing arrays in a fragment shader is not allowed:\n                     *\n                     * https://www.khronos.org/registry/webgl/specs/1.0/#4.3\n                     *\n                     * \"\n                     *  Appendix A mandates certain forms of indexing of arrays; for example,\n                     *  within fragment shaders, indexing is only mandated with a\n                     *  constant-index-expression (see [GLES20GLSL] for the definition of this\n                     *  term). In the WebGL API, only the forms of indexing mandated in\n                     *  Appendix A are supported.\n                     * \"\n                     *\n                     * And GLES20GLSL has this to say about constant-index-expressions:\n                     *\n                     * \"\n                     *  constant-index-expressions are a superset of constant-expressions.\n                     *  Constant-index-expressions can include loop indices as defined in\n                     *  Appendix A section 4.\n                     *\n                     *  The following are constant-index-expressions:\n                     *    * Constant expressions\n                     *    * Loop indices as defined in section 4\n                     *    * Expressions composed of both of the above\n                     * \"\n                     *\n                     * To workaround this issue, we create a long if-then-else statement using\n                     * a template processor; the number of branches depends only on the total\n                     * number of texture units supported by the WebGL implementation.\n                     *\n                     * The number of available texture units is at least 8, but can be as high\n                     * as 32 (as of 2016-01); source: http://webglstats.com/\n                     * See: MAX_TEXTURE_IMAGE_UNITS\n                     *\n                     * The idea of sampler selection originated from work by Kenneth Russell and\n                     * Nat Duca from the Chromium Team.\n                     * See: http://webglsamples.org/sprites/readme.html\n                     */\n                    \"uniform sampler2D uSampler[\" +maxTextures+ \"];\",\n                    \"varying vec4 vColor;\",\n                    \"varying float vTexture;\",\n                    \"varying vec2 vRegion;\",\n                    \"void main(void) {\",\n                    \"    // Convert texture unit index to integer\",\n                    \"    int texture = int(vTexture);\",\n                    \"    if (texture == 0) {\",\n                    \"        gl_FragColor = texture2D(uSampler[0], vRegion) * vColor;\",\n                    \"    }\",\n                    \"    else {\",\n                    \"        for (int i = 1; i < \" + (maxTextures - 1) +\"; i++) {\",\n                    \"            if (texture == i) {\",\n                    \"                gl_FragColor = texture2D(uSampler[i], vRegion) * vColor;\",\n                    \"                return;\",\n                    \"            }\",\n                    \"            gl_FragColor = texture2D(uSampler[\" + (maxTextures - 1) + \"], vRegion) * vColor;\",\n                    \"        };\",\n                    \"    }\",\n                    \"}\"\n                ].join(\"\\n\")\n            ]);\n            return this;\n        }\n    });\n})();\n","(function () {\n    /**\n     * @namespace me.input\n     * @memberOf me\n     */\n    me.input = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        /*\n         * PRIVATE STUFF\n         */\n\n        /**\n         * prevent event propagation\n         * @ignore\n         */\n        api._preventDefaultFn = function (e) {\n            // stop event propagation\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n            else {\n                e.cancelBubble = true;\n            }\n            // stop event default processing\n            if (e.preventDefault)  {\n                e.preventDefault();\n            }\n            else  {\n                e.returnValue = false;\n            }\n\n            return false;\n        };\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * Global flag to specify if melonJS should prevent all default browser action on registered events.\n         * default : true\n         * @public\n         * @type Boolean\n         * @name preventDefault\n         * @memberOf me.input\n         */\n        api.preventDefault = true;\n\n        // return our object\n        return api;\n    })();\n})();\n","(function (api) {\n    /*\n     * PRIVATE STUFF\n     */\n\n    // list of binded keys\n    api._KeyBinding = {};\n\n    // corresponding actions\n    var keyStatus = {};\n\n    // lock enable flag for keys\n    var keyLock = {};\n    // actual lock status of each key\n    var keyLocked = {};\n\n    // List of binded keys being held\n    var keyRefs = {};\n\n    // whether default event should be prevented for a given keypress\n    var preventDefaultForKeys = {};\n\n    // some useful flags\n    var keyboardInitialized = false;\n\n    /**\n     * enable keyboard event\n     * @ignore\n     */\n    api._enableKeyboardEvent = function () {\n        if (!keyboardInitialized) {\n            window.addEventListener(\"keydown\", api._keydown, false);\n            window.addEventListener(\"keyup\", api._keyup, false);\n            keyboardInitialized = true;\n        }\n    };\n\n    /**\n     * key down event\n     * @ignore\n     */\n    api._keydown = function (e, keyCode, mouseButton) {\n\n        keyCode = keyCode || e.keyCode || e.button;\n        var action = api._KeyBinding[keyCode];\n\n        // publish a message for keydown event\n        me.event.publish(me.event.KEYDOWN, [\n            action,\n            keyCode,\n            action ? !keyLocked[action] : true\n        ]);\n\n        if (action) {\n            if (!keyLocked[action]) {\n                var trigger = (typeof mouseButton !== \"undefined\") ? mouseButton : keyCode;\n                if (!keyRefs[action][trigger]) {\n                    keyStatus[action]++;\n                    keyRefs[action][trigger] = true;\n                }\n            }\n            // prevent event propagation\n            if (preventDefaultForKeys[keyCode]) {\n                return api._preventDefaultFn(e);\n            }\n            else {\n                return true;\n            }\n        }\n\n        return true;\n    };\n\n\n    /**\n     * key up event\n     * @ignore\n     */\n    api._keyup = function (e, keyCode, mouseButton) {\n        keyCode = keyCode || e.keyCode || e.button;\n        var action = api._KeyBinding[keyCode];\n\n        // publish a message for keydown event\n        me.event.publish(me.event.KEYUP, [ action, keyCode ]);\n\n        if (action) {\n            var trigger = (typeof mouseButton !== \"undefined\") ? mouseButton : keyCode;\n            keyRefs[action][trigger] = undefined;\n\n            if (keyStatus[action] > 0) {\n                keyStatus[action]--;\n            }\n\n            keyLocked[action] = false;\n\n            // prevent event propagation\n            if (preventDefaultForKeys[keyCode]) {\n                return api._preventDefaultFn(e);\n            }\n            else {\n                return true;\n            }\n        }\n\n        return true;\n    };\n\n    /*\n     * PUBLIC STUFF\n     */\n\n    /**\n     * standard keyboard constants\n     * @public\n     * @enum {number}\n     * @namespace KEY\n     * @memberOf me.input\n     */\n    api.KEY = {\n        /** @memberOf me.input.KEY */\n        \"BACKSPACE\" : 8,\n        /** @memberOf me.input.KEY */\n        \"TAB\" : 9,\n        /** @memberOf me.input.KEY */\n        \"ENTER\" : 13,\n        /** @memberOf me.input.KEY */\n        \"SHIFT\" : 16,\n        /** @memberOf me.input.KEY */\n        \"CTRL\" : 17,\n        /** @memberOf me.input.KEY */\n        \"ALT\" : 18,\n        /** @memberOf me.input.KEY */\n        \"PAUSE\" : 19,\n        /** @memberOf me.input.KEY */\n        \"CAPS_LOCK\" : 20,\n        /** @memberOf me.input.KEY */\n        \"ESC\" : 27,\n        /** @memberOf me.input.KEY */\n        \"SPACE\" : 32,\n        /** @memberOf me.input.KEY */\n        \"PAGE_UP\" : 33,\n        /** @memberOf me.input.KEY */\n        \"PAGE_DOWN\" : 34,\n        /** @memberOf me.input.KEY */\n        \"END\" : 35,\n        /** @memberOf me.input.KEY */\n        \"HOME\" : 36,\n        /** @memberOf me.input.KEY */\n        \"LEFT\" : 37,\n        /** @memberOf me.input.KEY */\n        \"UP\" : 38,\n        /** @memberOf me.input.KEY */\n        \"RIGHT\" : 39,\n        /** @memberOf me.input.KEY */\n        \"DOWN\" : 40,\n        /** @memberOf me.input.KEY */\n        \"PRINT_SCREEN\" : 42,\n        /** @memberOf me.input.KEY */\n        \"INSERT\" : 45,\n        /** @memberOf me.input.KEY */\n        \"DELETE\" : 46,\n        /** @memberOf me.input.KEY */\n        \"NUM0\" : 48,\n        /** @memberOf me.input.KEY */\n        \"NUM1\" : 49,\n        /** @memberOf me.input.KEY */\n        \"NUM2\" : 50,\n        /** @memberOf me.input.KEY */\n        \"NUM3\" : 51,\n        /** @memberOf me.input.KEY */\n        \"NUM4\" : 52,\n        /** @memberOf me.input.KEY */\n        \"NUM5\" : 53,\n        /** @memberOf me.input.KEY */\n        \"NUM6\" : 54,\n        /** @memberOf me.input.KEY */\n        \"NUM7\" : 55,\n        /** @memberOf me.input.KEY */\n        \"NUM8\" : 56,\n        /** @memberOf me.input.KEY */\n        \"NUM9\" : 57,\n        /** @memberOf me.input.KEY */\n        \"A\" : 65,\n        /** @memberOf me.input.KEY */\n        \"B\" : 66,\n        /** @memberOf me.input.KEY */\n        \"C\" : 67,\n        /** @memberOf me.input.KEY */\n        \"D\" : 68,\n        /** @memberOf me.input.KEY */\n        \"E\" : 69,\n        /** @memberOf me.input.KEY */\n        \"F\" : 70,\n        /** @memberOf me.input.KEY */\n        \"G\" : 71,\n        /** @memberOf me.input.KEY */\n        \"H\" : 72,\n        /** @memberOf me.input.KEY */\n        \"I\" : 73,\n        /** @memberOf me.input.KEY */\n        \"J\" : 74,\n        /** @memberOf me.input.KEY */\n        \"K\" : 75,\n        /** @memberOf me.input.KEY */\n        \"L\" : 76,\n        /** @memberOf me.input.KEY */\n        \"M\" : 77,\n        /** @memberOf me.input.KEY */\n        \"N\" : 78,\n        /** @memberOf me.input.KEY */\n        \"O\" : 79,\n        /** @memberOf me.input.KEY */\n        \"P\" : 80,\n        /** @memberOf me.input.KEY */\n        \"Q\" : 81,\n        /** @memberOf me.input.KEY */\n        \"R\" : 82,\n        /** @memberOf me.input.KEY */\n        \"S\" : 83,\n        /** @memberOf me.input.KEY */\n        \"T\" : 84,\n        /** @memberOf me.input.KEY */\n        \"U\" : 85,\n        /** @memberOf me.input.KEY */\n        \"V\" : 86,\n        /** @memberOf me.input.KEY */\n        \"W\" : 87,\n        /** @memberOf me.input.KEY */\n        \"X\" : 88,\n        /** @memberOf me.input.KEY */\n        \"Y\" : 89,\n        /** @memberOf me.input.KEY */\n        \"Z\" : 90,\n        /** @memberOf me.input.KEY */\n        \"WINDOW_KEY\" : 91,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD0\" : 96,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD1\" : 97,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD2\" : 98,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD3\" : 99,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD4\" : 100,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD5\" : 101,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD6\" : 102,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD7\" : 103,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD8\" : 104,\n        /** @memberOf me.input.KEY */\n        \"NUMPAD9\" : 105,\n        /** @memberOf me.input.KEY */\n        \"MULTIPLY\" : 106,\n        /** @memberOf me.input.KEY */\n        \"ADD\" : 107,\n        /** @memberOf me.input.KEY */\n        \"SUBSTRACT\" : 109,\n        /** @memberOf me.input.KEY */\n        \"DECIMAL\" : 110,\n        /** @memberOf me.input.KEY */\n        \"DIVIDE\" : 111,\n        /** @memberOf me.input.KEY */\n        \"F1\" : 112,\n        /** @memberOf me.input.KEY */\n        \"F2\" : 113,\n        /** @memberOf me.input.KEY */\n        \"F3\" : 114,\n        /** @memberOf me.input.KEY */\n        \"F4\" : 115,\n        /** @memberOf me.input.KEY */\n        \"F5\" : 116,\n        /** @memberOf me.input.KEY */\n        \"F6\" : 117,\n        /** @memberOf me.input.KEY */\n        \"F7\" : 118,\n        /** @memberOf me.input.KEY */\n        \"F8\" : 119,\n        /** @memberOf me.input.KEY */\n        \"F9\" : 120,\n        /** @memberOf me.input.KEY */\n        \"F10\" : 121,\n        /** @memberOf me.input.KEY */\n        \"F11\" : 122,\n        /** @memberOf me.input.KEY */\n        \"F12\" : 123,\n        /** @memberOf me.input.KEY */\n        \"TILDE\" : 126,\n        /** @memberOf me.input.KEY */\n        \"NUM_LOCK\" : 144,\n        /** @memberOf me.input.KEY */\n        \"SCROLL_LOCK\" : 145,\n        /** @memberOf me.input.KEY */\n        \"SEMICOLON\" : 186,\n        /** @memberOf me.input.KEY */\n        \"PLUS\" : 187,\n        /** @memberOf me.input.KEY */\n        \"COMMA\" : 188,\n        /** @memberOf me.input.KEY */\n        \"MINUS\" : 189,\n        /** @memberOf me.input.KEY */\n        \"PERIOD\" : 190,\n        /** @memberOf me.input.KEY */\n        \"FORWAND_SLASH\" : 191,\n        /** @memberOf me.input.KEY */\n        \"GRAVE_ACCENT\" : 192,\n        /** @memberOf me.input.KEY */\n        \"OPEN_BRACKET\" : 219,\n        /** @memberOf me.input.KEY */\n        \"BACK_SLASH\" : 220,\n        /** @memberOf me.input.KEY */\n        \"CLOSE_BRACKET\" : 221,\n        /** @memberOf me.input.KEY */\n        \"SINGLE_QUOTE\" : 222\n    };\n\n    /**\n     * return the key press status of the specified action\n     * @name isKeyPressed\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {String} action user defined corresponding action\n     * @return {Boolean} true if pressed\n     * @example\n     * if (me.input.isKeyPressed('left'))\n     * {\n     *    //do something\n     * }\n     * else if (me.input.isKeyPressed('right'))\n     * {\n     *    //do something else...\n     * }\n     *\n     */\n    api.isKeyPressed = function (action) {\n        if (keyStatus[action] && !keyLocked[action]) {\n            if (keyLock[action]) {\n                keyLocked[action] = true;\n            }\n            return true;\n        }\n        return false;\n    };\n\n    /**\n     * return the key status of the specified action\n     * @name keyStatus\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {String} action user defined corresponding action\n     * @return {Boolean} down (true) or up(false)\n     */\n    api.keyStatus = function (action) {\n        return (keyStatus[action] > 0);\n    };\n\n\n    /**\n     * trigger the specified key (simulated) event <br>\n     * @name triggerKeyEvent\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {me.input.KEY} keycode\n     * @param {Boolean} [status=false] true to trigger a key press, or false for key release\n     * @example\n     * // trigger a key press\n     * me.input.triggerKeyEvent(me.input.KEY.LEFT, true);\n     */\n    api.triggerKeyEvent = function (keycode, status) {\n        if (status) {\n            api._keydown({}, keycode);\n        }\n        else {\n            api._keyup({}, keycode);\n        }\n    };\n\n\n    /**\n     * associate a user defined action to a keycode\n     * @name bindKey\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {me.input.KEY} keycode\n     * @param {String} action user defined corresponding action\n     * @param {Boolean} [lock=false] cancel the keypress event once read\n     * @param {Boolean} [preventDefault=me.input.preventDefault] prevent default browser action\n     * @example\n     * // enable the keyboard\n     * me.input.bindKey(me.input.KEY.LEFT,  \"left\");\n     * me.input.bindKey(me.input.KEY.RIGHT, \"right\");\n     * me.input.bindKey(me.input.KEY.X,     \"jump\", true);\n     * me.input.bindKey(me.input.KEY.F1,    \"options\", true, true);\n     */\n    api.bindKey = function (keycode, action, lock, preventDefault) {\n        // make sure the keyboard is enable\n        api._enableKeyboardEvent();\n\n        if (typeof preventDefault !== \"boolean\") {\n            preventDefault = api.preventDefault;\n        }\n\n        api._KeyBinding[keycode] = action;\n        preventDefaultForKeys[keycode] = preventDefault;\n\n        keyStatus[action] = 0;\n        keyLock[action] = lock ? lock : false;\n        keyLocked[action] = false;\n        keyRefs[action] = {};\n    };\n\n    /**\n     * unlock a key manually\n     * @name unlockKey\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {String} action user defined corresponding action\n     * @example\n     * // Unlock jump when touching the ground\n     * if (!this.falling && !this.jumping) {\n     *     me.input.unlockKey(\"jump\");\n     * }\n     */\n    api.unlockKey = function (action) {\n        keyLocked[action] = false;\n    };\n\n    /**\n     * unbind the defined keycode\n     * @name unbindKey\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {me.input.KEY} keycode\n     * @example\n     * me.input.unbindKey(me.input.KEY.LEFT);\n     */\n    api.unbindKey = function (keycode) {\n        // clear the event status\n        var keybinding = api._KeyBinding[keycode];\n        keyStatus[keybinding] = 0;\n        keyLock[keybinding] = false;\n        keyRefs[keybinding] = {};\n        // remove the key binding\n        api._KeyBinding[keycode] = null;\n        preventDefaultForKeys[keycode] = null;\n    };\n})(me.input);\n","(function () {\n\n    /**\n     * cache value for the offset of the canvas position within the page\n     * @ignore\n     */\n    var viewportOffset = new me.Vector2d();\n\n    /**\n     * a pointer object, representing a single finger on a touch enabled device.\n     * @class\n     * @extends me.Rect\n     * @memberOf me\n     * @constructor\n     */\n    me.Pointer = me.Rect.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, w, h) {\n\n          /**\n            * the originating Event Object\n            * @public\n            * @type {PointerEvent|TouchEvent|MouseEvent}\n            * @name event\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent\n            * @memberOf me.Pointer\n            */\n            this.event = undefined;\n\n           /**\n            * a string containing the event's type.\n            * @public\n            * @type {String}\n            * @name type\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/Event/type\n            * @memberOf me.Pointer\n            */\n            this.type = undefined;\n\n\n           /**\n            * the button property indicates which button was pressed on the mouse to trigger the event.\n            * @public\n            * @type {Number}\n            * @name button\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n            * @memberOf me.Pointer\n            */\n            this.button = 0;\n\n           /**\n            * indicates whether or not the pointer device that created the event is the primary pointer.\n            * @public\n            * @type {Boolean}\n            * @name isPrimary\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/isPrimary\n            * @memberOf me.Pointer\n            */\n            this.isPrimary = false;\n\n           /**\n            * the horizontal coordinate at which the event occurred, relative to the left edge of the entire document.\n            * @public\n            * @type {Number}\n            * @name pageX\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/pageX\n            * @memberOf me.Pointer\n            */\n            this.pageX = 0;\n\n           /**\n            * the vertical coordinate at which the event occurred, relative to the left edge of the entire document.\n            * @public\n            * @type {Number}\n            * @name pageY\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/pageY\n            * @memberOf me.Pointer\n            */\n            this.pageY = 0;\n\n           /**\n            * the horizontal coordinate within the application's client area at which the event occurred\n            * @public\n            * @type {Number}\n            * @name clientX\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/clientX\n            * @memberOf me.Pointer\n            */\n            this.clientX = 0;\n\n           /**\n            * the vertical coordinate within the application's client area at which the event occurred\n            * @public\n            * @type {Number}\n            * @name clientY\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/clientY\n            * @memberOf me.Pointer\n            */\n            this.clientY = 0;\n\n          /**\n            * Event normalized X coordinate within the game canvas itself<br>\n            * <img src=\"images/event_coord.png\"/>\n            * @public\n            * @type {Number}\n            * @name gameX\n            * @memberOf me.Pointer\n            */\n            this.gameX = 0;\n\n           /**\n            * Event normalized Y coordinate within the game canvas itself<br>\n            * <img src=\"images/event_coord.png\"/>\n            * @public\n            * @type {Number}\n            * @name gameY\n            * @memberOf me.Pointer\n            */\n            this.gameY = 0;\n\n           /**\n            * Event X coordinate relative to the viewport\n            * @public\n            * @type {Number}\n            * @name gameScreenX\n            * @memberOf me.Pointer\n            */\n            this.gameScreenX = 0;\n\n           /**\n            * Event Y coordinate relative to the viewport\n            * @public\n            * @type {Number}\n            * @name gameScreenY\n            * @memberOf me.Pointer\n            */\n            this.gameScreenY = 0;\n\n           /**\n            * Event X coordinate relative to the map\n            * @public\n            * @type {Number}\n            * @name gameWorldX\n            * @memberOf me.Pointer\n            */\n            this.gameWorldX = 0;\n\n           /**\n            * Event Y coordinate relative to the map\n            * @public\n            * @type {Number}\n            * @name gameWorldY\n            * @memberOf me.Pointer\n            */\n            this.gameWorldY = 0;\n\n           /**\n            * Event X coordinate relative to the holding container\n            * @public\n            * @type {Number}\n            * @name gameLocalX\n            * @memberOf me.Pointer\n            */\n            this.gameLocalX = 0;\n\n           /**\n            * Event Y coordinate relative to the holding container\n            * @public\n            * @type {Number}\n            * @name gameLocalY\n            * @memberOf me.Pointer\n            */\n            this.gameLocalY = 0;\n\n           /**\n            * The unique identifier of the contact for a touch, mouse or pen\n            * @public\n            * @type {Number}\n            * @name pointerId\n            * @memberOf me.Pointer\n            * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerId\n            */\n            this.pointerId = undefined;\n\n            // parent constructor\n            this._super(me.Rect, \"init\", [x || 0, y || 0, w || 1, h || 1]);\n        },\n\n        /**\n         * initialize the Pointer object using the given Event Object\n         * @name me.Pointer#set\n         * @private\n         * @function\n         * @param {Event} event the original Event object\n         * @param {Number} pageX the horizontal coordinate at which the event occurred, relative to the left edge of the entire document\n         * @param {Number} pageY the vertical coordinate at which the event occurred, relative to the left edge of the entire document\n         * @param {Number} clientX the horizontal coordinate within the application's client area at which the event occurred\n         * @param {Number} clientX the vertical coordinate within the application's client area at which the event occurred\n         * @param {Number} pointedId the Pointer, Touch or Mouse event Id\n         */\n        setEvent : function (event, pageX, pageY, clientX, clientY, pointerId) {\n            var width = 1;\n            var height = 1;\n\n            // the original event object\n            this.event = event;\n\n            this.pageX = pageX || 0;\n            this.pageY = pageY || 0;\n            this.clientX = clientX || 0;\n            this.clientY = clientY || 0;\n\n            // translate to local coordinates\n            me.input.globalToLocal(this.pageX, this.pageY, this.pos);\n\n            // true if not originally a pointer event\n            this.isNormalized = !me.device.PointerEvent || (me.device.PointerEvent && !(event instanceof window.PointerEvent));\n\n            if (event.type === \"wheel\") {\n                this.deltaMode = 1;\n                this.deltaX = event.deltaX;\n                this.deltaY = - 1 / 40 * event.wheelDelta;\n                event.wheelDeltaX && (this.deltaX = - 1 / 40 * event.wheelDeltaX);\n            }\n\n            // could be 0, so test if defined\n            this.pointerId = (typeof pointerId !== \"undefined\") ? pointerId : 1;\n\n            this.isPrimary = (typeof event.isPrimary !== \"undefined\") ? event.isPrimary : true;\n\n            // in case of touch events, button is not defined\n            this.button = event.button || 0;\n\n            this.type = event.type;\n\n            this.gameScreenX = this.pos.x;\n            this.gameScreenY = this.pos.y;\n\n            // get the current screen to world offset\n            if (typeof me.game.viewport !== \"undefined\") {\n                me.game.viewport.localToWorld(this.gameScreenX, this.gameScreenY, viewportOffset);\n            }\n\n            /* Initialize the two coordinate space properties. */\n            this.gameWorldX = viewportOffset.x;\n            this.gameWorldY = viewportOffset.y;\n\n            // get the pointer size\n            if (this.isNormalized === false) {\n                // native PointerEvent\n                width = event.width || 1;\n                height = event.height || 1;\n            } else if (typeof(event.radiusX) === \"number\")  {\n                // TouchEvent\n                width = (event.radiusX * 2) || 1;\n                height = (event.radiusY * 2) || 1;\n            }\n            // resize the pointer object accordingly\n            this.resize(width, height);\n        }\n    });\n})();\n","(function (api) {\n\n    /**\n     * A pool of `Pointer` objects to cache pointer/touch event coordinates.\n     * @type {Array.<Vector>}\n     */\n    var T_POINTERS = [];\n\n    // list of registered Event handlers\n    var eventHandlers = new Map();\n\n    // a cache rect represeting the current pointer area\n    var currentPointer = new me.Rect(0, 0, 1, 1);\n\n    // some useful flags\n    var pointerInitialized = false;\n\n    // Track last event timestamp to prevent firing events out of order\n    var lastTimeStamp = 0;\n\n    // \"active\" list of supported events\n    var activeEventList = [];\n\n    // internal constants\n    var WHEEL           = [\"wheel\"];\n    var POINTER_MOVE    = [\"pointermove\",   \"mousemove\",    \"touchmove\"];\n    var POINTER_DOWN    = [\"pointerdown\",   \"mousedown\",    \"touchstart\"];\n    var POINTER_UP      = [\"pointerup\",     \"mouseup\",      \"touchend\"];\n    var POINTER_CANCEL  = [\"pointercancel\", \"mousecancel\",  \"touchcancel\"];\n    var POINTER_ENTER   = [\"pointerenter\",  \"mouseenter\",   \"touchenter\"];\n    var POINTER_OVER    = [\"pointerover\",   \"mouseover\",    \"touchover\"];\n    var POINTER_LEAVE   = [\"pointerleave\",  \"mouseleave\",   \"touchleave\"];\n\n    // list of standard pointer event type\n    var pointerEventList = [\n        WHEEL[0],\n        POINTER_MOVE[0],\n        POINTER_DOWN[0],\n        POINTER_UP[0],\n        POINTER_CANCEL[0],\n        POINTER_ENTER[0],\n        POINTER_OVER[0],\n        POINTER_LEAVE[0]\n    ];\n\n    // legacy mouse event type\n    var mouseEventList = [\n        WHEEL[0],\n        POINTER_MOVE[1],\n        POINTER_DOWN[1],\n        POINTER_UP[1],\n        POINTER_CANCEL[1],\n        POINTER_ENTER[1],\n        POINTER_OVER[1],\n        POINTER_LEAVE[1]\n    ];\n\n    // iOS style touch event type\n    var touchEventList = [\n        POINTER_MOVE[2],\n        POINTER_DOWN[2],\n        POINTER_UP[2],\n        POINTER_CANCEL[2],\n        POINTER_ENTER[2],\n        POINTER_OVER[2],\n        POINTER_LEAVE[2]\n    ];\n\n    var pointerEventMap = {\n        wheel : WHEEL,\n        pointermove: POINTER_MOVE,\n        pointerdown: POINTER_DOWN,\n        pointerup: POINTER_UP,\n        pointercancel: POINTER_CANCEL,\n        pointerenter: POINTER_ENTER,\n        pointerover: POINTER_OVER,\n        pointerleave: POINTER_LEAVE\n    };\n\n    /**\n     * Array of normalized events (mouse, touch, pointer)\n     * @ignore\n     */\n    var normalizedEvents = [];\n\n    /**\n     * addEventListerner for the specified event list and callback\n     * @ignore\n     */\n    function registerEventListener(eventList, callback) {\n        for (var x = 0; x < eventList.length; x++) {\n            if (POINTER_MOVE.indexOf(eventList[x]) === -1) {\n                me.video.renderer.getScreenCanvas().addEventListener(eventList[x], callback, false);\n            }\n        }\n    }\n\n    /**\n     * enable pointer event (Pointer/Mouse/Touch)\n     * @ignore\n     */\n    function enablePointerEvent() {\n        if (!pointerInitialized) {\n\n            // instantiate a pool of pointer catched\n            for (var v = 0; v < me.device.maxTouchPoints; v++) {\n                T_POINTERS.push(new me.Pointer());\n            }\n\n            if (me.device.PointerEvent) {\n                // standard Pointer Events\n                activeEventList = pointerEventList;\n            } else {\n                // Regular Mouse events\n                activeEventList = mouseEventList;\n            }\n            if (me.device.touch && !me.device.PointerEvent) {\n                // touch event on mobile devices\n                activeEventList = activeEventList.concat(touchEventList);\n            }\n            registerEventListener(activeEventList, onPointerEvent);\n\n            // If W3C standard wheel events are not available, use non-standard\n            if (!me.device.wheel) {\n                window.addEventListener(\"mousewheel\", onMouseWheel, false);\n            }\n\n            // set the PointerMove/touchMove/MouseMove event\n            if (typeof(api.throttlingInterval) === \"undefined\") {\n                // set the default value\n                api.throttlingInterval = ~~(1000 / me.sys.fps);\n            }\n\n            if (me.sys.autoFocus === true) {\n                me.device.focus();\n                me.video.renderer.getScreenCanvas().addEventListener(\n                    activeEventList[2], // MOUSE/POINTER DOWN\n                    function () {\n                        me.device.focus();\n                    }, { passive: true }\n                );\n            }\n\n            // if time interval <= 16, disable the feature\n            var i;\n            var events = findAllActiveEvents(activeEventList, POINTER_MOVE);\n            if (api.throttlingInterval < 17) {\n                for (i = 0; i < events.length; i++) {\n                    if (activeEventList.indexOf(events[i]) !== -1) {\n                        me.video.renderer.getScreenCanvas().addEventListener(\n                            events[i],\n                            onMoveEvent,\n                            false\n                        );\n                    }\n\n                }\n            }\n            else {\n                for (i = 0; i < events.length; i++) {\n                    if (activeEventList.indexOf(events[i]) !== -1) {\n                        me.video.renderer.getScreenCanvas().addEventListener(\n                            events[i],\n                            me.utils.function.throttle(\n                                onMoveEvent,\n                                api.throttlingInterval,\n                                false\n                            ),\n                            false\n                        );\n                    }\n                }\n            }\n            // disable all gesture by default\n            me.input.setTouchAction(me.video.renderer.getScreenCanvas());\n\n            pointerInitialized = true;\n        }\n    }\n\n    /**\n     * @ignore\n     */\n    function findActiveEvent(activeEventList, eventTypes) {\n        for (var i = 0; i < eventTypes.length; i++) {\n            var event = activeEventList.indexOf(eventTypes[i]);\n            if (event !== -1) {\n                return eventTypes[i];\n            }\n        }\n    }\n\n    /**\n     * @ignore\n     */\n    function findAllActiveEvents(activeEventList, eventTypes) {\n        var events = [];\n        for (var i = 0; i < eventTypes.length; i++) {\n            var event = activeEventList.indexOf(eventTypes[i]);\n            if (event !== -1) {\n                events.push(eventTypes[i]);\n            }\n        }\n\n        return events;\n    }\n\n    /**\n     * @ignore\n     */\n    function triggerEvent(handlers, type, pointer, pointerId) {\n        var callback;\n        if (handlers.callbacks[type]) {\n            handlers.pointerId = pointerId;\n            for (var i = handlers.callbacks[type].length - 1; (i >= 0) && (callback = handlers.callbacks[type][i]); i--) {\n                if (callback(pointer) === false) {\n                    // stop propagating the event if return false\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    /**\n     * propagate events to registered objects\n     * @ignore\n     */\n    function dispatchEvent(normalizedEvents) {\n        var handled = false;\n\n        while (normalizedEvents.length > 0) {\n\n            // keep a reference to the last item\n            var pointer = normalizedEvents.pop();\n            // and put it back into our cache\n            T_POINTERS.push(pointer);\n\n            // Do not fire older events\n            if (typeof(pointer.event.timeStamp) !== \"undefined\") {\n                if (pointer.event.timeStamp < lastTimeStamp) {\n                    continue;\n                }\n                lastTimeStamp = pointer.event.timeStamp;\n            }\n\n            currentPointer.setShape(\n                pointer.gameWorldX,\n                pointer.gameWorldY,\n                pointer.width,\n                pointer.height\n            );\n\n            // trigger a global event for pointer move\n            if (POINTER_MOVE.includes(pointer.type)) {\n                pointer.gameX = pointer.gameLocalX = pointer.gameScreenX;\n                pointer.gameY = pointer.gameLocalY = pointer.gameScreenY;\n                me.event.publish(me.event.POINTERMOVE, [pointer]);\n            }\n\n            var candidates = me.collision.quadTree.retrieve(currentPointer, me.Container.prototype._sortReverseZ);\n\n            // add the main viewport to the list of candidates\n            candidates = candidates.concat([ me.game.viewport ]);\n\n            for (var c = candidates.length, candidate; c--, (candidate = candidates[c]);) {\n                if (eventHandlers.has(candidate) && (candidate.isKinematic !== true)) {\n                    var handlers = eventHandlers.get(candidate);\n                    var region = handlers.region;\n                    var ancestor = region.ancestor;\n                    var bounds = region.getBounds();\n                    var eventInBounds = false;\n\n                    if (region.floating === true) {\n                        pointer.gameX = pointer.gameLocalX = pointer.gameScreenX;\n                        pointer.gameY = pointer.gameLocalY = pointer.gameScreenY;\n                    } else {\n                        pointer.gameX = pointer.gameLocalX = pointer.gameWorldX;\n                        pointer.gameY = pointer.gameLocalY = pointer.gameWorldY;\n                    }\n                    // adjust gameLocalX to specify coordinates\n                    // within the region ancestor container\n                    if (typeof ancestor !== \"undefined\") {\n                        var parentPos = ancestor.getBounds().pos;\n                        pointer.gameLocalX = pointer.gameX - parentPos.x;\n                        pointer.gameLocalY = pointer.gameY - parentPos.y;\n                    }\n\n                    if (region instanceof me.Sprite) {\n                        var gameX = pointer.gameX;\n                        var gameY = pointer.gameY;\n                        if (!region.currentTransform.isIdentity()) {\n                            var invV = region.currentTransform.multiplyVectorInverse(\n                                me.pool.pull(\"me.Vector2d\", gameX, gameY)\n                            );\n                            gameX = invV.x;\n                            gameY = invV.y;\n                            me.pool.push(invV);\n                        }\n                        eventInBounds = bounds.containsPoint(gameX, gameY);\n                    } else {\n                        eventInBounds =\n                            bounds.containsPoint(pointer.gameX, pointer.gameY) &&\n                            (bounds === region ||\n                            // if the given target is another shape than me.Rect\n                            region.containsPoint(pointer.gameLocalX, pointer.gameLocalY));\n                    }\n\n                    switch (pointer.type) {\n                        case POINTER_MOVE[0]:\n                        case POINTER_MOVE[1]:\n                        case POINTER_MOVE[2]:\n                        case POINTER_MOVE[3]:\n                            // moved out of bounds: trigger the POINTER_LEAVE callbacks\n                            if (handlers.pointerId === pointer.pointerId && !eventInBounds) {\n                                if (triggerEvent(handlers, findActiveEvent(activeEventList, POINTER_LEAVE), pointer, null)) {\n                                    handled = true;\n                                    break;\n                                }\n                            }\n                            // no pointer & moved inside of bounds: trigger the POINTER_ENTER callbacks\n                            else if (handlers.pointerId === null && eventInBounds) {\n                                if (triggerEvent(handlers, findActiveEvent(activeEventList, POINTER_ENTER), pointer, pointer.pointerId)) {\n                                    handled = true;\n                                    break;\n                                }\n                            }\n\n                            // trigger the POINTER_MOVE callbacks\n                            if (eventInBounds && triggerEvent(handlers, pointer.type, pointer, pointer.pointerId)) {\n                                handled = true;\n                                break;\n                            }\n                            break;\n\n                        case POINTER_UP[0]:\n                        case POINTER_UP[1]:\n                        case POINTER_UP[2]:\n                        case POINTER_UP[3]:\n                            // pointer defined & inside of bounds: trigger the POINTER_UP callback\n                            if (handlers.pointerId === pointer.pointerId && eventInBounds) {\n                                // trigger the corresponding callback\n                                if (triggerEvent(handlers, pointer.type, pointer, null)) {\n                                    handled = true;\n                                    break;\n                                }\n                            }\n                            break;\n\n                        case POINTER_CANCEL[0]:\n                        case POINTER_CANCEL[1]:\n                        case POINTER_CANCEL[2]:\n                        case POINTER_CANCEL[3]:\n                            // pointer defined: trigger the POINTER_CANCEL callback\n                            if (handlers.pointerId === pointer.pointerId) {\n                                // trigger the corresponding callback\n                                if (triggerEvent(handlers, pointer.type, pointer, null)) {\n                                    handled = true;\n                                    break;\n                                }\n                            }\n                            break;\n\n                        default:\n                            // event inside of bounds: trigger the POINTER_DOWN or WHEEL callback\n                            if (eventInBounds) {\n\n                                // trigger the corresponding callback\n                                if (triggerEvent(handlers, pointer.type, pointer, pointer.pointerId)) {\n                                    handled = true;\n                                    if (pointer.type === \"wheel\") {\n                                        api._preventDefaultFn(pointer.event);\n                                    }\n                                    break;\n                                }\n                            }\n                            break;\n                    }\n                }\n                if (handled === true) {\n                    // stop iterating through this list of candidates\n                    break;\n                }\n            }\n        }\n        return handled;\n    }\n\n    /**\n     * translate event coordinates\n     * @ignore\n     */\n    function normalizeEvent(event) {\n        var pointer;\n\n        // PointerEvent or standard Mouse event\n        if (me.device.TouchEvent && event.changedTouches) {\n            // iOS/Android Touch event\n            for (var i = 0, l = event.changedTouches.length; i < l; i++) {\n                var touchEvent = event.changedTouches[i];\n                pointer = T_POINTERS.pop();\n                pointer.setEvent(\n                    event,\n                    touchEvent.pageX,\n                    touchEvent.pageY,\n                    touchEvent.clientX,\n                    touchEvent.clientY,\n                    touchEvent.identifier\n                );\n                normalizedEvents.push(pointer);\n            }\n        } else {\n            // Mouse or PointerEvent\n            pointer = T_POINTERS.pop();\n            pointer.setEvent(\n                event,\n                event.pageX,\n                event.pageY,\n                event.clientX,\n                event.clientY,\n                event.pointerId\n            );\n            normalizedEvents.push(pointer);\n        }\n\n        // if event.isPrimary is defined and false, return\n        if (event.isPrimary === false) {\n            return normalizedEvents;\n        }\n\n        // else use the first entry to simulate mouse event\n        normalizedEvents[0].isPrimary = true;\n        Object.assign(api.pointer, normalizedEvents[0]);\n\n        return normalizedEvents;\n    }\n\n\n    /**\n     * mouse event management (mousewheel)\n     * XXX: mousewheel is deprecated\n     * @ignore\n     */\n    function onMouseWheel(e) {\n        /* jshint expr:true */\n        if (e.target === me.video.renderer.getScreenCanvas()) {\n            // create a (fake) normalized event object\n            e.type = \"wheel\";\n            // dispatch mouse event to registered object\n            return dispatchEvent(normalizeEvent(e));\n        }\n        return true;\n    }\n\n\n    /**\n     * mouse/touch/pointer event management (move)\n     * @ignore\n     */\n    function onMoveEvent(e) {\n        // dispatch mouse event to registered object\n        dispatchEvent(normalizeEvent(e));\n        // do not prevent default on moveEvent :\n        // - raise a deprectated warning in latest chrome version for touchEvent\n        // - uncessary for pointer Events\n        return true;\n    }\n\n    /**\n     * mouse/touch/pointer event management (start/down, end/up)\n     * @ignore\n     */\n    function onPointerEvent(e)  {\n        var ret = true;\n\n        // normalize eventTypes\n        normalizeEvent(e);\n\n        // remember/use the first \"primary\" normalized event for pointer.bind\n        var button = normalizedEvents[0].button;\n\n        // dispatch event to registered objects\n        if (dispatchEvent(normalizedEvents) || api.preventDefault) {\n            // prevent default action\n            ret = api._preventDefaultFn(e);\n        }\n\n        var keycode = api.pointer.bind[button];\n\n        // check if mapped to a key\n        if (keycode) {\n            if (POINTER_DOWN.includes(e.type)) {\n                return api._keydown(e, keycode, button + 1);\n            }\n            else { // 'mouseup' or 'touchend'\n                return api._keyup(e, keycode, button + 1);\n            }\n        }\n\n        return ret;\n    }\n\n    /*\n     * PUBLIC STUFF\n     */\n\n    /**\n     * Pointer information (current position and size) <br>\n     * properties : <br>\n     * LEFT : constant for left button <br>\n     * MIDDLE : constant for middle button <br>\n     * RIGHT : constant for right button\n     * @public\n     * @type {me.Rect}\n     * @name pointer\n     * @memberOf me.input\n     */\n    api.pointer = new me.Pointer(0, 0, 1, 1);\n\n    // bind list for mouse buttons\n    api.pointer.bind = [ 0, 0, 0 ];\n\n    // W3C button constants\n    api.pointer.LEFT = 0;\n    api.pointer.MIDDLE = 1;\n    api.pointer.RIGHT = 2;\n\n    /**\n     * time interval for event throttling in milliseconds<br>\n     * default value : \"1000/me.sys.fps\" ms<br>\n     * set to 0 ms to disable the feature\n     * @public\n     * @type Number\n     * @name throttlingInterval\n     * @memberOf me.input\n     */\n    api.throttlingInterval = undefined;\n\n    /**\n     * Translate the specified x and y values from the global (absolute)\n     * coordinate to local (viewport) relative coordinate.\n     * @name globalToLocal\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {Number} x the global x coordinate to be translated.\n     * @param {Number} y the global y coordinate to be translated.\n     * @param {Number} [v] an optional vector object where to set the\n     * @return {me.Vector2d} A vector object with the corresponding translated coordinates.\n     * @example\n     * onMouseEvent : function (pointer) {\n     *    // convert the given into local (viewport) relative coordinates\n     *    var pos = me.input.globalToLocal(pointer.clientX, pointer.clientY);\n     *    // do something with pos !\n     * };\n     */\n    api.globalToLocal = function (x, y, v) {\n        v = v || new me.Vector2d();\n        var parent = me.video.renderer.getBounds();\n        var pixelRatio = me.device.devicePixelRatio;\n        x -= parent.left;\n        y -= parent.top;\n        var scale = me.sys.scale;\n        if (scale.x !== 1.0 || scale.y !== 1.0) {\n            x /= scale.x;\n            y /= scale.y;\n        }\n        return v.set(x * pixelRatio, y * pixelRatio);\n    };\n\n    /**\n     * enable/disable all gestures on the given element.<br>\n     * by default melonJS will disable browser handling of all panning and zooming gestures.\n     * @name setTouchAction\n     * @memberOf me.input\n     * @see https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action\n     * @public\n     * @function\n     * @param {HTMLCanvasElement} element\n     * @param {String} [value=\"none\"]\n     */\n    api.setTouchAction = function (element, value) {\n        element.style[\"touch-action\"] = value || \"none\";\n    };\n\n    /**\n     * Associate a pointer event to a keycode<br>\n     * Left button â 0\n     * Middle button â 1\n     * Right button â 2\n     * @name bindPointer\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {Number} [button=me.input.pointer.LEFT] (accordingly to W3C values : 0,1,2 for left, middle and right buttons)\n     * @param {me.input.KEY} keyCode\n     * @example\n     * // enable the keyboard\n     * me.input.bindKey(me.input.KEY.X, \"shoot\");\n     * // map the left button click on the X key (default if the button is not specified)\n     * me.input.bindPointer(me.input.KEY.X);\n     * // map the right button click on the X key\n     * me.input.bindPointer(me.input.pointer.RIGHT, me.input.KEY.X);\n     */\n    api.bindPointer = function () {\n        var button = (arguments.length < 2) ? api.pointer.LEFT : arguments[0];\n        var keyCode = (arguments.length < 2) ? arguments[0] : arguments[1];\n\n        // make sure the mouse is initialized\n        enablePointerEvent();\n\n        // throw an exception if no action is defined for the specified keycode\n        if (!api._KeyBinding[keyCode]) {\n            throw new Error(\"no action defined for keycode \" + keyCode);\n        }\n        // map the mouse button to the keycode\n        api.pointer.bind[button] = keyCode;\n    };\n\n    /**\n     * unbind the defined keycode\n     * @name unbindPointer\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {Number} [button=me.input.pointer.LEFT] (accordingly to W3C values : 0,1,2 for left, middle and right buttons)\n     * @example\n     * me.input.unbindPointer(me.input.pointer.LEFT);\n     */\n    api.unbindPointer = function (button) {\n        // clear the event status\n        api.pointer.bind[\n            typeof(button) === \"undefined\" ?\n            api.pointer.LEFT : button\n        ] = null;\n    };\n\n\n    /**\n     * allows registration of event listeners on the object target. <br>\n     * melonJS will pass a me.Pointer object to the defined callback.\n     * @see me.Pointer\n     * @see {@link http://www.w3.org/TR/pointerevents/#list-of-pointer-events|W3C Pointer Event list}\n     * @name registerPointerEvent\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {String} eventType The event type for which the object is registering <br>\n     * melonJS currently supports: <br>\n     * <ul>\n     *   <li><code>\"pointermove\"</code></li>\n     *   <li><code>\"pointerdown\"</code></li>\n     *   <li><code>\"pointerup\"</code></li>\n     *   <li><code>\"pointerenter\"</code></li>\n     *   <li><code>\"pointerover\"</code></li>\n     *   <li><code>\"pointerleave\"</code></li>\n     *   <li><code>\"pointercancel\"</code></li>\n     *   <li><code>\"wheel\"</code></li>\n     * </ul>\n     * @param {me.Rect|me.Polygon|me.Line|me.Ellipse} region a shape representing the region to register on\n     * @param {Function} callback methods to be called when the event occurs.\n     * Returning `false` from the defined callback will prevent the event to be propagated to other objects\n     * @example\n     *  // onActivate function\n     *  onActivateEvent: function () {\n     *     // register on the 'pointerdown' event\n     *     me.input.registerPointerEvent('pointerdown', this, this.pointerDown.bind(this));\n     *  },\n     *\n     *  // pointerDown event callback\n     *  pointerDown: function (pointer) {\n     *    // do something\n     *    ....\n     *    // don\"t propagate the event to other objects\n     *    return false;\n     *  },\n     */\n    api.registerPointerEvent = function (eventType, region, callback) {\n        // make sure the mouse/touch events are initialized\n        enablePointerEvent();\n\n        if (pointerEventList.indexOf(eventType) === -1) {\n            throw new Error(\"invalid event type : \" + eventType);\n        }\n\n        if (typeof region === \"undefined\") {\n            throw new Error(\"registerPointerEvent: region for \" + region + \" event is undefined \");\n        }\n\n        var eventTypes = findAllActiveEvents(activeEventList, pointerEventMap[eventType]);\n\n        // register the event\n        if (!eventHandlers.has(region)) {\n            eventHandlers.set(region, {\n                region : region,\n                callbacks : {},\n                pointerId : null\n            });\n        }\n\n        // allocate array if not defined\n        var handlers = eventHandlers.get(region);\n        for (var i = 0; i < eventTypes.length; i++) {\n            eventType = eventTypes[i];\n            if (handlers.callbacks[eventType]) {\n                handlers.callbacks[eventType].push(callback);\n            } else {\n                handlers.callbacks[eventType] = [callback];\n            }\n        }\n    };\n\n    /**\n     * allows the removal of event listeners from the object target.\n     * @see {@link http://www.w3.org/TR/pointerevents/#list-of-pointer-events|W3C Pointer Event list}\n     * @name releasePointerEvent\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {String} eventType The event type for which the object was registered. See {@link me.input.registerPointerEvent}\n     * @param {me.Rect|me.Polygon|me.Line|me.Ellipse} region the registered region to release for this event\n     * @param {Function} [callback=\"all\"] if specified unregister the event only for the specific callback\n     * @example\n     * // release the registered region on the 'pointerdown' event\n     * me.input.releasePointerEvent('pointerdown', this);\n     */\n    api.releasePointerEvent = function (eventType, region, callback) {\n        if (pointerEventList.indexOf(eventType) === -1) {\n            throw new Error(\"invalid event type : \" + eventType);\n        }\n\n        // convert to supported event type if pointerEvent not natively supported\n        var eventTypes = findAllActiveEvents(activeEventList, pointerEventMap[eventType]);\n\n        var handlers = eventHandlers.get(region);\n        if (typeof (handlers) !== \"undefined\") {\n            for (var i = 0; i < eventTypes.length; i++) {\n                eventType = eventTypes[i];\n                if (handlers.callbacks[eventType]) {\n                    if (typeof (callback) !== \"undefined\") {\n                        me.utils.array.remove(handlers.callbacks[eventType], callback);\n                    } else {\n                        while (handlers.callbacks[eventType].length > 0) {\n                            handlers.callbacks[eventType].pop();\n                        }\n                    }\n                    // free the array if empty\n                    if (handlers.callbacks[eventType].length === 0) {\n                        delete handlers.callbacks[eventType];\n                    }\n                }\n            }\n            if (Object.keys(handlers.callbacks).length === 0) {\n                eventHandlers.delete(region);\n            }\n        }\n    };\n\n})(me.input);\n","(function (api) {\n    /*\n     * PRIVATE STUFF\n     */\n\n    // Analog deadzone\n    var deadzone = 0.1;\n\n    /**\n     * A function that returns a normalized value in range [-1.0..1.0], or 0.0 if the axis is unknown.\n     * @callback me.input~normalize_fn\n     * @param {Number} value The raw value read from the gamepad driver\n     * @param {Number} axis The axis index from the standard mapping, or -1 if not an axis\n     * @param {Number} button The button index from the standard mapping, or -1 if not a button\n     */\n    function defaultNormalizeFn(value) {\n        return value;\n    }\n\n    /**\n     * Normalize axis values for wired Xbox 360\n     * @ignore\n     */\n    function wiredXbox360NormalizeFn(value, axis, button) {\n        if (button === api.GAMEPAD.BUTTONS.L2 || button === api.GAMEPAD.BUTTONS.R2) {\n            return (value + 1) / 2;\n        }\n        return value;\n    }\n\n    /**\n     * Normalize axis values for OUYA\n     * @ignore\n     */\n    function ouyaNormalizeFn(value, axis, button) {\n        if (value > 0) {\n            if (button === api.GAMEPAD.BUTTONS.L2) {\n                // L2 is wonky; seems like the deadzone is around 20000\n                // (That's over 15% of the total range!)\n                value = Math.max(0, value - 20000) / 111070;\n            }\n            else {\n                // Normalize [1..65536] => [0.0..0.5]\n                value = (value - 1) / 131070;\n            }\n        }\n        else {\n            // Normalize [-65536..-1] => [0.5..1.0]\n            value = (65536 + value) / 131070 + 0.5;\n        }\n\n        return value;\n    }\n\n    // Match vendor and product codes for Firefox\n    var vendorProductRE = /^([0-9a-f]{1,4})-([0-9a-f]{1,4})-/i;\n\n    // Match leading zeros\n    var leadingZeroRE = /^0+/;\n\n    /**\n     * Firefox reports different ids for gamepads depending on the platform:\n     * - Windows: vendor and product codes contain leading zeroes\n     * - Mac: vendor and product codes are sparse (no leading zeroes)\n     *\n     * This function normalizes the id to support both formats\n     * @ignore\n     */\n    function addMapping(id, mapping) {\n        var expanded_id = id.replace(vendorProductRE, function (_, a, b) {\n            return (\n                \"000\".substr(a.length - 1) + a + \"-\" +\n                \"000\".substr(b.length - 1) + b + \"-\"\n            );\n        });\n        var sparse_id = id.replace(vendorProductRE, function (_, a, b) {\n            return (\n                a.replace(leadingZeroRE, \"\") + \"-\" +\n                b.replace(leadingZeroRE, \"\") + \"-\"\n            );\n        });\n\n        // Normalize optional parameters\n        mapping.analog = mapping.analog || mapping.buttons.map(function () {\n            return -1;\n        });\n        mapping.normalize_fn = mapping.normalize_fn || defaultNormalizeFn;\n\n        remap.set(expanded_id, mapping);\n        remap.set(sparse_id, mapping);\n    }\n\n    // binding list\n    var bindings = {};\n\n    // mapping list\n    var remap = new Map();\n\n    /**\n     * Default gamepad mappings\n     * @ignore\n     */\n    [\n        // Firefox mappings\n        [\n            \"45e-28e-Xbox 360 Wired Controller\",\n            {\n                \"axes\" : [ 0, 1, 3, 4 ],\n                \"buttons\" : [ 11, 12, 13, 14, 8, 9, -1, -1, 5, 4, 6, 7, 0, 1, 2, 3, 10 ],\n                \"analog\" : [ -1, -1, -1, -1, -1, -1, 2, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1 ],\n                \"normalize_fn\" : wiredXbox360NormalizeFn\n            }\n        ],\n        [\n            \"54c-268-PLAYSTATION(R)3 Controller\",\n            {\n                \"axes\" : [ 0, 1, 2, 3 ],\n                \"buttons\" : [ 14, 13, 15, 12, 10, 11, 8, 9, 0, 3, 1, 2, 4, 6, 7, 5, 16 ]\n            }\n        ],\n        [\n            \"54c-5c4-Wireless Controller\", // PS4 Controller\n            {\n                \"axes\" : [ 0, 1, 2, 3 ],\n                \"buttons\" : [ 1, 0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 14, 15, 16, 17, 12, 13 ]\n            }\n        ],\n        [\n            \"2836-1-OUYA Game Controller\",\n            {\n                \"axes\" : [ 0, 3, 7, 9 ],\n                \"buttons\" : [ 3, 6, 4, 5, 7, 8, 15, 16, -1, -1, 9, 10, 11, 12, 13, 14, -1 ],\n                \"analog\" : [ -1, -1, -1, -1, -1, -1, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1 ],\n                \"normalize_fn\" : ouyaNormalizeFn\n            }\n        ],\n\n        // Chrome mappings\n        [\n            \"OUYA Game Controller (Vendor: 2836 Product: 0001)\",\n            {\n                \"axes\" : [ 0, 1, 3, 4 ],\n                \"buttons\" : [ 0, 3, 1, 2, 4, 5, 12, 13, -1, -1, 6, 7, 8, 9, 10, 11, -1 ],\n                \"analog\" : [ -1, -1, -1, -1, -1, -1, 2, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1 ],\n                \"normalize_fn\" : ouyaNormalizeFn\n            }\n        ]\n    ].forEach(function (value) {\n        addMapping(value[0], value[1]);\n    });\n\n    /**\n     * gamepad connected callback\n     * @ignore\n     */\n    window.addEventListener(\"gamepadconnected\", function (event) {\n        me.event.publish(me.event.GAMEPAD_CONNECTED, [ event.gamepad ]);\n    }, false);\n\n    /**\n     * gamepad disconnected callback\n     * @ignore\n     */\n    window.addEventListener(\"gamepaddisconnected\", function (event) {\n        me.event.publish(me.event.GAMEPAD_DISCONNECTED, [ event.gamepad ]);\n    }, false);\n\n    /**\n     * Update gamepad status\n     * @ignore\n     */\n    api._updateGamepads = navigator.getGamepads ? function () {\n        var gamepads = navigator.getGamepads();\n        var e = {};\n\n        // Trigger button bindings\n        Object.keys(bindings).forEach(function (index) {\n            var gamepad = gamepads[index];\n            if (!gamepad) {\n                return;\n            }\n\n            var mapping = null;\n            if (gamepad.mapping !== \"standard\") {\n                mapping = remap.get(gamepad.id);\n            }\n\n            var binding = bindings[index];\n\n            // Iterate all buttons that have active bindings\n            Object.keys(binding.buttons).forEach(function (button) {\n                var last = binding.buttons[button];\n                var mapped_button = button;\n                var mapped_axis = -1;\n\n                // Remap buttons if necessary\n                if (mapping) {\n                    mapped_button = mapping.buttons[button];\n                    mapped_axis = mapping.analog[button];\n                    if (mapped_button < 0 && mapped_axis < 0) {\n                        // Button is not mapped\n                        return;\n                    }\n                }\n\n                // Get mapped button\n                var current = gamepad.buttons[mapped_button] || {};\n\n                // Remap an axis to an analog button\n                if (mapping) {\n                    if (mapped_axis >= 0) {\n                        var value = mapping.normalize_fn(gamepad.axes[mapped_axis], -1, +button);\n\n                        // Create a new object, because GamepadButton is read-only\n                        current = {\n                            \"value\" : value,\n                            \"pressed\" : current.pressed || (Math.abs(value) >= deadzone)\n                        };\n                    }\n                }\n\n                me.event.publish(me.event.GAMEPAD_UPDATE, [ index, \"buttons\", +button, current ]);\n\n                // Edge detection\n                if (!last.pressed && current.pressed) {\n                    api._keydown(e, last.keyCode, mapped_button + 256);\n                }\n                else if (last.pressed && !current.pressed) {\n                    api._keyup(e, last.keyCode, mapped_button + 256);\n                }\n\n                // Update last button state\n                last.value = current.value;\n                last.pressed = current.pressed;\n            });\n\n            // Iterate all axes that have active bindings\n            Object.keys(binding.axes).forEach(function (axis) {\n                var last = binding.axes[axis];\n                var mapped_axis = axis;\n\n                // Remap buttons if necessary\n                if (mapping) {\n                    mapped_axis = mapping.axes[axis];\n                    if (mapped_axis < 0) {\n                        // axe is not mapped\n                        return;\n                    }\n                }\n\n                // retrieve the current value and normalize if necessary\n                var value = gamepad.axes[mapped_axis];\n                if (typeof(value) === \"undefined\") {\n                    return;\n                }\n                if (mapping) {\n                    value = mapping.normalize_fn(value, +axis, -1);\n                }\n                // normalize value into a [-1, 1] range value (treat 0 as positive)\n                var range = Math.sign(value) || 1;\n                if (last[range].keyCode === 0) {\n                    return;\n                }\n                var pressed = (Math.abs(value) >= (deadzone + Math.abs(last[range].threshold)));\n\n                me.event.publish(me.event.GAMEPAD_UPDATE, [ index, \"axes\", +axis, value ]);\n\n                // Edge detection\n                if (!last[range].pressed && pressed) {\n                    // Release the opposite direction, if necessary\n                    if (last[-range].pressed) {\n                        api._keyup(e, last[-range].keyCode, mapped_axis + 256);\n                        last[-range].value = 0;\n                        last[-range].pressed = false;\n                    }\n\n                    api._keydown(e, last[range].keyCode, mapped_axis + 256);\n                }\n                else if ((last[range].pressed || last[-range].pressed) && !pressed) {\n                    range = last[range].pressed ? range : -range;\n                    api._keyup(e, last[range].keyCode, mapped_axis + 256);\n                }\n\n                // Update last axis state\n                last[range].value = value;\n                last[range].pressed = pressed;\n            });\n        });\n    } : function () {};\n\n    /*\n     * PUBLIC STUFF\n     */\n\n    /**\n     * Namespace for standard gamepad mapping constants\n     * @public\n     * @namespace GAMEPAD\n     * @memberOf me.input\n     */\n    api.GAMEPAD = {\n        /**\n         * Standard gamepad mapping information for axes<br>\n         * <ul>\n         *   <li>Left control stick: <code>LX</code> (horizontal), <code>LY</code> (vertical)</li>\n         *   <li>Right control stick: <code>RX</code> (horizontal), <code>RY</code> (vertical)</li>\n         *   <li>Extras: <code>EXTRA_1</code>, <code>EXTRA_2</code>, <code>EXTRA_3</code>, <code>EXTRA_4</code></li>\n         * </ul>\n         * @public\n         * @name AXES\n         * @enum {Number}\n         * @memberOf me.input.GAMEPAD\n         * @see https://w3c.github.io/gamepad/#remapping\n         */\n        \"AXES\" : {\n            \"LX\"        : 0,\n            \"LY\"        : 1,\n            \"RX\"        : 2,\n            \"RY\"        : 3,\n            \"EXTRA_1\"   : 4,\n            \"EXTRA_2\"   : 5,\n            \"EXTRA_3\"   : 6,\n            \"EXTRA_4\"   : 7\n        },\n\n        /**\n         * Standard gamepad mapping information for buttons<br>\n         * <ul>\n         *   <li>Face buttons: <code>FACE_1</code>, <code>FACE_2</code>, <code>FACE_3</code>, <code>FACE_4</code></li>\n         *   <li>D-Pad: <code>UP</code>, <code>DOWN</code>, <code>LEFT</code>, <code>RIGHT</code></li>\n         *   <li>Shoulder buttons: <code>L1</code>, <code>L2</code>, <code>R1</code>, <code>R2</code></li>\n         *   <li>Analog stick (clicks): <code>L3</code>, <code>R3</code></li>\n         *   <li>Navigation: <code>SELECT</code> (<code>BACK</code>), <code>START</code> (<code>FORWARD</code>), <code>HOME</code></li>\n         *   <li>Extras: <code>EXTRA_1</code>, <code>EXTRA_2</code>, <code>EXTRA_3</code>, <code>EXTRA_4</code></li>\n         * </ul>\n         * @public\n         * @name BUTTONS\n         * @enum {Number}\n         * @memberOf me.input.GAMEPAD\n         * @see https://w3c.github.io/gamepad/#remapping\n         */\n        \"BUTTONS\" : {\n            \"FACE_1\"    : 0,\n            \"FACE_2\"    : 1,\n            \"FACE_3\"    : 2,\n            \"FACE_4\"    : 3,\n            \"L1\"        : 4,\n            \"R1\"        : 5,\n            \"L2\"        : 6,\n            \"R2\"        : 7,\n            \"SELECT\"    : 8,\n            \"BACK\"      : 8,\n            \"START\"     : 9,\n            \"FORWARD\"   : 9,\n            \"L3\"        : 10,\n            \"R3\"        : 11,\n            \"UP\"        : 12,\n            \"DOWN\"      : 13,\n            \"LEFT\"      : 14,\n            \"RIGHT\"     : 15,\n            \"HOME\"      : 16,\n            \"EXTRA_1\"   : 17,\n            \"EXTRA_2\"   : 18,\n            \"EXTRA_3\"   : 19,\n            \"EXTRA_4\"   : 20\n        }\n    };\n\n    /**\n     * Associate a gamepad event to a keycode\n     * @name bindGamepad\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {Number} index Gamepad index\n     * @param {Object} button Button/Axis definition\n     * @param {String} button.type \"buttons\" or \"axes\"\n     * @param {me.input.GAMEPAD.BUTTONS|me.input.GAMEPAD.AXES} button.code button or axis code id\n     * @param {Number} [button.threshold=1] value indicating when the axis should trigger the keycode (e.g. -0.5 or 0.5)\n     * @param {me.input.KEY} keyCode\n     * @example\n     * // enable the keyboard\n     * me.input.bindKey(me.input.KEY.X, \"shoot\");\n     * ...\n     * // map the lower face button on the first gamepad to the X key\n     * me.input.bindGamepad(0, {type:\"buttons\", code: me.input.GAMEPAD.BUTTONS.FACE_1}, me.input.KEY.X);\n     * // map the left axis value on the first gamepad to the LEFT key\n     * me.input.bindGamepad(0, {type:\"axes\", code: me.input.GAMEPAD.AXES.LX, threshold: -0.5}, me.input.KEY.LEFT);\n     */\n    api.bindGamepad = function (index, button, keyCode) {\n        // Throw an exception if no action is defined for the specified keycode\n        if (!api._KeyBinding[keyCode]) {\n            throw new Error(\"no action defined for keycode \" + keyCode);\n        }\n\n        // Allocate bindings if not defined\n        if (!bindings[index]) {\n            bindings[index] = {\n                \"axes\" : {},\n                \"buttons\" : {}\n            };\n        }\n\n        var mapping = {\n            \"keyCode\" : keyCode,\n            \"value\" : 0,\n            \"pressed\" : false,\n            \"threshold\" : button.threshold // can be undefined\n        };\n        var binding = bindings[index][button.type];\n\n        // Map the gamepad button or axis to the keycode\n        if (button.type === \"buttons\") {\n            // buttons are defined by a `gamePadButton` object\n            binding[button.code] = mapping;\n        } else if (button.type === \"axes\") {\n            // normalize threshold into a value that can represent both side of the axis\n            var range = (Math.sign(button.threshold) || 1);\n            // axes are defined using two objects; one for negative and one for positive\n            if (!binding[button.code]) {\n                binding[button.code] = {};\n            }\n            var axes = binding[button.code];\n            axes[range] = mapping;\n\n            // Ensure the opposite axis exists\n            if (!axes[-range]) {\n                axes[-range] = {\n                    \"keyCode\" : 0,\n                    \"value\" : 0,\n                    \"pressed\" : false,\n                    \"threshold\" : -range\n                };\n            }\n        }\n    };\n\n    /**\n     * unbind the defined keycode\n     * @name unbindGamepad\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {Number} index Gamepad index\n     * @param {me.input.GAMEPAD.BUTTONS} button\n     * @example\n     * me.input.unbindGamepad(0, me.input.GAMEPAD.BUTTONS.FACE_1);\n     */\n    api.unbindGamepad = function (index, button) {\n        if (!bindings[index]) {\n            throw new Error(\"no bindings for gamepad \" + index);\n        }\n        bindings[index].buttons[button] = {};\n    };\n\n    /**\n     * Set deadzone for analog gamepad inputs<br>\n     * The default deadzone is 0.1 (10%) Analog values less than this will be ignored\n     * @name setGamepadDeadzone\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {Number} value Deadzone value\n     */\n    api.setGamepadDeadzone = function (value) {\n        deadzone = value;\n    };\n\n    /**\n     * specify a custom mapping for a specific gamepad id<br>\n     * see below for the default mapping : <br>\n     * <center><img src=\"images/gamepad_diagram.png\"/></center><br>\n     * @name setGamepadMapping\n     * @memberOf me.input\n     * @public\n     * @function\n     * @param {String} id Gamepad id string\n     * @param {Object} mapping A hash table\n     * @param {Number[]} mapping.axes Standard analog control stick axis locations\n     * @param {Number[]} mapping.buttons Standard digital button locations\n     * @param {Number[]} [mapping.analog] Analog axis locations for buttons\n     * @param {me.input~normalize_fn} [mapping.normalize_fn] Axis normalization function\n     * @example\n     * // A weird controller that has its axis mappings reversed\n     * me.input.setGamepadMapping(\"Generic USB Controller\", {\n     *   \"axes\" : [ 3, 2, 1, 0 ],\n     *   \"buttons\" : [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16 ]\n     * });\n     *\n     * // Mapping extra axes to analog buttons\n     * me.input.setGamepadMapping(\"Generic Analog Controller\", {\n     *   \"axes\" : [ 0, 1, 2, 3 ],\n     *   \"buttons\" : [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16 ],\n     *\n     *   // Raw axis 4 is mapped to GAMEPAD.BUTTONS.FACE_1\n     *   // Raw axis 5 is mapped to GAMEPAD.BUTTONS.FACE_2\n     *   // etc...\n     *   // Also maps left and right triggers\n     *   \"analog\" : [ 4, 5, 6, 7, -1, -1, 8, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1 ],\n     *\n     *   // Normalize the value of button L2: [-1.0..1.0] => [0.0..1.0]\n     *   \"normalize_fn\" : function (value, axis, button) {\n     *     return ((button === me.input.GAMEPAD.BUTTONS.L2) ? ((value + 1) / 2) : value) || 0;\n     *   }\n     * });\n     */\n    api.setGamepadMapping = addMapping;\n\n})(me.input);\n","(function () {\n\n\n    /**\n     * a collection of utility functions\n     * @namespace me.utils\n     * @memberOf me\n     */\n    me.utils = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        /*\n         * PRIVATE STUFF\n         */\n\n        // guid default value\n        var GUID_base  = \"\";\n        var GUID_index = 0;\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * Get image pixels\n         * @public\n         * @function\n         * @memberOf me.utils\n         * @name getPixels\n         * @param {Image|Canvas} image Image to read\n         * @return {ImageData} Canvas ImageData object\n         */\n        api.getPixels = function (arg) {\n            if (arg instanceof HTMLImageElement) {\n                var _context = me.CanvasRenderer.getContext2d(\n                    me.video.createCanvas(arg.width, arg.height)\n                );\n                _context.drawImage(arg, 0, 0);\n                return _context.getImageData(0, 0, arg.width, arg.height);\n            }\n            else {\n                // canvas !\n                return arg.getContext(\"2d\").getImageData(0, 0, arg.width, arg.height);\n            }\n        };\n\n        /**\n         * reset the GUID Base Name\n         * the idea here being to have a unique ID\n         * per level / object\n         * @ignore\n         */\n        api.resetGUID = function (base, index) {\n            // also ensure it's only 8bit ASCII characters\n            GUID_base  = me.utils.string.toHex(base.toString().toUpperCase());\n            GUID_index = index || 0;\n        };\n\n        /**\n         * create and return a very simple GUID\n         * Game Unique ID\n         * @ignore\n         */\n        api.createGUID = function (index) {\n            // to cover the case of undefined id for groups\n            GUID_index += index || 1;\n            return GUID_base + \"-\" + (index || GUID_index);\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","(function (api) {\n\n    /**\n     * a collection of file utility functions\n     * @namespace me.utils.file\n     * @memberOf me\n     */\n    var file = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        // regexp to deal with file name & path\n        var REMOVE_PATH = /^.*(\\\\|\\/|\\:)/;\n        var REMOVE_EXT = /\\.[^\\.]*$/;\n\n        /**\n         * return the base name of the file without path info\n         * @public\n         * @function\n         * @memberOf me.utils.file\n         * @name getBasename\n         * @param  {String} path path containing the filename\n         * @return {String} the base name without path information.\n         */\n        api.getBasename = function (path) {\n            return path.replace(REMOVE_PATH, \"\").replace(REMOVE_EXT, \"\");\n        };\n\n        /**\n         * return the extension of the file in the given path\n         * @public\n         * @function\n         * @memberOf me.utils.file\n         * @name getExtension\n         * @param  {String} path path containing the filename\n         * @return {String} filename extension.\n         */\n        api.getExtension = function (path) {\n            return path.substring(path.lastIndexOf(\".\") + 1, path.length);\n        };\n\n        // return our object\n        return api;\n    })();\n\n    api.file = file;\n\n})(me.utils);\n","(function (api) {\n\n    /**\n     * a collection of utility functions\n     * @namespace me.utils.function\n     * @memberOf me\n     */\n    var fn = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        /**\n         * Executes a function as soon as the interpreter is idle (stack empty).\n         * @public\n         * @function\n         * @memberOf me.utils.function\n         * @name defer\n         * @param {Function} fn The function to be deferred.\n         * @param {Object} scope The execution scope of the deferred function.\n         * @param {} [arguments...] Optional additional arguments to carry for the\n         * function.\n         * @return {Number} id that can be used to clear the deferred function using\n         * clearTimeout\n         * @example\n         * // execute myFunc() when the stack is empty,\n         * // with the current context and 'myArgument' as parameter\n         * me.utils.function.defer(fn, this, 'myArgument');\n         */\n        api.defer = function (fn, scope) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            return setTimeout(fn.bind.apply(fn, args), 0.01);\n        };\n\n        /**\n         * returns a function that, when invoked will only be triggered at most\n         * once during a given window of time\n         * @public\n         * @function\n         * @memberOf me.utils.function\n         * @name throttle\n         * @param {Function} fn the function to be throttled.\n         * @param {Number} delay The delay in ms\n         * @param {no_trailing} no_trailing disable the execution on the trailing edge\n         */\n        api.throttle = function (fn, delay, no_trailing) {\n            var last = window.performance.now(), deferTimer;\n            // `no_trailing` defaults to false.\n            if (typeof no_trailing !== \"boolean\") {\n                no_trailing = false;\n            }\n            return function () {\n                var now = window.performance.now();\n                var elasped = now - last;\n                var args = arguments;\n                if (elasped < delay) {\n                    if (no_trailing === false) {\n                        // hold on to it\n                        clearTimeout(deferTimer);\n                        deferTimer = setTimeout(function () {\n                            last = now;\n                            return fn.apply(null, args);\n                        }, elasped);\n                    }\n                }\n                else {\n                    last = now;\n                    return fn.apply(null, args);\n                }\n            };\n        };\n\n        // return our object\n        return api;\n    })();\n\n    api.function = fn;\n\n})(me.utils);\n","(function (api) {\n\n    /**\n     * a collection of array utility functions\n     * @namespace me.utils.array\n     * @memberOf me\n     */\n    var array = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n        /**\n         * Remove the specified object from the given Array\n         * @public\n         * @function\n         * @memberOf me.utils.array\n         * @name remove\n         * @param {Array} arr array from which to remove an object\n         * @param {Object} object to be removed\n         * @return {Array} the modified Array\n         */\n        api.remove = function (arr, obj) {\n            var i = Array.prototype.indexOf.call(arr, obj);\n            if (i !== -1) {\n                Array.prototype.splice.call(arr, i, 1);\n            }\n            return arr;\n        };\n\n\n        /**\n         * return a random array element\n         * @public\n         * @function\n         * @memberOf me.utils.array\n         * @name random\n         * @param {Array} arr array to pick a element\n         * @return {any} random member of array\n         * @example\n         * // Select a random array element\n         * var arr = [ \"foo\", \"bar\", \"baz\" ];\n         * console.log(me.utils.array.random(arr));\n         */\n        api.random = function (arr) {\n            return arr[me.Math.random(0, arr.length)];\n        };\n\n        /**\n         * return a weighted random array element, favoring the earlier entries\n         * @public\n         * @function\n         * @memberOf me.utils.array\n         * @name weightedRandom\n         * @param {Array} arr array to pick a element\n         * @return {any} random member of array\n         */\n        api.weightedRandom = function (arr) {\n            return arr[me.Math.weightedRandom(0, arr.length)];\n        };\n\n        // return our object\n        return api;\n    })();\n\n    api.array = array;\n\n})(me.utils);\n","(function (api) {\n\n    /**\n     * a collection of string utility functions\n     * @namespace me.utils.string\n     * @memberOf me\n     */\n    var string = (function () {\n        // hold public stuff in our singleton\n        var api = {};\n\n\n        /**\n         * returns the string stripped of whitespace from the left.\n         * @public\n         * @function\n         * @memberOf me.utils.string\n         * @name trimLeft\n         * @param {String} string the string to be trimmed\n         * @return {string} trimmed string\n         */\n        api.trimLeft = function (str) {\n            return str.replace(/^\\s+/, \"\");\n        };\n\n        /**\n         * returns the string stripped of whitespace from the right.\n         * @public\n         * @function\n         * @memberOf me.utils.string\n         * @name trimRight\n         * @param {String} string the string to be trimmed\n         * @return {string} trimmed string\n         */\n        api.trimRight = function (str) {\n            return str.replace(/\\s+$/, \"\");\n        };\n\n        /**\n         * returns true if the given string contains a numeric value\n         * @public\n         * @function\n         * @memberOf me.utils.string\n         * @name isNumeric\n         * @param {String} string the string to be tested\n         * @return {Boolean} true if string contains only digits\n         */\n        api.isNumeric = function (str) {\n            return (!isNaN(str) && str.trim() !== \"\");\n        };\n\n        /**\n         * returns true if the given string contains a true or false\n         * @public\n         * @function\n         * @memberOf me.utils.string\n         * @name isBoolean\n         * @param {String} string the string to be tested\n         * @return {Boolean} true if the string is either true or false\n         */\n        api.isBoolean = function (str) {\n            var trimmed = str.trim();\n            return (trimmed === \"true\") || (trimmed === \"false\");\n        };\n\n        /**\n         * convert a string to the corresponding hexadecimal value\n         * @public\n         * @function\n         * @memberOf me.utils.string\n         * @name toHex\n         * @param {String} string the string to be converted\n         * @return {String}\n         */\n        api.toHex = function (str) {\n            var res = \"\", c = 0;\n            while (c < str.length) {\n                res += str.charCodeAt(c++).toString(16);\n            }\n            return res;\n        };\n\n        // return our object\n        return api;\n    })();\n\n    api.string = string;\n\n})(me.utils);\n","(function () {\n\n    // convert a give color component to it hexadecimal value\n    var toHex = function (component) {\n        return \"0123456789ABCDEF\".charAt((component - (component % 16)) >> 4) + \"0123456789ABCDEF\".charAt(component % 16);\n    };\n\n    var rgbaRx = /^rgba?\\((\\d+), ?(\\d+), ?(\\d+)(, ?([\\d\\.]+))?\\)$/;\n    var hex3Rx = /^#([\\da-fA-F])([\\da-fA-F])([\\da-fA-F])$/;\n    var hex4Rx = /^#([\\da-fA-F])([\\da-fA-F])([\\da-fA-F])([\\da-fA-F])$/;\n    var hex6Rx = /^#([\\da-fA-F]{2})([\\da-fA-F]{2})([\\da-fA-F]{2})$/;\n    var hex8Rx = /^#([\\da-fA-F]{2})([\\da-fA-F]{2})([\\da-fA-F]{2})([\\da-fA-F]{2})$/;\n\n    var cssToRGB = new Map();\n\n    [\n        // CSS1\n        [ \"black\",                  [   0,   0,   0 ] ],\n        [ \"silver\",                 [ 192, 192, 129 ] ],\n        [ \"gray\",                   [ 128, 128, 128 ] ],\n        [ \"white\",                  [ 255, 255, 255 ] ],\n        [ \"maroon\",                 [ 128,   0,   0 ] ],\n        [ \"red\",                    [ 255,   0,   0 ] ],\n        [ \"purple\",                 [ 128,   0, 128 ] ],\n        [ \"fuchsia\",                [ 255,   0, 255 ] ],\n        [ \"green\",                  [   0, 128,   0 ] ],\n        [ \"lime\",                   [   0, 255,   0 ] ],\n        [ \"olive\",                  [ 128, 128,   0 ] ],\n        [ \"yellow\",                 [ 255, 255,   0 ] ],\n        [ \"navy\",                   [   0,   0, 128 ] ],\n        [ \"blue\",                   [   0,   0, 255 ] ],\n        [ \"teal\",                   [   0, 128, 128 ] ],\n        [ \"aqua\",                   [   0, 255, 255 ] ],\n\n        // CSS2\n        [ \"orange\",                 [ 255, 165,   0 ] ],\n\n        // CSS3\n        [ \"aliceblue\",              [ 240, 248, 245 ] ],\n        [ \"antiquewhite\",           [ 250, 235, 215 ] ],\n        [ \"aquamarine\",             [ 127, 255, 212 ] ],\n        [ \"azure\",                  [ 240, 255, 255 ] ],\n        [ \"beige\",                  [ 245, 245, 220 ] ],\n        [ \"bisque\",                 [ 255, 228, 196 ] ],\n        [ \"blanchedalmond\",         [ 255, 235, 205 ] ],\n        [ \"blueviolet\",             [ 138,  43, 226 ] ],\n        [ \"brown\",                  [ 165,  42,  42 ] ],\n        [ \"burlywood\",              [ 222, 184,  35 ] ],\n        [ \"cadetblue\",              [  95, 158, 160 ] ],\n        [ \"chartreuse\",             [ 127, 255,   0 ] ],\n        [ \"chocolate\",              [ 210, 105,  30 ] ],\n        [ \"coral\",                  [ 255, 127,  80 ] ],\n        [ \"cornflowerblue\",         [ 100, 149, 237 ] ],\n        [ \"cornsilk\",               [ 255, 248, 220 ] ],\n        [ \"crimson\",                [ 220,  20,  60 ] ],\n        [ \"darkblue\",               [   0,   0, 139 ] ],\n        [ \"darkcyan\",               [   0, 139, 139 ] ],\n        [ \"darkgoldenrod\",          [ 184, 134,  11 ] ],\n        [ \"darkgray[*]\",            [ 169, 169, 169 ] ],\n        [ \"darkgreen\",              [   0, 100,   0 ] ],\n        [ \"darkgrey[*]\",            [ 169, 169, 169 ] ],\n        [ \"darkkhaki\",              [ 189, 183, 107 ] ],\n        [ \"darkmagenta\",            [ 139,   0, 139 ] ],\n        [ \"darkolivegreen\",         [  85, 107,  47 ] ],\n        [ \"darkorange\",             [ 255, 140,   0 ] ],\n        [ \"darkorchid\",             [ 153,  50, 204 ] ],\n        [ \"darkred\",                [ 139,   0,   0 ] ],\n        [ \"darksalmon\",             [ 233, 150, 122 ] ],\n        [ \"darkseagreen\",           [ 143, 188, 143 ] ],\n        [ \"darkslateblue\",          [  72,  61, 139 ] ],\n        [ \"darkslategray\",          [  47,  79,  79 ] ],\n        [ \"darkslategrey\",          [  47,  79,  79 ] ],\n        [ \"darkturquoise\",          [   0, 206, 209 ] ],\n        [ \"darkviolet\",             [ 148,   0, 211 ] ],\n        [ \"deeppink\",               [ 255,  20, 147 ] ],\n        [ \"deepskyblue\",            [   0, 191, 255 ] ],\n        [ \"dimgray\",                [ 105, 105, 105 ] ],\n        [ \"dimgrey\",                [ 105, 105, 105 ] ],\n        [ \"dodgerblue\",             [  30, 144, 255 ] ],\n        [ \"firebrick\",              [ 178,  34,  34 ] ],\n        [ \"floralwhite\",            [ 255, 250, 240 ] ],\n        [ \"forestgreen\",            [  34, 139,  34 ] ],\n        [ \"gainsboro\",              [ 220, 220, 220 ] ],\n        [ \"ghostwhite\",             [ 248, 248, 255 ] ],\n        [ \"gold\",                   [ 255, 215,   0 ] ],\n        [ \"goldenrod\",              [ 218, 165,  32 ] ],\n        [ \"greenyellow\",            [ 173, 255,  47 ] ],\n        [ \"grey\",                   [ 128, 128, 128 ] ],\n        [ \"honeydew\",               [ 240, 255, 240 ] ],\n        [ \"hotpink\",                [ 255, 105, 180 ] ],\n        [ \"indianred\",              [ 205,  92,  92 ] ],\n        [ \"indigo\",                 [  75,   0, 130 ] ],\n        [ \"ivory\",                  [ 255, 255, 240 ] ],\n        [ \"khaki\",                  [ 240, 230, 140 ] ],\n        [ \"lavender\",               [ 230, 230, 250 ] ],\n        [ \"lavenderblush\",          [ 255, 240, 245 ] ],\n        [ \"lawngreen\",              [ 124, 252,   0 ] ],\n        [ \"lemonchiffon\",           [ 255, 250, 205 ] ],\n        [ \"lightblue\",              [ 173, 216, 230 ] ],\n        [ \"lightcoral\",             [ 240, 128, 128 ] ],\n        [ \"lightcyan\",              [ 224, 255, 255 ] ],\n        [ \"lightgoldenrodyellow\",   [ 250, 250, 210 ] ],\n        [ \"lightgray\",              [ 211, 211, 211 ] ],\n        [ \"lightgreen\",             [ 144, 238, 144 ] ],\n        [ \"lightgrey\",              [ 211, 211, 211 ] ],\n        [ \"lightpink\",              [ 255, 182, 193 ] ],\n        [ \"lightsalmon\",            [ 255, 160, 122 ] ],\n        [ \"lightseagreen\",          [  32, 178, 170 ] ],\n        [ \"lightskyblue\",           [ 135, 206, 250 ] ],\n        [ \"lightslategray\",         [ 119, 136, 153 ] ],\n        [ \"lightslategrey\",         [ 119, 136, 153 ] ],\n        [ \"lightsteelblue\",         [ 176, 196, 222 ] ],\n        [ \"lightyellow\",            [ 255, 255, 224 ] ],\n        [ \"limegreen\",              [  50, 205,  50 ] ],\n        [ \"linen\",                  [ 250, 240, 230 ] ],\n        [ \"mediumaquamarine\",       [ 102, 205, 170 ] ],\n        [ \"mediumblue\",             [   0,   0, 205 ] ],\n        [ \"mediumorchid\",           [ 186,  85, 211 ] ],\n        [ \"mediumpurple\",           [ 147, 112, 219 ] ],\n        [ \"mediumseagreen\",         [  60, 179, 113 ] ],\n        [ \"mediumslateblue\",        [ 123, 104, 238 ] ],\n        [ \"mediumspringgreen\",      [   0, 250, 154 ] ],\n        [ \"mediumturquoise\",        [  72, 209, 204 ] ],\n        [ \"mediumvioletred\",        [ 199,  21, 133 ] ],\n        [ \"midnightblue\",           [  25,  25, 112 ] ],\n        [ \"mintcream\",              [ 245, 255, 250 ] ],\n        [ \"mistyrose\",              [ 255, 228, 225 ] ],\n        [ \"moccasin\",               [ 255, 228, 181 ] ],\n        [ \"navajowhite\",            [ 255, 222, 173 ] ],\n        [ \"oldlace\",                [ 253, 245, 230 ] ],\n        [ \"olivedrab\",              [ 107, 142,  35 ] ],\n        [ \"orangered\",              [ 255,  69,   0 ] ],\n        [ \"orchid\",                 [ 218, 112, 214 ] ],\n        [ \"palegoldenrod\",          [ 238, 232, 170 ] ],\n        [ \"palegreen\",              [ 152, 251, 152 ] ],\n        [ \"paleturquoise\",          [ 175, 238, 238 ] ],\n        [ \"palevioletred\",          [ 219, 112, 147 ] ],\n        [ \"papayawhip\",             [ 255, 239, 213 ] ],\n        [ \"peachpuff\",              [ 255, 218, 185 ] ],\n        [ \"peru\",                   [ 205, 133,  63 ] ],\n        [ \"pink\",                   [ 255, 192, 203 ] ],\n        [ \"plum\",                   [ 221, 160, 221 ] ],\n        [ \"powderblue\",             [ 176, 224, 230 ] ],\n        [ \"rosybrown\",              [ 188, 143, 143 ] ],\n        [ \"royalblue\",              [  65, 105, 225 ] ],\n        [ \"saddlebrown\",            [ 139,  69,  19 ] ],\n        [ \"salmon\",                 [ 250, 128, 114 ] ],\n        [ \"sandybrown\",             [ 244, 164,  96 ] ],\n        [ \"seagreen\",               [  46, 139,  87 ] ],\n        [ \"seashell\",               [ 255, 245, 238 ] ],\n        [ \"sienna\",                 [ 160,  82,  45 ] ],\n        [ \"skyblue\",                [ 135, 206, 235 ] ],\n        [ \"slateblue\",              [ 106,  90, 205 ] ],\n        [ \"slategray\",              [ 112, 128, 144 ] ],\n        [ \"slategrey\",              [ 112, 128, 144 ] ],\n        [ \"snow\",                   [ 255, 250, 250 ] ],\n        [ \"springgreen\",            [   0, 255, 127 ] ],\n        [ \"steelblue\",              [  70, 130, 180 ] ],\n        [ \"tan\",                    [ 210, 180, 140 ] ],\n        [ \"thistle\",                [ 216, 191, 216 ] ],\n        [ \"tomato\",                 [ 255,  99,  71 ] ],\n        [ \"turquoise\",              [  64, 224, 208 ] ],\n        [ \"violet\",                 [ 238, 130, 238 ] ],\n        [ \"wheat\",                  [ 245, 222, 179 ] ],\n        [ \"whitesmoke\",             [ 245, 245, 245 ] ],\n        [ \"yellowgreen\",            [ 154, 205,  50 ] ]\n    ].forEach(function (value) {\n        cssToRGB.set(value[0], value[1]);\n    });\n\n    /**\n     * A color manipulation object.\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {Float32Array|Number} [r=0] red component or array of color components\n     * @param {Number} [g=0] green component\n     * @param {Number} [b=0] blue component\n     * @param {Number} [alpha=1.0] alpha value\n     */\n    me.Color = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (r, g, b, alpha) {\n\n            /**\n             * Color components in a Float32Array suitable for WebGL\n             * @name glArray\n             * @memberOf me.Color\n             * @type {Float32Array}\n             * @readonly\n             */\n            if (typeof (this.glArray) === \"undefined\") {\n                this.glArray = new Float32Array([ 0.0, 0.0, 0.0, 1.0 ]);\n            }\n\n            return this.setColor(r, g, b, alpha);\n        },\n\n        /**\n         * Set this color to the specified value.\n         * @name setColor\n         * @memberOf me.Color\n         * @function\n         * @param {Number} r red component [0 .. 255]\n         * @param {Number} g green component [0 .. 255]\n         * @param {Number} b blue component [0 .. 255]\n         * @param {Number} [alpha=1.0] alpha value [0.0 .. 1.0]\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        setColor : function (r, g, b, alpha) {\n            // Private initialization: copy Color value directly\n            if (r instanceof me.Color) {\n                this.glArray.set(r.glArray);\n                return r;\n            }\n            this.r = r;\n            this.g = g;\n            this.b = b;\n            this.alpha = alpha;\n            return this;\n        },\n\n        /**\n         * Create a new copy of this color object.\n         * @name clone\n         * @memberOf me.Color\n         * @function\n         * @return {me.Color} Reference to the newly cloned object\n         */\n        clone : function () {\n            return me.pool.pull(\"me.Color\", this);\n        },\n\n        /**\n         * Copy a color object or CSS color into this one.\n         * @name copy\n         * @memberOf me.Color\n         * @function\n         * @param {me.Color|String} color\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        copy : function (color) {\n            if (color instanceof me.Color) {\n                this.glArray.set(color.glArray);\n                return this;\n            }\n\n            return this.parseCSS(color);\n        },\n\n        /**\n         * Blend this color with the given one using addition.\n         * @name add\n         * @memberOf me.Color\n         * @function\n         * @param {me.Color} color\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        add : function (color) {\n            this.glArray[0] = me.Math.clamp(this.glArray[0] + color.glArray[0], 0, 1);\n            this.glArray[1] = me.Math.clamp(this.glArray[1] + color.glArray[1], 0, 1);\n            this.glArray[2] = me.Math.clamp(this.glArray[2] + color.glArray[2], 0, 1);\n            this.glArray[3] = (this.glArray[3] + color.glArray[3]) / 2;\n\n            return this;\n        },\n\n        /**\n         * Darken this color value by 0..1\n         * @name darken\n         * @memberOf me.Color\n         * @function\n         * @param {Number} scale\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        darken : function (scale) {\n            scale = me.Math.clamp(scale, 0, 1);\n            this.glArray[0] *= scale;\n            this.glArray[1] *= scale;\n            this.glArray[2] *= scale;\n\n            return this;\n        },\n\n        /**\n         * Lighten this color value by 0..1\n         * @name lighten\n         * @memberOf me.Color\n         * @function\n         * @param {Number} scale\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        lighten : function (scale) {\n            scale = me.Math.clamp(scale, 0, 1);\n            this.glArray[0] = me.Math.clamp(this.glArray[0] + (1 - this.glArray[0]) * scale, 0, 1);\n            this.glArray[1] = me.Math.clamp(this.glArray[1] + (1 - this.glArray[1]) * scale, 0, 1);\n            this.glArray[2] = me.Math.clamp(this.glArray[2] + (1 - this.glArray[2]) * scale, 0, 1);\n\n            return this;\n        },\n\n        /**\n         * Generate random r,g,b values for this color object\n         * @name random\n         * @memberOf me.Color\n         * @function\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        random : function () {\n            return this.setColor(\n                Math.random() * 256,\n                Math.random() * 256,\n                Math.random() * 256,\n                this.alpha\n            );\n        },\n\n        /**\n         * Return true if the r,g,b,a values of this color are equal with the\n         * given one.\n         * @name equals\n         * @memberOf me.Color\n         * @function\n         * @param {me.Color} color\n         * @return {Boolean}\n         */\n        equals : function (color) {\n            return (\n                (this.glArray[0] === color.glArray[0]) &&\n                (this.glArray[1] === color.glArray[1]) &&\n                (this.glArray[2] === color.glArray[2]) &&\n                (this.glArray[3] === color.glArray[3])\n            );\n        },\n\n        /**\n         * Parse a CSS color string and set this color to the corresponding\n         * r,g,b values\n         * @name parseCSS\n         * @memberOf me.Color\n         * @function\n         * @param {String} color\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        parseCSS : function (cssColor) {\n            // TODO : Memoize this function by caching its input\n\n            if (cssToRGB.has(cssColor)) {\n                return this.setColor.apply(this, cssToRGB.get(cssColor));\n            }\n\n            return this.parseRGB(cssColor);\n        },\n\n        /**\n         * Parse an RGB or RGBA CSS color string\n         * @name parseRGB\n         * @memberOf me.Color\n         * @function\n         * @param {String} color\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        parseRGB : function (rgbColor) {\n            // TODO : Memoize this function by caching its input\n\n            var match = rgbaRx.exec(rgbColor);\n            if (match) {\n                return this.setColor(+match[1], +match[2], +match[3], +match[5]);\n            }\n\n            return this.parseHex(rgbColor);\n        },\n\n        /**\n         * Parse a Hex color (\"#RGB\", \"#RGBA\" or \"#RRGGBB\", \"#RRGGBBAA\" format) and set this color to\n         * the corresponding r,g,b,a values\n         * @name parseHex\n         * @memberOf me.Color\n         * @function\n         * @param {String} color\n         * @return {me.Color} Reference to this object for method chaining\n         */\n        parseHex : function (hexColor) {\n            // TODO : Memoize this function by caching its input\n\n            var match;\n            if ((match = hex8Rx.exec(hexColor))) {\n                // #AARRGGBB\n                return this.setColor(\n                    parseInt(match[1], 16),\n                    parseInt(match[2], 16),\n                    parseInt(match[3], 16),\n                    (me.Math.clamp(parseInt(match[4], 16), 0, 255) / 255.0).toFixed(1)\n                );\n            }\n\n            if ((match = hex6Rx.exec(hexColor))) {\n                // #RRGGBB\n                return this.setColor(\n                    parseInt(match[1], 16),\n                    parseInt(match[2], 16),\n                    parseInt(match[3], 16)\n                );\n            }\n\n            if ((match = hex4Rx.exec(hexColor))) {\n                // #ARGB\n                return this.setColor(\n                    parseInt(match[1] + match[1], 16),\n                    parseInt(match[2] + match[2], 16),\n                    parseInt(match[3] + match[3], 16),\n                    (me.Math.clamp(parseInt(match[4] + match[4], 16), 0, 255) / 255.0).toFixed(1)\n                );\n            }\n\n            if ((match = hex3Rx.exec(hexColor))) {\n                // #RGB\n                return this.setColor(\n                    parseInt(match[1] + match[1], 16),\n                    parseInt(match[2] + match[2], 16),\n                    parseInt(match[3] + match[3], 16)\n                );\n            }\n\n            throw new Error(\n                \"invalid parameter: \" + hexColor\n            );\n        },\n\n        /**\n         * Returns the private glArray\n         * @ignore\n         */\n        toGL : function () {\n            return this.glArray;\n        },\n\n        /**\n         * Get the color in \"#RRGGBB\" format\n         * @name toHex\n         * @memberOf me.Color\n         * @function\n         * @return {String}\n         */\n        toHex : function () {\n            // TODO : Memoize this function by caching its result until any of\n            // the r,g,b,a values are changed\n\n            return \"#\" + toHex(this.r) + toHex(this.g) + toHex(this.b);\n        },\n\n        /**\n         * Get the color in \"#RRGGBBAA\" format\n         * @name toHex8\n         * @memberOf me.Color\n         * @function\n         * @return {String}\n         */\n        toHex8 : function () {\n            // TODO : Memoize this function by caching its result until any of\n            // the r,g,b,a values are changed\n\n            return \"#\" + toHex(this.r) + toHex(this.g) + toHex(this.b) + toHex(this.alpha * 255);\n        },\n\n        /**\n         * Get the color in \"rgb(R,G,B)\" format\n         * @name toRGB\n         * @memberOf me.Color\n         * @function\n         * @return {String}\n         */\n        toRGB : function () {\n            // TODO : Memoize this function by caching its result until any of\n            // the r,g,b,a values are changed\n\n            return \"rgb(\" +\n                this.r + \",\" +\n                this.g + \",\" +\n                this.b +\n            \")\";\n        },\n\n        /**\n         * Get the color in \"rgba(R,G,B,A)\" format\n         * @name toRGBA\n         * @memberOf me.Color\n         * @function\n         * @return {String}\n         */\n        toRGBA : function () {\n            // TODO : Memoize this function by caching its result until any of\n            // the r,g,b,a values are changed\n\n            return \"rgba(\" +\n                this.r + \",\" +\n                this.g + \",\" +\n                this.b + \",\" +\n                this.alpha +\n            \")\";\n        }\n    });\n\n    /**\n     * Color Red Component\n     * @type Number\n     * @name r\n     * @readonly\n     * @memberOf me.Color\n     */\n    Object.defineProperty(me.Color.prototype, \"r\", {\n        /**\n         * @ignore\n         */\n        get : function () { return ~~(this.glArray[0] * 255); },\n        /**\n         * @ignore\n         */\n        set : function (value) { this.glArray[0] = me.Math.clamp(~~value || 0, 0, 255) / 255.0; },\n        enumerable : true,\n        configurable : true\n    });\n\n    /**\n     * Color Green Component\n     * @type Number\n     * @name g\n     * @readonly\n     * @memberOf me.Color\n     */\n    Object.defineProperty(me.Color.prototype, \"g\", {\n        /**\n         * @ignore\n         */\n        get : function () { return ~~(this.glArray[1] * 255); },\n        /**\n         * @ignore\n         */\n        set : function (value) { this.glArray[1] = me.Math.clamp(~~value || 0, 0, 255) / 255.0; },\n        enumerable : true,\n        configurable : true\n    });\n\n    /**\n     * Color Blue Component\n     * @type Number\n     * @name b\n     * @readonly\n     * @memberOf me.Color\n     */\n    Object.defineProperty(me.Color.prototype, \"b\", {\n        /**\n         * @ignore\n         */\n        get : function () { return ~~(this.glArray[2] * 255); },\n        /**\n         * @ignore\n         */\n        set : function (value) { this.glArray[2] = me.Math.clamp(~~value || 0, 0, 255) / 255.0; },\n        enumerable : true,\n        configurable : true\n    });\n\n    /**\n     * Color Alpha Component\n     * @type Number\n     * @name alpha\n     * @readonly\n     * @memberOf me.Color\n     */\n    Object.defineProperty(me.Color.prototype, \"alpha\", {\n        /**\n         * @ignore\n         */\n        get : function () { return this.glArray[3]; },\n        /**\n         * @ignore\n         */\n        set : function (value) { this.glArray[3] = typeof(value) === \"undefined\" ? 1.0 : me.Math.clamp(+value, 0, 1.0); },\n        enumerable : true,\n        configurable : true\n    });\n})();\n","(function () {\n    /**\n     * A singleton object to access the device localStorage area\n     * @example\n     * // Initialize \"score\" and \"lives\" with default values\n     * // This loads the properties from localStorage if they exist, else it sets the given defaults\n     * me.save.add({ score : 0, lives : 3 });\n     *\n     * // Print all\n     * // On first load, this prints { score : 0, lives : 3 }\n     * // On further reloads, it prints { score : 31337, lives : 3, complexObject : ... }\n     * // Because the following changes will be saved to localStorage\n     * console.log(JSON.stringify(me.save));\n     *\n     * // Save score\n     * me.save.score = 31337;\n     *\n     * // Also supports complex objects thanks to the JSON backend\n     * me.save.add({ complexObject : {} })\n     * me.save.complexObject = { a : \"b\", c : [ 1, 2, 3, \"d\" ], e : { f : [{}] } };\n     *\n     * // WARNING: Do not set any child properties of complex objects directly!\n     * // Changes made that way will not save. Always set the entire object value at once.\n     * // If you cannot live with this limitation, there's a workaround:\n     * me.save.complexObject.c.push(\"foo\"); // Modify a child property\n     * me.save.complexObject = me.save.complexObject; // Save the entire object!\n     *\n     * // Remove \"lives\" from localStorage\n     * me.save.remove(\"lives\");\n     * @namespace me.save\n     * @memberOf me\n     */\n    me.save = (function () {\n        // Variable to hold the object data\n        var data = {};\n\n        // a function to check if the given key is a reserved word\n        function isReserved(key) {\n            return (key === \"add\" || key === \"remove\");\n        }\n\n        // Public API\n        var api = {\n            /**\n             * @ignore\n             */\n            _init: function () {\n                // Load previous data if local Storage is supported\n                if (me.device.localStorage === true) {\n                    var me_save_content = localStorage.getItem(\"me.save\");\n\n                    if (typeof me_save_content === \"string\" && me_save_content.length > 0) {\n                        var keys = JSON.parse(me_save_content) || [];\n                        keys.forEach(function (key) {\n                            data[key] = JSON.parse(localStorage.getItem(\"me.save.\" + key));\n                        });\n                    }\n                }\n            },\n\n            /**\n             * Add new keys to localStorage and set them to the given default values if they do not exist\n             * @name add\n             * @memberOf me.save\n             * @function\n             * @param {Object} props key and corresponding values\n             * @example\n             * // Initialize \"score\" and \"lives\" with default values\n             * me.save.add({ score : 0, lives : 3 });\n             */\n            add : function (props) {\n                Object.keys(props).forEach(function (key) {\n                    if (isReserved(key)) {\n                        return;\n                    }\n\n                    (function (prop) {\n                        Object.defineProperty(api, prop, {\n                            configurable : true,\n                            enumerable : true,\n                            /**\n                             * @ignore\n                             */\n                            get : function () {\n                                return data[prop];\n                            },\n                            /**\n                             * @ignore\n                             */\n                            set : function (value) {\n                                data[prop] = value;\n                                if (me.device.localStorage === true) {\n                                    localStorage.setItem(\"me.save.\" + prop, JSON.stringify(value));\n                                }\n                            }\n                        });\n                    })(key);\n\n                    // Set default value for key\n                    if (!(key in data)) {\n                        api[key] = props[key];\n                    }\n                });\n\n                // Save keys\n                if (me.device.localStorage === true) {\n                    localStorage.setItem(\"me.save\", JSON.stringify(Object.keys(data)));\n                }\n            },\n\n            /**\n             * Remove a key from localStorage\n             * @name remove\n             * @memberOf me.save\n             * @function\n             * @param {String} key key to be removed\n             * @example\n             * // Remove the \"score\" key from localStorage\n             * me.save.remove(\"score\");\n             */\n            remove : function (key) {\n                if (!isReserved(key)) {\n                    if (typeof data[key] !== \"undefined\") {\n                        delete data[key];\n                        if (me.device.localStorage === true) {\n                            localStorage.removeItem(\"me.save.\" + key);\n                            localStorage.setItem(\"me.save\", JSON.stringify(Object.keys(data)));\n                        }\n                    }\n                }\n            }\n        };\n\n        return api;\n    })();\n})();\n","(function () {\n\n    /**\n     * a collection of TMX utility Function\n     * @final\n     * @memberOf me\n     * @ignore\n     */\n    me.TMXUtils = (function () {\n        /*\n         * PUBLIC\n         */\n\n        // hold public stuff in our singleton\n        var api = {};\n\n        /**\n         * set and interpret a TMX property value\n         * @ignore\n         */\n        function setTMXValue(name, type, value) {\n            var match;\n\n            if (typeof(value) !== \"string\") {\n                // Value is already normalized (e.g. with JSON maps)\n                return value;\n            }\n\n            switch (type) {\n\n                case \"int\" :\n                case \"float\" :\n                    value = Number(value);\n                    break;\n\n                case \"bool\" :\n                    value = (value === \"true\");\n                    break;\n\n                default :\n                    // try to parse it anyway\n                    if (!value || me.utils.string.isBoolean(value)) {\n                        // if value not defined or boolean\n                        value = value ? (value === \"true\") : true;\n                    }\n                    else if (me.utils.string.isNumeric(value)) {\n                        // check if numeric\n                        value = Number(value);\n                    }\n                    else if (value.search(/^json:/i) === 0) {\n                        // try to parse it\n                        match = value.split(/^json:/i)[1];\n                        try {\n                            value = JSON.parse(match);\n                        }\n                        catch (e) {\n                            throw new Error(\"Unable to parse JSON: \" + match);\n                        }\n                    }\n                    else if (value.search(/^eval:/i) === 0) {\n                        // try to evaluate it\n                        match = value.split(/^eval:/i)[1];\n                        try {\n                            // eslint-disable-next-line\n                            value = eval(match);\n                        }\n                        catch (e) {\n                            throw new Error(\"Unable to evaluate: \" + match);\n                        }\n                    }\n                    else if (\n                        ((match = value.match(/^#([\\da-fA-F])([\\da-fA-F]{3})$/))) ||\n                        ((match = value.match(/^#([\\da-fA-F]{2})([\\da-fA-F]{6})$/)))\n                    ) {\n                        value = \"#\" + match[2] + match[1];\n                    }\n\n                    // normalize values\n                    if (name.search(/^(ratio|anchorPoint)$/) === 0) {\n                        // convert number to vector\n                        if (typeof(value) === \"number\") {\n                            value = {\n                                \"x\" : value,\n                                \"y\" : value\n                            };\n                        }\n                    }\n            }\n            // return the interpreted value\n            return value;\n        }\n\n        function parseAttributes(obj, elt) {\n            // do attributes\n            if (elt.attributes && elt.attributes.length > 0) {\n                for (var j = 0; j < elt.attributes.length; j++) {\n                    var attribute = elt.attributes.item(j);\n                    if (typeof(attribute.name) !== \"undefined\") {\n                        // DOM4 (Attr no longer inherit from Node)\n                        obj[attribute.name] = attribute.value;\n                    } else {\n                        // else use the deprecated ones\n                        obj[attribute.nodeName] = attribute.nodeValue;\n                    }\n                }\n            }\n        }\n\n        /**\n         * decompress zlib/gzip data (NOT IMPLEMENTED)\n         * @ignore\n         * @function\n         * @memberOf me.TMXUtils\n         * @name decompress\n         * @param  {Number[]} data Array of bytes\n         * @param  {String} format compressed data format (\"gzip\",\"zlib\")\n         * @return {Number[]} Decompressed data\n         */\n        api.decompress = function () {\n            throw new Error(\"GZIP/ZLIB compressed TMX Tile Map not supported!\");\n        };\n\n        /**\n         * Decode a CSV encoded array into a binary array\n         * @ignore\n         * @function\n         * @memberOf me.TMXUtils\n         * @name decodeCSV\n         * @param  {String} input CSV formatted data (only numbers, everything else will be converted to NaN)\n         * @return {Number[]} Decoded data\n         */\n        api.decodeCSV = function (input) {\n            var entries = input.replace(\"\\n\", \"\").trim().split(\",\");\n\n            var result = [];\n            for (var i = 0; i < entries.length; i++) {\n                result.push(+entries[i]);\n            }\n            return result;\n        };\n\n        /**\n         * Decode a base64 encoded string into a byte array\n         * @ignore\n         * @function\n         * @memberOf me.TMXUtils\n         * @name decodeBase64AsArray\n         * @param {String} input Base64 encoded data\n         * @param {Number} [bytes] number of bytes per array entry\n         * @return {Uint32Array} Decoded data\n         */\n        api.decodeBase64AsArray = function (input, bytes) {\n            bytes = bytes || 1;\n\n            var i, j, len;\n            var dec = window.atob(input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\"));\n            var ar = new Uint32Array(dec.length / bytes);\n\n            for (i = 0, len = dec.length / bytes; i < len; i++) {\n                ar[i] = 0;\n                for (j = bytes - 1; j >= 0; --j) {\n                    ar[i] += dec.charCodeAt((i * bytes) + j) << (j << 3);\n                }\n            }\n            return ar;\n        };\n\n       /**\n        * Decode the given data\n        * @ignore\n        */\n        api.decode = function (data, encoding, compression) {\n            compression = compression || \"none\";\n            encoding = encoding || \"none\";\n\n            switch (encoding) {\n                case \"csv\":\n                    return api.decodeCSV(data);\n\n                case \"base64\":\n                    var decoded = api.decodeBase64AsArray(data, 4);\n                    return (\n                        (compression === \"none\") ?\n                        decoded :\n                        api.decompress(decoded, compression)\n                    );\n\n                case \"none\":\n                    return data;\n\n                case \"xml\":\n                    throw new Error(\"XML encoding is deprecated, use base64 instead\");\n\n                default:\n                    throw new Error(\"Unknown layer encoding: \" + encoding);\n            }\n        };\n\n        /**\n         * Normalize TMX format to Tiled JSON format\n         * @ignore\n         */\n        api.normalize = function (obj, item) {\n            var nodeName = item.nodeName;\n\n            switch (nodeName) {\n                case \"data\":\n                    var data = api.parse(item);\n                    // #956 Support for Infinite map\n                    // workaround to prevent the parsing code from crashing\n                    data.text = data.text || data.chunk.text;\n                    // When no encoding is given, the tiles are stored as individual XML tile elements.\n                    data.encoding = data.encoding || \"xml\";\n                    obj.data = api.decode(data.text, data.encoding, data.compression);\n                    obj.encoding = \"none\";\n                    break;\n\n                case \"imagelayer\":\n                case \"layer\":\n                case \"objectgroup\":\n                case \"group\":\n                    var layer = api.parse(item);\n                    layer.type = (nodeName === \"layer\" ? \"tilelayer\" : nodeName);\n                    if (layer.image) {\n                        layer.image = layer.image.source;\n                    }\n\n                    obj.layers = obj.layers || [];\n                    obj.layers.push(layer);\n                    break;\n\n                case \"animation\":\n                    obj.animation = api.parse(item).frames;\n                    break;\n\n                case \"frame\":\n                case \"object\":\n                    var name = nodeName + \"s\";\n                    obj[name] = obj[name] || [];\n                    obj[name].push(api.parse(item));\n                    break;\n\n                case \"tile\":\n                    var tile = api.parse(item);\n                    if (tile.image) {\n                        tile.imagewidth = tile.image.width;\n                        tile.imageheight = tile.image.height;\n                        tile.image = tile.image.source;\n                    }\n                    obj.tiles = obj.tiles || {};\n                    obj.tiles[tile.id] = tile;\n                    break;\n\n                case \"tileset\":\n                    var tileset = api.parse(item);\n                    if (tileset.image) {\n                        tileset.imagewidth = tileset.image.width;\n                        tileset.imageheight = tileset.image.height;\n                        tileset.image = tileset.image.source;\n                    }\n\n                    obj.tilesets = obj.tilesets || [];\n                    obj.tilesets.push(tileset);\n                    break;\n\n                case \"polygon\":\n                case \"polyline\":\n                    obj[nodeName] = [];\n\n                    // Get a point array\n                    var points = api.parse(item).points.split(\" \");\n\n                    // And normalize them into an array of vectors\n                    for (var i = 0, v; i < points.length; i++) {\n                        v = points[i].split(\",\");\n                        obj[nodeName].push({\n                            \"x\" : +v[0],\n                            \"y\" : +v[1]\n                        });\n                    }\n\n                    break;\n\n                case \"properties\":\n                    obj.properties = api.parse(item);\n                    break;\n\n                case \"property\":\n                    var property = api.parse(item);\n                    obj[property.name] = setTMXValue(\n                        property.name,\n                        // in XML type is undefined for \"string\" values\n                        property.type || \"string\",\n                        property.value\n                    );\n                    break;\n\n                default:\n                    obj[nodeName] = api.parse(item);\n                    break;\n            }\n        };\n\n        /**\n         * Parse a XML TMX object and returns the corresponding javascript object\n         * @ignore\n         */\n        api.parse = function (xml) {\n            // Create the return object\n            var obj = {};\n\n            var text = \"\";\n\n            if (xml.nodeType === 1) {\n                // do attributes\n                parseAttributes(obj, xml);\n            }\n\n            // do children\n            if (xml.hasChildNodes()) {\n                for (var i = 0; i < xml.childNodes.length; i++) {\n                    var item = xml.childNodes.item(i);\n\n                    switch (item.nodeType) {\n                        case 1:\n                            api.normalize(obj, item);\n                            break;\n\n                        case 3:\n                            text += item.nodeValue.trim();\n                            break;\n                    }\n                }\n            }\n\n            if (text) {\n                obj.text = text;\n            }\n\n            return obj;\n        };\n\n        /**\n         * Apply TMX Properties to the given object\n         * @ignore\n         */\n        api.applyTMXProperties = function (obj, data) {\n            var properties = data.properties;\n            var types = data.propertytypes;\n            if (typeof(properties) !== \"undefined\") {\n                for (var property in properties) {\n                    if (properties.hasOwnProperty(property)) {\n                        var type = \"string\";\n                        var name = property;\n                        var value = properties[property];\n                        // proof-check for new and old JSON format\n                        if (typeof properties[property].name !== \"undefined\") {\n                            name = properties[property].name;\n                        }\n                        if (typeof(types) !== \"undefined\") {\n                            type = types[property];\n                        } else if (typeof properties[property].type !== \"undefined\") {\n                            type = properties[property].type;\n                        }\n                        if (typeof properties[property].value !== \"undefined\") {\n                            value = properties[property].value;\n                        }\n                        // set the value\n                        obj[name] = setTMXValue(name, type, value);\n                    }\n                }\n            }\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","(function () {\n\n    /**\n     * TMX Group <br>\n     * contains an object group definition as defined in Tiled. <br>\n     * note : object group definition is translated into the virtual `me.game.world` using `me.Container`.\n     * @see me.Container\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     */\n    me.TMXGroup = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init : function (map, data, z) {\n\n            /**\n             * group name\n             * @public\n             * @type String\n             * @name name\n             * @memberOf me.TMXGroup\n             */\n            this.name = data.name;\n\n            /**\n             * group width\n             * @public\n             * @type Number\n             * @name width\n             * @memberOf me.TMXGroup\n             */\n            this.width = data.width || 0;\n\n            /**\n             * group height\n             * @public\n             * @type Number\n             * @name height\n             * @memberOf me.TMXGroup\n             */\n            this.height = data.height || 0;\n\n            /**\n             * group z order\n             * @public\n             * @type Number\n             * @name z\n             * @memberOf me.TMXGroup\n             */\n            this.z = z;\n\n            /**\n             * group objects list definition\n             * @see me.TMXObject\n             * @public\n             * @type Array\n             * @name name\n             * @memberOf me.TMXGroup\n             */\n            this.objects = [];\n\n            var visible = typeof(data.visible) !== \"undefined\" ? data.visible : true;\n            this.opacity = (visible === true) ? me.Math.clamp(+data.opacity || 1.0, 0.0, 1.0) : 0;\n\n            // check if we have any user-defined properties\n            me.TMXUtils.applyTMXProperties(this, data);\n\n            // parse all child objects/layers\n            var self = this;\n\n            if (data.objects) {\n                var _objects = data.objects;\n                _objects.forEach(function (object) {\n                    self.objects.push(new me.TMXObject(map, object, z));\n                });\n            }\n\n            if (data.layers) {\n                var _layers = data.layers;\n                _layers.forEach(function (data) {\n                    var layer = new me.TMXLayer(data, map.tilewidth, map.tileheight, map.orientation, map.tilesets, z++);\n                    // set a renderer\n                    layer.setRenderer(map.getRenderer(layer));\n                    // resize container accordingly\n                    self.width = Math.max(self.width, layer.width);\n                    self.height = Math.max(self.height, layer.height);\n                    self.objects.push(layer);\n                });\n            }\n        },\n\n        /**\n         * reset function\n         * @ignore\n         * @function\n         */\n\n        destroy : function () {\n            // clear all allocated objects\n            this.objects = null;\n        },\n\n        /**\n         * return the object count\n         * @ignore\n         * @function\n         */\n        getObjectCount : function () {\n            return this.objects.length;\n        },\n\n        /**\n         * returns the object at the specified index\n         * @ignore\n         * @function\n         */\n        getObjectByIndex : function (idx) {\n            return this.objects[idx];\n        }\n    });\n\n})();\n","(function () {\n\n    /**\n     * a TMX Object defintion, as defined in Tiled. <br>\n     * note : object definition are translated into the virtual `me.game.world` using `me.Entity`.\n     * @see me.Entity\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     */\n    me.TMXObject = me.Object.extend({\n        /**\n         * @ignore\n         */\n        init :  function (map, settings, z) {\n\n            /**\n             * point list in JSON format\n             * @public\n             * @type Object[]\n             * @name points\n             * @memberOf me.TMXObject\n             */\n            this.points = undefined;\n\n            /**\n             * object name\n             * @public\n             * @type String\n             * @name name\n             * @memberOf me.TMXObject\n             */\n            this.name = settings.name;\n\n            /**\n             * object x position\n             * @public\n             * @type Number\n             * @name x\n             * @memberOf me.TMXObject\n             */\n            this.x = +settings.x;\n\n            /**\n             * object y position\n             * @public\n             * @type Number\n             * @name y\n             * @memberOf me.TMXObject\n             */\n            this.y = +settings.y;\n\n            /**\n             * object z order\n             * @public\n             * @type Number\n             * @name z\n             * @memberOf me.TMXObject\n             */\n            this.z = +z;\n\n            /**\n             * object width\n             * @public\n             * @type Number\n             * @name width\n             * @memberOf me.TMXObject\n             */\n            this.width = +settings.width || 0;\n\n            /**\n             * object height\n             * @public\n             * @type Number\n             * @name height\n             * @memberOf me.TMXObject\n             */\n            this.height = +settings.height || 0;\n\n            /**\n             * object gid value\n             * when defined the object is a tiled object\n             * @public\n             * @type Number\n             * @name gid\n             * @memberOf me.TMXObject\n             */\n            this.gid = +settings.gid || null;\n\n            /**\n             * object type\n             * @public\n             * @type String\n             * @name type\n             * @memberOf me.TMXObject\n             */\n            this.type = settings.type;\n\n            /**\n             * object text\n             * @public\n             * @type Object\n             * @see http://docs.mapeditor.org/en/stable/reference/tmx-map-format/#text\n             * @name type\n             * @memberOf me.TMXObject\n             */\n            this.type = settings.type;\n\n            /**\n             * The rotation of the object in radians clockwise (defaults to 0)\n             * @public\n             * @type Number\n             * @name rotation\n             * @memberOf me.TMXObject\n             */\n            this.rotation = me.Math.degToRad(+settings.rotation || 0);\n\n            /**\n             * object unique identifier per level (Tiled 0.11.x+)\n             * @public\n             * @type Number\n             * @name id\n             * @memberOf me.TMXObject\n             */\n            this.id = +settings.id || undefined;\n\n            /**\n             * object orientation (orthogonal or isometric)\n             * @public\n             * @type String\n             * @name orientation\n             * @memberOf me.TMXObject\n             */\n            this.orientation = map.orientation;\n\n            /**\n             * the collision shapes defined for this object\n             * @public\n             * @type Array\n             * @name shapes\n             * @memberOf me.TMXObject\n             */\n            this.shapes = undefined;\n\n            /**\n             * if true, the object is an Ellipse\n             * @public\n             * @type Boolean\n             * @name isEllipse\n             * @memberOf me.TMXObject\n             */\n            this.isEllipse = false;\n\n            /**\n             * if true, the object is a Polygon\n             * @public\n             * @type Boolean\n             * @name isPolygon\n             * @memberOf me.TMXObject\n             */\n            this.isPolygon = false;\n\n            /**\n             * if true, the object is a PolyLine\n             * @public\n             * @type Boolean\n             * @name isPolyLine\n             * @memberOf me.TMXObject\n             */\n            this.isPolyLine = false;\n\n            // check if the object has an associated gid\n            if (typeof this.gid === \"number\") {\n                this.setTile(map.tilesets);\n            }\n            else {\n                if (typeof(settings.ellipse) !== \"undefined\") {\n                    this.isEllipse = true;\n                } else if (typeof(settings.polygon) !== \"undefined\") {\n                    this.points = settings.polygon;\n                    this.isPolygon = true;\n                } else if (typeof(settings.polyline) !== \"undefined\") {\n                    this.points = settings.polyline;\n                    this.isPolyLine = true;\n                }\n            }\n\n\n\n            // check for text information\n            if (typeof settings.text !== \"undefined\") {\n                // a text object\n                this.text = settings.text;\n                // normalize field name and default value the melonjs way\n                this.text.font = settings.text.fontfamily || \"sans-serif\";\n                this.text.size = settings.text.pixelsize || 16;\n                this.text.fillStyle = settings.text.color || \"#000000\";\n                this.text.textAlign = settings.text.halign || \"left\";\n                this.text.textBaseline = settings.text.valign || \"top\";\n                this.text.width = this.width;\n                this.text.height = this.height;\n                // set the object properties\n                me.TMXUtils.applyTMXProperties(this.text, settings);\n            } else {\n                // set the object properties\n                me.TMXUtils.applyTMXProperties(this, settings);\n                // a standard object\n                if (!this.shapes) {\n                    // else define the object shapes if required\n                    this.shapes = this.parseTMXShapes();\n                }\n            }\n\n            // Adjust the Position to match Tiled\n            if (!map.isEditor) {\n                map.getRenderer().adjustPosition(this);\n            }\n\n\n        },\n\n        /**\n         * set the object image (for Tiled Object)\n         * @ignore\n         * @function\n         */\n        setTile : function (tilesets) {\n            // get the corresponding tileset\n            var tileset = tilesets.getTilesetByGid(this.gid);\n\n            if (tileset.isCollection === false) {\n                // set width and height equal to tile size\n                this.width = this.framewidth = tileset.tilewidth;\n                this.height = this.frameheight = tileset.tileheight;\n            }\n\n            // the object corresponding tile object\n            this.tile = new me.Tile(this.x, this.y, this.gid, tileset);\n        },\n\n        /**\n         * parses the TMX shape definition and returns a corresponding array of me.Shape object\n         * @name parseTMXShapes\n         * @memberOf me.TMXObject\n         * @private\n         * @function\n         * @return {me.Polygon[]|me.Line[]|me.Ellipse[]} an array of shape objects\n         */\n        parseTMXShapes : function () {\n            var i = 0;\n            var shapes = [];\n\n            // add an ellipse shape\n            if (this.isEllipse === true) {\n                // ellipse coordinates are the center position, so set default to the corresonding radius\n                shapes.push((new me.Ellipse(\n                    this.width / 2,\n                    this.height / 2,\n                    this.width,\n                    this.height\n                )).rotate(this.rotation));\n            }\n\n            // add a polygon\n            else if (this.isPolygon === true) {\n                shapes.push((new me.Polygon(0, 0, this.points)).rotate(this.rotation));\n            }\n\n            // add a polyline\n            else if (this.isPolyLine === true) {\n                var p = this.points;\n                var p1, p2;\n                var segments = p.length - 1;\n                for (i = 0; i < segments; i++) {\n                    // clone the value before, as [i + 1]\n                    // is reused later by the next segment\n                    p1 = new me.Vector2d(p[i].x, p[i].y);\n                    p2 = new me.Vector2d(p[i + 1].x, p[i + 1].y);\n                    if (this.rotation !== 0) {\n                        p1 = p1.rotate(this.rotation);\n                        p2 = p2.rotate(this.rotation);\n                    }\n                    shapes.push(new me.Line(0, 0, [ p1, p2 ]));\n                }\n            }\n\n            // it's a rectangle, returns a polygon object anyway\n            else {\n                shapes.push((new me.Polygon(\n                    0, 0, [\n                        new me.Vector2d(), new me.Vector2d(this.width, 0),\n                        new me.Vector2d(this.width, this.height), new me.Vector2d(0, this.height)\n                    ]\n                )).rotate(this.rotation));\n            }\n\n            // Apply isometric projection\n            if (this.orientation === \"isometric\") {\n                for (i = 0; i < shapes.length; i++) {\n                    shapes[i].toIso();\n                }\n            }\n\n            return shapes;\n        },\n        /**\n         * getObjectPropertyByName\n         * @ignore\n         * @function\n         */\n        getObjectPropertyByName : function (name) {\n            return this[name];\n        }\n    });\n})();\n","(function () {\n\n    // bitmask constants to check for flipped & rotated tiles\n    var TMX_FLIP_H          = 0x80000000,\n        TMX_FLIP_V          = 0x40000000,\n        TMX_FLIP_AD         = 0x20000000,\n        TMX_CLEAR_BIT_MASK  = ~(0x80000000 | 0x40000000 | 0x20000000);\n\n    /**\n     * a basic tile object\n     * @class\n     * @extends me.Rect\n     * @memberOf me\n     * @constructor\n     * @param {Number} x x index of the Tile in the map\n     * @param {Number} y y index of the Tile in the map\n     * @param {Number} gid tile gid\n     * @param {me.TMXTileset} tileset the corresponding tileset object\n\n     */\n    me.Tile = me.Rect.extend({\n        /** @ignore */\n        init : function (x, y, gid, tileset) {\n            var width, height;\n\n            // determine the tile size\n            if (tileset.isCollection) {\n                var image = tileset.getTileImage(gid & TMX_CLEAR_BIT_MASK);\n                width = image.width;\n                height = image.height;\n            } else {\n                width = tileset.tilewidth;\n                height = tileset.tileheight;\n            }\n\n            // call the parent constructor\n            this._super(me.Rect, \"init\", [x * width, y * height, width, height]);\n\n            /**\n             * tileset\n             * @public\n             * @type me.TMXTileset\n             * @name me.Tile#tileset\n             */\n            this.tileset = tileset;\n\n            /**\n             * the tile transformation matrix (if defined)\n             * @ignore\n             */\n            this.currentTransform = null;\n\n            // Tile col / row pos\n            this.col = x;\n            this.row = y;\n\n            /**\n             * tileId\n             * @public\n             * @type Number\n             * @name me.Tile#tileId\n             */\n            this.tileId = gid;\n            /**\n             * True if the tile is flipped horizontally<br>\n             * @public\n             * @type Boolean\n             * @name me.Tile#flipX\n             */\n            this.flippedX  = (this.tileId & TMX_FLIP_H) !== 0;\n            /**\n             * True if the tile is flipped vertically<br>\n             * @public\n             * @type Boolean\n             * @name me.Tile#flippedY\n             */\n            this.flippedY  = (this.tileId & TMX_FLIP_V) !== 0;\n            /**\n             * True if the tile is flipped anti-diagonally<br>\n             * @public\n             * @type Boolean\n             * @name me.Tile#flippedAD\n             */\n            this.flippedAD = (this.tileId & TMX_FLIP_AD) !== 0;\n\n            /**\n             * Global flag that indicates if the tile is flipped<br>\n             * @public\n             * @type Boolean\n             * @name me.Tile#flipped\n             */\n            this.flipped = this.flippedX || this.flippedY || this.flippedAD;\n            // create a transformation matrix if required\n            if (this.flipped === true) {\n                this.createTransform();\n            }\n\n            // clear out the flags and set the tileId\n            this.tileId &= TMX_CLEAR_BIT_MASK;\n        },\n\n        /**\n         * create a transformation matrix for this tile\n         * @ignore\n         */\n        createTransform : function () {\n            if (this.currentTransform === null) {\n                this.currentTransform = new me.Matrix2d();\n            } else {\n                // reset the matrix\n                this.currentTransform.identity();\n            }\n\n            if (this.flippedAD) {\n                // Use shearing to swap the X/Y axis\n                this.currentTransform.setTransform(\n                    0, 1, 0,\n                    1, 0, 0,\n                    0, 0, 1\n                );\n                this.currentTransform.translate(0, this.height - this.width);\n            }\n            if (this.flippedX) {\n                this.currentTransform.translate(\n                    (this.flippedAD ? 0 : this.width),\n                    (this.flippedAD ? this.height : 0)\n                );\n                this.currentTransform.scaleX(-1);\n            }\n            if (this.flippedY) {\n                this.currentTransform.translate(\n                    (this.flippedAD ? this.width : 0),\n                    (this.flippedAD ? 0 : this.height)\n                );\n                this.currentTransform.scaleY(-1);\n            }\n        },\n\n        /**\n         * return a renderable object for this Tile object\n         * @name me.Tile#getRenderable\n         * @public\n         * @function\n         * @param {Object} [settings] see {@link me.Sprite}\n         * @return {me.Renderable} a me.Sprite object\n         */\n        getRenderable : function (settings) {\n            var renderable;\n            var tileset = this.tileset;\n\n            if (tileset.animations.has(this.tileId)) {\n                var frames = [];\n                var frameId = [];\n                (tileset.animations.get(this.tileId).frames).forEach(function (frame) {\n                    frameId.push(frame.tileid);\n                    frames.push({\n                        name : \"\" + frame.tileid,\n                        delay : frame.duration\n                    });\n                });\n                renderable = tileset.texture.createAnimationFromName(frameId, settings);\n                renderable.addAnimation(this.tileId - tileset.firstgid, frames);\n                renderable.setCurrentAnimation(this.tileId - tileset.firstgid);\n\n            } else {\n                if (tileset.isCollection === true) {\n                    var image = tileset.getTileImage(this.tileId);\n                    renderable = new me.Sprite(0, 0,\n                        Object.assign({\n                            image: image\n                        })//, settings)\n                    );\n                    renderable.anchorPoint.set(0, 0);\n                    renderable.scale((settings.width / this.width), (settings.height / this.height));\n                    if (typeof settings.rotation !== \"undefined\") {\n                        renderable.anchorPoint.set(0.5, 0.5);\n                        renderable.currentTransform.rotate(settings.rotation);\n                        renderable.currentTransform.translate(settings.width / 2, settings.height / 2);\n                        // TODO : move the rotation related code from TMXTiledMap to here (under)\n                        settings.rotation = undefined;\n                    }\n                } else {\n                    renderable = tileset.texture.createSpriteFromName(this.tileId - tileset.firstgid, settings);\n                }\n            }\n\n            // any H/V flipping to apply?\n            if (this.flippedX) {\n                renderable.currentTransform.scaleX(-1);\n            }\n            if (this.flippedY) {\n                renderable.currentTransform.scaleY(-1);\n            }\n\n            return renderable;\n        }\n    });\n})();\n","(function () {\n\n    // bitmask constants to check for flipped & rotated tiles\n    var TMX_CLEAR_BIT_MASK = ~(0x80000000 | 0x40000000 | 0x20000000);\n\n    /**\n     * a TMX Tile Set Object\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {Object} tileset tileset data in JSON format ({@link http://docs.mapeditor.org/en/stable/reference/tmx-map-format/#tileset})\n     */\n    me.TMXTileset = me.Object.extend({\n        /**\n         * constructor\n         * @ignore\n         */\n        init: function (tileset) {\n            var i = 0;\n            // first gid\n\n            // tile properties (collidable, etc..)\n            this.TileProperties = [];\n\n            // hold reference to each tile image\n            this.imageCollection = [];\n\n            this.firstgid = this.lastgid = +tileset.firstgid;\n\n            // check if an external tileset is defined\n            if (typeof(tileset.source) !== \"undefined\") {\n                var src = tileset.source;\n                var ext = me.utils.file.getExtension(src);\n                if (ext === \"tsx\" || ext === \"json\") {\n                    // load the external tileset (TSX/JSON)\n                    tileset = me.loader.getTMX(me.utils.file.getBasename(src));\n                    if (!tileset) {\n                        throw new Error(src + \" external TSX/JSON tileset not found\");\n                    }\n                }\n            }\n\n            this.name = tileset.name;\n            this.tilewidth = +tileset.tilewidth;\n            this.tileheight = +tileset.tileheight;\n            this.spacing = +tileset.spacing || 0;\n            this.margin = +tileset.margin || 0;\n\n            // set tile offset properties (if any)\n            this.tileoffset = new me.Vector2d();\n\n            /**\n             * Tileset contains animated tiles\n             * @public\n             * @type Boolean\n             * @name me.TMXTileset#isAnimated\n             */\n            this.isAnimated = false;\n\n            /**\n             * true if the tileset is a \"Collection of Image\" Tileset\n             * @public\n             * @type Boolean\n             * @name me.TMXTileset#isCollection\n             */\n            this.isCollection = false;\n\n            /**\n             * Tileset animations\n             * @private\n             * @type Map\n             * @name me.TMXTileset#animations\n             */\n            this.animations = new Map();\n\n            /**\n             * Remember the last update timestamp to prevent too many animation updates\n             * @private\n             * @type Map\n             * @name me.TMXTileset#_lastUpdate\n             */\n            this._lastUpdate = 0;\n\n            var tiles = tileset.tiles;\n            for (i in tiles) {\n                if (tiles.hasOwnProperty(i)) {\n                    if (\"animation\" in tiles[i]) {\n                        this.isAnimated = true;\n                        this.animations.set(+i + this.firstgid, {\n                            dt      : 0,\n                            idx     : 0,\n                            frames  : tiles[i].animation,\n                            cur     : tiles[i].animation[0]\n                        });\n                    }\n                    // set tile properties, if any (XML format)\n                    if (\"properties\" in tiles[i]) {\n                        this.setTileProperty(+i + this.firstgid, tiles[i].properties);\n                    }\n                    if (\"image\" in tiles[i]) {\n                        var image = me.loader.getImage(tiles[i].image);\n                        if (!image) {\n                            throw new Error(\"melonJS: '\" + tiles[i].image + \"' file for tile '\" + (+i + this.firstgid) + \"' not found!\");\n                        }\n                        this.imageCollection[+i + this.firstgid] = image;\n                    }\n                }\n            }\n\n            this.isCollection = this.imageCollection.length > 0;\n\n            var offset = tileset.tileoffset;\n            if (offset) {\n                this.tileoffset.x = +offset.x;\n                this.tileoffset.y = +offset.y;\n            }\n\n            // set tile properties, if any (JSON format)\n            var tileInfo = tileset.tileproperties;\n            if (tileInfo) {\n                for (i in tileInfo) {\n                    if (tileInfo.hasOwnProperty(i)) {\n                        this.setTileProperty(+i + this.firstgid, tileInfo[i]);\n                    }\n                }\n            }\n\n            // if not a tile image collection\n            if (this.isCollection === false) {\n\n                // get the global tileset texture\n                this.image = me.loader.getImage(tileset.image);\n\n                if (!this.image) {\n                    throw new Error(\"melonJS: '\" + tileset.image + \"' file for tileset '\" + this.name + \"' not found!\");\n                }\n\n                // create a texture atlas for the given tileset\n                this.texture = me.video.renderer.cache.get(this.image, {\n                    framewidth : this.tilewidth,\n                    frameheight : this.tileheight,\n                    margin : this.margin,\n                    spacing : this.spacing\n                });\n                this.atlas = this.texture.getAtlas();\n\n                // calculate the number of tiles per horizontal line\n                var hTileCount = +tileset.columns || ~~(this.image.width / (this.tilewidth + this.spacing));\n                var vTileCount = ~~(this.image.height / (this.tileheight + this.spacing));\n                // compute the last gid value in the tileset\n                this.lastgid = this.firstgid + (((hTileCount * vTileCount) - 1) || 0);\n                if (tileset.tilecount && this.lastgid - this.firstgid + 1 !== +tileset.tilecount) {\n                    console.warn(\n                        \"Computed tilecount (\" + (this.lastgid - this.firstgid + 1) +\n                        \") does not match expected tilecount (\" + tileset.tilecount + \")\"\n                    );\n                }\n            }\n        },\n\n        /**\n         * return the tile image from a \"Collection of Image\" tileset\n         * @name me.TMXTileset#getTileImage\n         * @public\n         * @function\n         * @param {Number} gid\n         * @return {Image} corresponding image or undefined\n         */\n        getTileImage : function (gid) {\n            return this.imageCollection[gid];\n        },\n\n\n        /**\n         * set the tile properties\n         * @ignore\n         * @function\n         */\n        setTileProperty : function (gid, prop) {\n            // set the given tile id\n            this.TileProperties[gid] = prop;\n        },\n\n        /**\n         * return true if the gid belongs to the tileset\n         * @name me.TMXTileset#contains\n         * @public\n         * @function\n         * @param {Number} gid\n         * @return {Boolean}\n         */\n        contains : function (gid) {\n            return gid >= this.firstgid && gid <= this.lastgid;\n        },\n\n        /**\n         * Get the view (local) tile ID from a GID, with animations applied\n         * @name me.TMXTileset#getViewTileId\n         * @public\n         * @function\n         * @param {Number} gid Global tile ID\n         * @return {Number} View tile ID\n         */\n        getViewTileId : function (gid) {\n            if (this.animations.has(gid)) {\n                // apply animations\n                gid = this.animations.get(gid).cur.tileid;\n            }\n            else {\n                // get the local tileset id\n                gid -= this.firstgid;\n            }\n\n            return gid;\n        },\n\n        /**\n         * return the properties of the specified tile\n         * @name me.TMXTileset#getTileProperties\n         * @public\n         * @function\n         * @param {Number} tileId\n         * @return {Object}\n         */\n        getTileProperties: function (tileId) {\n            return this.TileProperties[tileId];\n        },\n\n        // update tile animations\n        update : function (dt) {\n            var duration = 0,\n                now = me.timer.getTime(),\n                result = false;\n\n            if (this._lastUpdate !== now) {\n                this._lastUpdate = now;\n\n                this.animations.forEach(function (anim) {\n                    anim.dt += dt;\n                    duration = anim.cur.duration;\n                    while (anim.dt >= duration) {\n                        anim.dt -= duration;\n                        anim.idx = (anim.idx + 1) % anim.frames.length;\n                        anim.cur = anim.frames[anim.idx];\n                        duration = anim.cur.duration;\n                        result = true;\n                    }\n                });\n            }\n\n            return result;\n        },\n\n        // draw the x,y tile\n        drawTile : function (renderer, dx, dy, tmxTile) {\n\n            // check if any transformation is required\n            if (tmxTile.flipped) {\n                renderer.save();\n                // apply the tile current transform\n                renderer.translate(dx, dy);\n                renderer.transform(tmxTile.currentTransform);\n                // reset both values as managed through transform();\n                dx = dy = 0;\n            }\n\n            // check if the tile has an associated image\n            if (this.isCollection === true) {\n                // draw the tile\n                renderer.drawImage(\n                    this.imageCollection[tmxTile.tileId],\n                    0, 0,\n                    tmxTile.width, tmxTile.height,\n                    dx, dy,\n                    tmxTile.width, tmxTile.height\n                );\n            } else {\n                // use the tileset texture\n                var offset = this.atlas[this.getViewTileId(tmxTile.tileId)].offset;\n                // draw the tile\n                renderer.drawImage(\n                    this.image,\n                    offset.x, offset.y,\n                    this.tilewidth, this.tileheight,\n                    dx, dy,\n                    this.tilewidth + renderer.uvOffset, this.tileheight + renderer.uvOffset\n                );\n            }\n\n            if (tmxTile.flipped)  {\n                // restore the context to the previous state\n                renderer.restore();\n            }\n        }\n    });\n\n    /**\n     * an object containing all tileset\n     * @class\n     * @memberOf me\n     * @constructor\n     */\n    me.TMXTilesetGroup = me.Object.extend({\n        /**\n         * constructor\n         * @ignore\n         */\n        init: function () {\n            this.tilesets = [];\n            this.length = 0;\n        },\n\n        /**\n         * add a tileset to the tileset group\n         * @name me.TMXTilesetGroup#add\n         * @public\n         * @function\n         * @param  {me.TMXTileset} tileset\n         */\n        add : function (tileset) {\n            this.tilesets.push(tileset);\n            this.length++;\n        },\n\n        /**\n         * return the tileset at the specified index\n         * @name me.TMXTilesetGroup#getTilesetByIndex\n         * @public\n         * @function\n         * @param {Number} i\n         * @return {me.TMXTileset} corresponding tileset\n         */\n        getTilesetByIndex : function (i) {\n            return this.tilesets[i];\n        },\n\n        /**\n         * return the tileset corresponding to the specified id <br>\n         * will throw an exception if no matching tileset is found\n         * @name me.TMXTilesetGroup#getTilesetByGid\n         * @public\n         * @function\n         * @param {Number} gid\n         * @return {me.TMXTileset} corresponding tileset\n         */\n        getTilesetByGid : function (gid) {\n            var invalidRange = -1;\n\n            // clear the gid of all flip/rotation flags\n            gid &= TMX_CLEAR_BIT_MASK;\n\n            // cycle through all tilesets\n            for (var i = 0, len = this.tilesets.length; i < len; i++) {\n                // return the corresponding tileset if matching\n                if (this.tilesets[i].contains(gid)) {\n                    return this.tilesets[i];\n                }\n                // typically indicates a layer with no asset loaded (collision?)\n                if (this.tilesets[i].firstgid === this.tilesets[i].lastgid &&\n                    gid >= this.tilesets[i].firstgid) {\n                    // store the id if the [firstgid .. lastgid] is invalid\n                    invalidRange = i;\n                }\n            }\n            // return the tileset with the invalid range\n            if (invalidRange !== -1) {\n                return this.tilesets[invalidRange];\n            }\n            else {\n                throw new Error(\"no matching tileset found for gid \" + gid);\n            }\n        }\n    });\n})();\n","(function () {\n\n    // scope global var & constants\n    var offsetsStaggerX = [\n        {x:   0, y:   0},\n        {x: + 1, y: - 1},\n        {x: + 1, y:   0},\n        {x: + 2, y:   0}\n    ];\n    var offsetsStaggerY = [\n        {x:   0, y:   0},\n        {x: - 1, y: + 1},\n        {x:   0, y: + 1},\n        {x:   0, y: + 2}\n    ];\n\n    /**\n     * The map renderer base class\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {Number} cols width of the tilemap in tiles\n     * @param {Number} rows height of the tilemap in tiles\n     * @param {Number} tilewidth width of each tile in pixels\n     * @param {Number} tileheight height of each tile in pixels\n     */\n    me.TMXRenderer = me.Object.extend({\n        // constructor\n        init: function (cols, rows, tilewidth, tileheight) {\n            this.cols = cols;\n            this.rows = rows;\n            this.tilewidth = tilewidth;\n            this.tileheight = tileheight;\n        },\n\n        /**\n         * return true if the renderer can render the specified layer\n         * @name me.TMXRenderer#canRender\n         * @public\n         * @function\n         * @param {me.TMXTileMap|me.TMXLayer} component TMX Map or Layer\n         * @return {boolean}\n         */\n        canRender : function (component) {\n            return (\n                (this.cols === component.cols) &&\n                (this.rows === component.rows) &&\n                (this.tilewidth === component.tilewidth) &&\n                (this.tileheight === component.tileheight)\n            );\n        },\n\n        /**\n         * return the tile position corresponding to the specified pixel\n         * @name me.TMXRenderer#pixelToTileCoords\n         * @public\n         * @function\n         * @param {Number} x X coordinate\n         * @param {Number} y Y coordinate\n         * @param {me.Vector2d} [vector] an optional vector object where to put the return values\n         * @return {me.Vector2d}\n         */\n        pixelToTileCoords : function (x, y, v) {\n            return v;\n        },\n\n        /**\n         * return the pixel position corresponding of the specified tile\n         * @name me.TMXRenderer#tileToPixelCoords\n         * @public\n         * @function\n         * @param {Number} col tile horizontal position\n         * @param {Number} row tile vertical position\n         * @param {me.Vector2d} [vector] an optional vector object where to put the return values\n         * @return {me.Vector2d}\n         */\n        tileToPixelCoords : function (x, y, v) {\n            return v;\n        },\n\n        /**\n         * draw the given tile at the specified layer\n         * @name me.TMXRenderer#drawTile\n         * @public\n         * @function\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer a renderer object\n         * @param {Number} x X coordinate where to draw the tile\n         * @param {Number} y Y coordinate where to draw the tile\n         * @param {me.Tile} tile the tile object to draw\n         */\n        drawTile : function (renderer, x, y, tile) {\n        },\n\n        /**\n         * draw the given TMX Layer for the given area\n         * @name me.TMXRenderer#drawTileLayer\n         * @public\n         * @function\n         * @param {me.CanvasRenderer|me.WebGLRenderer} renderer a renderer object\n         * @param {me.TMXLayer} layer a TMX Layer object\n         * @param {me.Rect} rect the area of the layer to draw\n         */\n        drawTileLayer : function (renderer, layer, rect) {\n        }\n\n    });\n\n    /**\n     * an Orthogonal Map Renderder\n     * @memberOf me\n     * @extends me.TMXRenderer\n     * @memberOf me\n     * @constructor\n     * @param {Number} cols width of the tilemap in tiles\n     * @param {Number} rows height of the tilemap in tiles\n     * @param {Number} tilewidth width of each tile in pixels\n     * @param {Number} tileheight height of each tile in pixels\n     */\n    me.TMXOrthogonalRenderer = me.TMXRenderer.extend({\n        /**\n         * return true if the renderer can render the specified layer\n         * @ignore\n         */\n        canRender : function (layer) {\n            return (\n                (layer.orientation === \"orthogonal\") &&\n                this._super(me.TMXRenderer, \"canRender\", [ layer ])\n            );\n        },\n\n        /**\n         * return the tile position corresponding to the specified pixel\n         * @ignore\n         */\n        pixelToTileCoords : function (x, y, v) {\n            var ret = v || new me.Vector2d();\n            return ret.set(\n                x / this.tilewidth,\n                y / this.tileheight\n            );\n        },\n\n\n        /**\n         * return the pixel position corresponding of the specified tile\n         * @ignore\n         */\n        tileToPixelCoords : function (x, y, v) {\n            var ret = v || new me.Vector2d();\n            return ret.set(\n                x * this.tilewidth,\n                y * this.tileheight\n            );\n        },\n\n        /**\n         * fix the position of Objects to match\n         * the way Tiled places them\n         * @ignore\n         */\n        adjustPosition: function (obj) {\n            // only adjust position if obj.gid is defined\n            if (typeof(obj.gid) === \"number\") {\n                // Tiled objects origin point is \"bottom-left\" in Tiled,\n                // \"top-left\" in melonJS)\n                obj.y -= obj.height;\n            }\n        },\n\n        /**\n         * draw the tile map\n         * @ignore\n         */\n        drawTile : function (renderer, x, y, tmxTile) {\n            var tileset = tmxTile.tileset;\n            // draw the tile\n            tileset.drawTile(\n                renderer,\n                tileset.tileoffset.x + x * this.tilewidth,\n                tileset.tileoffset.y + (y + 1) * this.tileheight - tileset.tileheight,\n                tmxTile\n            );\n        },\n\n        /**\n         * draw the tile map\n         * @ignore\n         */\n        drawTileLayer : function (renderer, layer, rect) {\n            var incX = 1, incY = 1;\n\n            // get top-left and bottom-right tile position\n            var start = this.pixelToTileCoords(\n                Math.max(rect.pos.x - (layer.maxTileSize.width - layer.tilewidth), 0),\n                Math.max(rect.pos.y - (layer.maxTileSize.height - layer.tileheight), 0),\n                me.pool.pull(\"me.Vector2d\")\n            ).floorSelf();\n\n            var end = this.pixelToTileCoords(\n                rect.pos.x + rect.width + this.tilewidth,\n                rect.pos.y + rect.height + this.tileheight,\n                me.pool.pull(\"me.Vector2d\")\n            ).ceilSelf();\n\n            //ensure we are in the valid tile range\n            end.x = end.x > this.cols ? this.cols : end.x;\n            end.y = end.y > this.rows ? this.rows : end.y;\n\n            switch (layer.renderorder) {\n                case \"right-up\" :\n                    // swapping start.y and end.y\n                    end.y = start.y + (start.y = end.y) - end.y;\n                    incY = -1;\n                    break;\n                case \"left-down\" :\n                    // swapping start.x and end.x\n                    end.x = start.x + (start.x = end.x) - end.x;\n                    incX = -1;\n                    break;\n                case \"left-up\" :\n                    // swapping start.x and end.x\n                    end.x = start.x + (start.x = end.x) - end.x;\n                    // swapping start.y and end.y\n                    end.y = start.y + (start.y = end.y) - end.y;\n                    incX = -1;\n                    incY = -1;\n                    break;\n                default: // right-down\n                    break;\n            }\n\n            // main drawing loop\n            for (var y = start.y; y !== end.y; y+= incY) {\n                for (var x = start.x; x !== end.x; x+= incX) {\n                    var tmxTile = layer.layerData[x][y];\n                    if (tmxTile) {\n                        this.drawTile(renderer, x, y, tmxTile);\n                    }\n                }\n            }\n\n            me.pool.push(start);\n            me.pool.push(end);\n        }\n    });\n\n\n    /**\n     * an Isometric Map Renderder\n     * @memberOf me\n     * @extends me.TMXRenderer\n     * @memberOf me\n     * @constructor\n     * @param {Number} cols width of the tilemap in tiles\n     * @param {Number} rows height of the tilemap in tiles\n     * @param {Number} tilewidth width of each tile in pixels\n     * @param {Number} tileheight height of each tile in pixels\n     */\n    me.TMXIsometricRenderer = me.TMXRenderer.extend({\n        // constructor\n        init: function (cols, rows, tilewidth, tileheight) {\n            this._super(me.TMXRenderer, \"init\", [\n                cols,\n                rows,\n                tilewidth,\n                tileheight\n            ]);\n\n            this.hTilewidth = tilewidth / 2;\n            this.hTileheight = tileheight / 2;\n            this.originX = this.rows * this.hTilewidth;\n        },\n\n        /**\n         * return true if the renderer can render the specified layer\n         * @ignore\n         */\n        canRender : function (layer) {\n            return (\n                (layer.orientation === \"isometric\") &&\n                this._super(me.TMXRenderer, \"canRender\", [ layer ])\n            );\n        },\n\n        /**\n         * return the tile position corresponding to the specified pixel\n         * @ignore\n         */\n        pixelToTileCoords : function (x, y, v) {\n            var ret = v || new me.Vector2d();\n            return ret.set(\n                (y / this.tileheight) + ((x - this.originX) / this.tilewidth),\n                (y / this.tileheight) - ((x - this.originX) / this.tilewidth)\n            );\n        },\n\n        /**\n         * return the pixel position corresponding of the specified tile\n         * @ignore\n         */\n        tileToPixelCoords : function (x, y, v) {\n            var ret = v || new me.Vector2d();\n            return ret.set(\n                (x - y) * this.hTilewidth + this.originX,\n                (x + y) * this.hTileheight\n            );\n        },\n\n        /**\n         * fix the position of Objects to match\n         * the way Tiled places them\n         * @ignore\n         */\n        adjustPosition: function (obj) {\n            var tileX = obj.x / this.hTilewidth;\n            var tileY = obj.y / this.tileheight;\n            var isoPos = me.pool.pull(\"me.Vector2d\");\n\n            this.tileToPixelCoords(tileX, tileY, isoPos);\n\n            obj.x = isoPos.x;\n            obj.y = isoPos.y;\n\n            me.pool.push(isoPos);\n        },\n\n        /**\n         * draw the tile map\n         * @ignore\n         */\n        drawTile : function (renderer, x, y, tmxTile) {\n            var tileset = tmxTile.tileset;\n            // draw the tile\n            tileset.drawTile(\n                renderer,\n                ((this.cols - 1) * tileset.tilewidth + (x - y) * tileset.tilewidth >> 1),\n                (-tileset.tilewidth + (x + y) * tileset.tileheight >> 2),\n                tmxTile\n            );\n        },\n\n        /**\n         * draw the tile map\n         * @ignore\n         */\n        drawTileLayer : function (renderer, layer, rect) {\n            // cache a couple of useful references\n            var tileset = layer.tileset;\n\n            // get top-left and bottom-right tile position\n            var rowItr = this.pixelToTileCoords(\n                rect.pos.x - tileset.tilewidth,\n                rect.pos.y - tileset.tileheight,\n                me.pool.pull(\"me.Vector2d\")\n            ).floorSelf();\n            var tileEnd = this.pixelToTileCoords(\n                rect.pos.x + rect.width + tileset.tilewidth,\n                rect.pos.y + rect.height + tileset.tileheight,\n                me.pool.pull(\"me.Vector2d\")\n            ).ceilSelf();\n\n            var rectEnd = this.tileToPixelCoords(tileEnd.x, tileEnd.y, me.pool.pull(\"me.Vector2d\"));\n\n            // Determine the tile and pixel coordinates to start at\n            var startPos = this.tileToPixelCoords(rowItr.x, rowItr.y, me.pool.pull(\"me.Vector2d\"));\n            startPos.x -= this.hTilewidth;\n            startPos.y += this.tileheight;\n\n            /* Determine in which half of the tile the top-left corner of the area we\n             * need to draw is. If we're in the upper half, we need to start one row\n             * up due to those tiles being visible as well. How we go up one row\n             * depends on whether we're in the left or right half of the tile.\n             */\n            var inUpperHalf = startPos.y - rect.pos.y > this.hTileheight;\n            var inLeftHalf  = rect.pos.x - startPos.x < this.hTilewidth;\n\n            if (inUpperHalf) {\n                if (inLeftHalf) {\n                    rowItr.x--;\n                    startPos.x -= this.hTilewidth;\n                }\n                else {\n                    rowItr.y--;\n                    startPos.x += this.hTilewidth;\n                }\n                startPos.y -= this.hTileheight;\n            }\n\n            // Determine whether the current row is shifted half a tile to the right\n            var shifted = inUpperHalf ^ inLeftHalf;\n\n            // initialize the columItr vector\n            var columnItr = rowItr.clone();\n\n            // main drawing loop\n            for (var y = startPos.y * 2; y - this.tileheight * 2 < rectEnd.y * 2; y += this.tileheight) {\n                columnItr.setV(rowItr);\n                for (var x = startPos.x; x < rectEnd.x; x += this.tilewidth) {\n                    //check if it's valid tile, if so render\n                    if (\n                        (columnItr.x >= 0) &&\n                        (columnItr.y >= 0) &&\n                        (columnItr.x < this.cols) &&\n                        (columnItr.y < this.rows)\n                    ) {\n                        var tmxTile = layer.layerData[columnItr.x][columnItr.y];\n                        if (tmxTile) {\n                            tileset = tmxTile.tileset;\n                            // offset could be different per tileset\n                            var offset  = tileset.tileoffset;\n                            // draw our tile\n                            tileset.drawTile(\n                                renderer,\n                                offset.x + x,\n                                offset.y + y / 2 - tileset.tileheight,\n                                tmxTile\n                            );\n                        }\n                    }\n                    // Advance to the next column\n                    columnItr.x++;\n                    columnItr.y--;\n                }\n\n                // Advance to the next row\n                if (!shifted) {\n                    rowItr.x++;\n                    startPos.x += this.hTilewidth;\n                    shifted = true;\n                }\n                else {\n                    rowItr.y++;\n                    startPos.x -= this.hTilewidth;\n                    shifted = false;\n                }\n            }\n\n            me.pool.push(columnItr);\n            me.pool.push(rowItr);\n            me.pool.push(tileEnd);\n            me.pool.push(rectEnd);\n            me.pool.push(startPos);\n        }\n    });\n\n\n    /**\n     * an Hexagonal Map Renderder\n     * @memberOf me\n     * @extends me.TMXRenderer\n     * @memberOf me\n     * @constructor\n     * @param {Number} cols width of the tilemap in tiles\n     * @param {Number} rows height of the tilemap in tiles\n     * @param {Number} tilewidth width of each tile in pixels\n     * @param {Number} tileheight height of each tile in pixels\n     */\n    me.TMXHexagonalRenderer = me.TMXRenderer.extend({\n        // constructor\n        init: function (cols, rows, tilewidth, tileheight, hexsidelength, staggeraxis, staggerindex) {\n            this._super(me.TMXRenderer, \"init\", [\n                cols,\n                rows,\n                tilewidth,\n                tileheight\n            ]);\n\n            this.hexsidelength = hexsidelength;\n            this.staggeraxis = staggeraxis;\n            this.staggerindex = staggerindex;\n\n            this.sidelengthx = 0;\n            this.sidelengthy = 0;\n\n            if (staggeraxis === \"x\") {\n                this.sidelengthx = hexsidelength;\n            }\n            else {\n                this.sidelengthy = hexsidelength;\n            }\n\n            this.sideoffsetx = (this.tilewidth - this.sidelengthx) / 2;\n            this.sideoffsety = (this.tileheight - this.sidelengthy) / 2;\n\n            this.columnwidth = this.sideoffsetx + this.sidelengthx;\n            this.rowheight = this.sideoffsety + this.sidelengthy;\n\n            this.centers = [\n                new me.Vector2d(),\n                new me.Vector2d(),\n                new me.Vector2d(),\n                new me.Vector2d()\n            ];\n        },\n\n        /**\n         * return true if the renderer can render the specified layer\n         * @ignore\n         */\n        canRender : function (layer) {\n            return (\n                (layer.orientation === \"hexagonal\") &&\n                this._super(me.TMXRenderer, \"canRender\", [ layer ])\n            );\n        },\n\n        /**\n         * return the tile position corresponding to the specified pixel\n         * @ignore\n         */\n        pixelToTileCoords : function (x, y, v) {\n            var q, r;\n            var ret = v || new me.Vector2d();\n\n            if (this.staggeraxis === \"x\") { //flat top\n                x = x - ((this.staggerindex === \"odd\") ? this.sideoffsetx : this.tilewidth);\n            }\n            else { //pointy top\n                y = y - ((this.staggerindex === \"odd\") ? this.sideoffsety : this.tileheight);\n            }\n\n            // Start with the coordinates of a grid-aligned tile\n            var referencePoint = me.pool.pull(\"me.Vector2d\",\n                Math.floor(x / (this.columnwidth * 2)),\n                Math.floor((y / (this.rowheight * 2)))\n            );\n\n            // Relative x and y position on the base square of the grid-aligned tile\n            var rel = me.pool.pull(\"me.Vector2d\",\n                x - referencePoint.x * (this.columnwidth * 2),\n                y - referencePoint.y * (this.rowheight * 2)\n            );\n\n            // Adjust the reference point to the correct tile coordinates\n            if (this.staggeraxis === \"x\") {\n                referencePoint.x = referencePoint.x * 2;\n                if (this.staggerindex === \"even\") {\n                    ++referencePoint.x;\n                }\n            }\n            else {\n                referencePoint.y = referencePoint.y * 2;\n                if (this.staggerindex === \"even\") {\n                    ++referencePoint.y;\n                }\n            }\n\n            // Determine the nearest hexagon tile by the distance to the center\n            var left, top, centerX, centerY;\n            if (this.staggeraxis === \"x\") {\n                left = this.sidelengthx / 2;\n                centerX = left + this.columnwidth;\n                centerY = this.tileheight / 2;\n\n                this.centers[0].set(left, centerY);\n                this.centers[1].set(centerX, centerY - this.rowheight);\n                this.centers[2].set(centerX, centerY + this.rowheight);\n                this.centers[3].set(centerX + this.columnwidth, centerY);\n            }\n            else {\n                top = this.sidelengthy / 2;\n                centerX = this.tilewidth / 2;\n                centerY = top + this.rowheight;\n\n                this.centers[0].set(centerX, top);\n                this.centers[1].set(centerX - this.columnwidth, centerY);\n                this.centers[2].set(centerX + this.columnwidth, centerY);\n                this.centers[3].set(centerX, centerY + this.rowheight);\n            }\n\n            var nearest = 0;\n            var minDist = Number.MAX_VALUE;\n            var dc;\n            for (var i = 0; i < 4; ++i) {\n                dc = Math.pow(this.centers[i].x - rel.x, 2) + Math.pow(this.centers[i].y - rel.y, 2);\n                if (dc < minDist) {\n                    minDist = dc;\n                    nearest = i;\n                }\n            }\n\n            var offsets = (this.staggeraxis === \"x\") ? offsetsStaggerX : offsetsStaggerY;\n\n            q = referencePoint.x + offsets[nearest].x;\n            r = referencePoint.y + offsets[nearest].y;\n\n            me.pool.push(referencePoint);\n            me.pool.push(rel);\n\n            return ret.set(q, r);\n        },\n\n        /**\n         * return the pixel position corresponding of the specified tile\n         * @ignore\n         */\n        tileToPixelCoords : function (q, r, v) {\n            var x, y;\n            var ret = v || new me.Vector2d();\n            if (this.staggeraxis === \"x\") {\n                //flat top\n                x = q * this.columnwidth;\n                if (this.staggerindex === \"odd\") {\n                    y = r * (this.tileheight + this.sidelengthy);\n                    y = y + (this.rowheight * (q & 1));\n                }\n                else {\n                    y = r * (this.tileheight + this.sidelengthy);\n                    y = y + (this.rowheight * (1 - (q & 1)));\n                }\n            }\n            else {\n                //pointy top\n                y = r * this.rowheight;\n                if (this.staggerindex === \"odd\") {\n                    x = q * (this.tilewidth + this.sidelengthx);\n                    x = x + (this.columnwidth * (r & 1));\n                }\n                else {\n                    x = q * (this.tilewidth + this.sidelengthx);\n                    x = x + (this.columnwidth * (1 - (r & 1)));\n                }\n            }\n            return ret.set(x, y);\n        },\n\n        /**\n         * fix the position of Objects to match\n         * the way Tiled places them\n         * @ignore\n         */\n        adjustPosition: function (obj) {\n            // only adjust position if obj.gid is defined\n            if (typeof(obj.gid) === \"number\") {\n                // Tiled objects origin point is \"bottom-left\" in Tiled,\n                // \"top-left\" in melonJS)\n                obj.y -= obj.height;\n            }\n        },\n\n        /**\n         * draw the tile map\n         * @ignore\n         */\n        drawTile : function (renderer, x, y, tmxTile) {\n            var tileset = tmxTile.tileset;\n            var point = this.tileToPixelCoords(x, y, me.pool.pull(\"me.Vector2d\"));\n\n            // draw the tile\n            tileset.drawTile(\n                renderer,\n                tileset.tileoffset.x + point.x,\n                tileset.tileoffset.y + point.y + (this.tileheight - tileset.tileheight),\n                tmxTile\n            );\n\n            me.pool.push(point);\n        },\n\n        /**\n         * draw the tile map\n         * @ignore\n         */\n        drawTileLayer : function (renderer, layer, rect) {\n            // get top-left and bottom-right tile position\n            var start = this.pixelToTileCoords(\n                rect.pos.x,\n                rect.pos.y,\n                me.pool.pull(\"me.Vector2d\")\n           ).floorSelf();\n\n            var end = this.pixelToTileCoords(\n                rect.pos.x + rect.width + this.tilewidth,\n                rect.pos.y + rect.height + this.tileheight,\n                me.pool.pull(\"me.Vector2d\")\n            ).ceilSelf();\n\n            //ensure we are in the valid tile range\n            start.x = start.x < 0 ? 0 : start.x;\n            start.y = start.y < 0 ? 0 : start.y;\n            end.x = end.x > this.cols ? this.cols : end.x;\n            end.y = end.y > this.rows ? this.rows : end.y;\n\n            // main drawing loop\n            for (var y = start.y; y < end.y; y++) {\n                for (var x = start.x; x < end.x; x++) {\n                    var tmxTile = layer.layerData[x][y];\n                    if (tmxTile) {\n                        this.drawTile(renderer, x, y, tmxTile);\n                    }\n                }\n            }    \n            me.pool.push(start);\n            me.pool.push(end);\n        }\n    });\n\n})();\n","(function () {\n\n    /**\n     * Create required arrays for the given layer object\n     * @ignore\n     */\n    function initArray(layer) {\n        // initialize the array\n        layer.layerData = new Array(layer.cols);\n        for (var x = 0; x < layer.cols; x++) {\n            layer.layerData[x] = new Array(layer.rows);\n            for (var y = 0; y < layer.rows; y++) {\n                layer.layerData[x][y] = null;\n            }\n        }\n    }\n\n    /**\n     * Set a tiled layer Data\n     * @ignore\n     */\n    function setLayerData(layer, data) {\n        var idx = 0;\n        // initialize the array\n        initArray(layer);\n        // set everything\n        for (var y = 0; y < layer.rows; y++) {\n            for (var x = 0; x < layer.cols; x++) {\n                // get the value of the gid\n                var gid = data[idx++];\n                // fill the array\n                if (gid !== 0) {\n                    // add a new tile to the layer\n                    layer.setTile(x, y, gid);\n                }\n            }\n        }\n    }\n\n    /**\n     * a TMX Tile Layer Object\n     * Tiled QT 0.7.x format\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {Object} data layer data in JSON format ({@link http://docs.mapeditor.org/en/stable/reference/tmx-map-format/#layer})\n     * @param {Number} tilewidth width of each tile in pixels\n     * @param {Number} tileheight height of each tile in pixels\n     * @param {String} orientation \"isometric\" or \"orthogonal\"\n     * @param {me.TMXTilesetGroup} tilesets tileset as defined in Tiled\n     * @param {Number} z z-index position\n     */\n    me.TMXLayer = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init: function (data, tilewidth, tileheight, orientation, tilesets, z) {\n            // super constructor\n            this._super(me.Renderable, \"init\", [0, 0, 0, 0]);\n\n            // tile width & height\n            this.tilewidth  = data.tilewidth || tilewidth;\n            this.tileheight = data.tileheight || tileheight;\n\n            // layer orientation\n            this.orientation = orientation;\n\n            /**\n             * The Layer corresponding Tilesets\n             * @public\n             * @type me.TMXTilesetGroup\n             * @name me.TMXLayer#tilesets\n             */\n            this.tilesets = tilesets;\n\n            // the default tileset\n            // XXX: Is this even used?\n            this.tileset = (this.tilesets ? this.tilesets.getTilesetByIndex(0) : null);\n\n            // Biggest tile size to draw\n            this.maxTileSize = {\n                \"width\" : 0,\n                \"height\" : 0\n            };\n            for (var i = 0; i < this.tilesets.length; i++) {\n                var tileset = this.tilesets.getTilesetByIndex(i);\n                this.maxTileSize.width = Math.max(this.maxTileSize.width, tileset.tilewidth);\n                this.maxTileSize.height = Math.max(this.maxTileSize.height, tileset.tileheight);\n            }\n\n            /**\n             * All animated tilesets in this layer\n             * @ignore\n             * @type Array\n             * @name me.TMXLayer#animatedTilesets\n             */\n            this.animatedTilesets = [];\n\n            /**\n             * Layer contains tileset animations\n             * @public\n             * @type Boolean\n             * @name me.TMXLayer#isAnimated\n             */\n            this.isAnimated = false;\n\n            /**\n             * the order in which tiles on orthogonal tile layers are rendered.\n             * (valid values are \"left-down\", \"left-up\", \"right-down\", \"right-up\")\n             * @public\n             * @type {String}\n             * @default \"right-down\"\n             * @name me.TMXLayer#renderorder\n             */\n            this.renderorder = data.renderorder || \"right-down\";\n\n            // for displaying order\n            this.pos.z = z;\n\n            // tiled default coordinates are top-left\n            this.anchorPoint.set(0, 0);\n\n            // additional TMX flags\n            this.name = data.name;\n            this.cols = +data.width;\n            this.rows = +data.height;\n\n            // hexagonal maps only\n            this.hexsidelength = +data.hexsidelength || undefined;\n            this.staggeraxis = data.staggeraxis;\n            this.staggerindex = data.staggerindex;\n\n            // layer opacity\n            var visible = typeof(data.visible) !== \"undefined\" ? +data.visible : 1;\n            this.setOpacity(visible ? +data.opacity : 0);\n\n            // layer \"real\" size\n            if (this.orientation === \"isometric\") {\n                this.width = (this.cols + this.rows) * (this.tilewidth / 2);\n                this.height = (this.cols + this.rows) * (this.tileheight / 2);\n            } else {\n                this.width = this.cols * this.tilewidth;\n                this.height = this.rows * this.tileheight;\n            }\n\n            // check if we have any user-defined properties\n            me.TMXUtils.applyTMXProperties(this, data);\n\n            // check for the correct rendering method\n            if (typeof (this.preRender) === \"undefined\") {\n                this.preRender = me.sys.preRender;\n            }\n\n            // if pre-rendering method is use, create an offline canvas/renderer\n            if (this.preRender === true) {\n                this.canvasRenderer = new me.CanvasRenderer(\n                    me.video.createCanvas(this.width, this.height),\n                    this.width, this.height,\n                    { transparent : true }\n                );\n            }\n\n            // initialize and set the layer data\n            setLayerData(this,\n                me.TMXUtils.decode(\n                    data.data,\n                    data.encoding,\n                    data.compression\n                )\n            );\n        },\n\n\n        // called when the layer is added to the game world or a container\n        onActivateEvent : function () {\n\n            if (this.animatedTilesets === undefined) {\n                this.animatedTilesets = [];\n            }\n\n            if (this.tilesets) {\n                var tileset = this.tilesets.tilesets;\n                for (var i = 0; i < tileset.length; i++) {\n                    if (tileset[i].isAnimated) {\n                        this.animatedTilesets.push(tileset[i]);\n                    }\n                }\n            }\n\n            this.isAnimated = this.animatedTilesets.length > 0;\n\n            // Force pre-render off when tileset animation is used\n            if (this.isAnimated) {\n                this.preRender = false;\n            }\n\n            // Resize the bounding rect\n            this.getBounds().resize(this.width, this.height);\n        },\n\n        // called when the layer is removed from the game world or a container\n        onDeactivateEvent : function () {\n            // clear all allocated objects\n            //this.layerData = undefined;\n            this.animatedTilesets = undefined;\n        },\n\n        /**\n         * Se the TMX renderer for this layer object\n         * @name setRenderer\n         * @memberOf me.TMXLayer\n         * @public\n         * @function\n         * @param {me.TMXRenderer} renderer\n         */\n        setRenderer : function (renderer) {\n            this.renderer = renderer;\n        },\n\n        /**\n         * Return the layer current renderer object\n         * @name getRenderer\n         * @memberOf me.TMXLayer\n         * @public\n         * @function\n         * @return {me.TMXRenderer} renderer\n         */\n        getRenderer : function (renderer) {\n            return this.renderer;\n        },\n\n\n        /**\n         * Return the TileId of the Tile at the specified position\n         * @name getTileId\n         * @memberOf me.TMXLayer\n         * @public\n         * @function\n         * @param {Number} x X coordinate (in world/pixels coordinates)\n         * @param {Number} y Y coordinate (in world/pixels coordinates)\n         * @return {Number} TileId or null if there is no Tile at the given position\n         */\n        getTileId : function (x, y) {\n            var tile = this.getTile(x, y);\n            return (tile ? tile.tileId : null);\n        },\n\n        /**\n         * Return the Tile object at the specified position\n         * @name getTile\n         * @memberOf me.TMXLayer\n         * @public\n         * @function\n         * @param {Number} x X coordinate (in world/pixels coordinates)\n         * @param {Number} y Y coordinate (in world/pixels coordinates)\n         * @return {me.Tile} corresponding tile or null if outside of the map area\n         * @example\n         * // get the TMX Map Layer called \"Front layer\"\n         * var layer = me.game.world.getChildByName(\"Front Layer\")[0];\n         * // get the tile object corresponding to the latest pointer position\n         * var tile = layer.getTile(me.input.pointer.pos.x, me.input.pointer.pos.y);\n         */\n        getTile : function (x, y) {\n            if (this.containsPoint(x, y)) {\n                var renderer = this.renderer;\n                var tile = null;\n                var coord = renderer.pixelToTileCoords(x, y, me.pool.pull(\"me.Vector2d\"));\n                if ((coord.x >= 0 && coord.x < renderer.cols) && ( coord.y >= 0 && coord.y < renderer.rows)) {\n                    tile = this.layerData[~~coord.x][~~coord.y];\n                }\n                me.pool.push(coord);\n            }\n            return tile;\n        },\n\n        /**\n         * Create a new Tile at the specified position\n         * @name setTile\n         * @memberOf me.TMXLayer\n         * @public\n         * @function\n         * @param {Number} x X coordinate (in map coordinates: row/column)\n         * @param {Number} y Y coordinate (in map coordinates: row/column)\n         * @param {Number} tileId tileId\n         * @return {me.Tile} the corresponding newly created tile object\n         */\n        setTile : function (x, y, tileId) {\n            if (!this.tileset.contains(tileId)) {\n                // look for the corresponding tileset\n                this.tileset = this.tilesets.getTilesetByGid(tileId);\n            }\n            var tile = this.layerData[x][y] = new me.Tile(x, y, tileId, this.tileset);\n            // draw the corresponding tile\n            if (this.preRender) {\n                this.renderer.drawTile(this.canvasRenderer, x, y, tile);\n            }\n            return tile;\n        },\n\n        /**\n         * clear the tile at the specified position\n         * @name clearTile\n         * @memberOf me.TMXLayer\n         * @public\n         * @function\n         * @param {Number} x X coordinate (in map coordinates: row/column)\n         * @param {Number} y Y coordinate (in map coordinates: row/column)\n         * @example\n         * me.game.world.getChildByType(me.TMXLayer).forEach(function(layer) {\n         *     // clear all tiles at the given x,y coordinates\n         *     layer.clearTile(x, y);\n         * });\n         */\n        clearTile : function (x, y) {\n            // clearing tile\n            this.layerData[x][y] = null;\n            // erase the corresponding area in the canvas\n            if (this.preRender) {\n                this.canvasRenderer.clearRect(x * this.tilewidth, y * this.tileheight, this.tilewidth, this.tileheight);\n            }\n        },\n\n        /**\n         * update animations in a tileset layer\n         * @ignore\n         */\n        update : function (dt) {\n            if (this.isAnimated) {\n                var result = false;\n                for (var i = 0; i < this.animatedTilesets.length; i++) {\n                    result = this.animatedTilesets[i].update(dt) || result;\n                }\n                return result;\n            }\n\n            return false;\n        },\n\n        /**\n         * draw a tileset layer\n         * @ignore\n         */\n        draw : function (renderer, rect) {\n            // use the offscreen canvas\n            if (this.preRender) {\n                var width = Math.min(rect.width, this.width);\n                var height = Math.min(rect.height, this.height);\n\n                // draw using the cached canvas\n                renderer.drawImage(\n                    this.canvasRenderer.getCanvas(),\n                    rect.pos.x, rect.pos.y, // sx,sy\n                    width, height,          // sw,sh\n                    rect.pos.x, rect.pos.y, // dx,dy\n                    width, height           // dw,dh\n                );\n            }\n            // dynamically render the layer\n            else {\n                // draw the layer\n                this.renderer.drawTileLayer(renderer, this, rect);\n            }\n        }\n    });\n})();\n","(function () {\n\n    // constant to identify the collision object layer\n    var COLLISION_GROUP = \"collision\";\n\n    /**\n     * set a compatible renderer object\n     * for the specified map\n     * @ignore\n     */\n    function getNewDefaultRenderer(obj) {\n        switch (obj.orientation) {\n            case \"orthogonal\":\n                return new me.TMXOrthogonalRenderer(\n                    obj.cols,\n                    obj.rows,\n                    obj.tilewidth,\n                    obj.tileheight\n                );\n\n            case \"isometric\":\n                return new me.TMXIsometricRenderer(\n                    obj.cols,\n                    obj.rows,\n                    obj.tilewidth,\n                    obj.tileheight\n                );\n\n            case \"hexagonal\":\n                return new me.TMXHexagonalRenderer(\n                    obj.cols,\n                    obj.rows,\n                    obj.tilewidth,\n                    obj.tileheight,\n                    obj.hexsidelength,\n                    obj.staggeraxis,\n                    obj.staggerindex\n                );\n\n            // if none found, throw an exception\n            default:\n                throw new Error(obj.orientation + \" type TMX Tile Map not supported!\");\n        }\n    }\n\n    /**\n     * read the layer Data\n     * @ignore\n     */\n    function readLayer(map, data, z) {\n        var layer = new me.TMXLayer(data, map.tilewidth, map.tileheight, map.orientation, map.tilesets, z);\n        // set a renderer\n        layer.setRenderer(map.getRenderer(layer));\n        return layer;\n    }\n\n    /**\n     * read the Image Layer Data\n     * @ignore\n     */\n    function readImageLayer(map, data, z) {\n        // Normalize properties\n        me.TMXUtils.applyTMXProperties(data.properties, data);\n\n        // create the layer\n        var imageLayer = me.pool.pull(\"me.ImageLayer\",\n            +data.x || 0,\n            +data.y || 0,\n            Object.assign({\n                name: data.name,\n                image: data.image,\n                z: z\n            }, data.properties)\n        );\n\n        // set some additional flags\n        var visible = typeof(data.visible) !== \"undefined\" ? data.visible : true;\n        imageLayer.setOpacity(visible ? +data.opacity : 0);\n\n        return imageLayer;\n    }\n\n    /**\n     * read the tileset Data\n     * @ignore\n     */\n    function readTileset(data) {\n        return (new me.TMXTileset(data));\n    }\n\n    /**\n     * read the object group Data\n     * @ignore\n     */\n    function readObjectGroup(map, data, z) {\n        return (new me.TMXGroup(map, data, z));\n    }\n\n    /**\n     * a TMX Tile Map Object\n     * Tiled QT +0.7.x format\n     * @class\n     * @extends me.Object\n     * @memberOf me\n     * @constructor\n     * @param {String} levelId name of TMX map\n     * @param {Object} data TMX map in JSON format\n     * @example\n     * // create a new level object based on the TMX JSON object\n     * var level = new me.TMXTileMap(levelId, me.loader.getTMX(levelId));\n     * // add the level to the game world container\n     * level.addTo(me.game.world, true);\n     */\n    me.TMXTileMap = me.Object.extend({\n        // constructor\n        init: function (levelId, data) {\n\n            /**\n             * the level data (JSON)\n             * @ignore\n             */\n            this.data = data;\n\n            /**\n             * name of the tilemap\n             * @public\n             * @type {String}\n             * @name me.TMXTileMap#name\n             */\n            this.name = levelId;\n\n            /**\n             * width of the tilemap in tiles\n             * @public\n             * @type {Number}\n             * @name me.TMXTileMap#cols\n             */\n            this.cols = +data.width;\n            /**\n             * height of the tilemap in tiles\n             * @public\n             * @type {Number}\n             * @name me.TMXTileMap#rows\n             */\n            this.rows = +data.height;\n\n            /**\n             * Tile width\n             * @public\n             * @type {Number}\n             * @name me.TMXTileMap#tilewidth\n             */\n            this.tilewidth = +data.tilewidth;\n\n            /**\n             * Tile height\n             * @public\n             * @type {Number}\n             * @name me.TMXTileMap#tileheight\n             */\n            this.tileheight = +data.tileheight;\n\n            /**\n             * is the map an infinite map\n             * @public\n             * @type {Number}\n             * @default 0\n             * @name me.TMXTileMap#infinite\n             */\n            this.infinite = +data.infinite;\n\n            /**\n             * the map orientation type. melonJS supports âorthogonalâ, âisometricâ, âstaggeredâ and âhexagonalâ.\n             * @public\n             * @type {String}\n             * @default \"orthogonal\"\n             * @name me.TMXTileMap#orientation\n             */\n            this.orientation = data.orientation;\n\n            /**\n            * the order in which tiles on orthogonal tile layers are rendered.\n            * (valid values are \"left-down\", \"left-up\", \"right-down\", \"right-up\")\n             * @public\n             * @type {String}\n             * @default \"right-down\"\n             * @name me.TMXTileMap#renderorder\n             */\n            this.renderorder = data.renderorder || \"right-down\";\n\n            /**\n             * the TMX format version\n             * @public\n             * @type {String}\n             * @name me.TMXTileMap#version\n             */\n            this.version = data.version;\n\n            /**\n             * The Tiled version used to save the file (since Tiled 1.0.1).\n             * @public\n             * @type {String}\n             * @name me.TMXTileMap#tiledversion\n             */\n            this.tiledversion = data.tiledversion;\n\n            // tilesets for this map\n            this.tilesets = null;\n\n            // layers\n            if (typeof this.layers === \"undefined\") {\n                this.layers = [];\n            }\n            // group objects\n            if (typeof this.objectGroups === \"undefined\") {\n                this.objectGroups = [];\n            }\n\n            // Check if map is from melon editor\n            this.isEditor = data.editor === \"melon-editor\";\n\n            if (this.orientation === \"isometric\") {\n                this.width = (this.cols + this.rows) * (this.tilewidth / 2);\n                this.height = (this.cols + this.rows) * (this.tileheight / 2);\n            } else {\n                this.width = this.cols * this.tilewidth;\n                this.height = this.rows * this.tileheight;\n            }\n\n            // object id\n            this.nextobjectid = +data.nextobjectid || undefined;\n\n            // hex/iso properties\n            this.hexsidelength = +data.hexsidelength || undefined;\n            this.staggeraxis = data.staggeraxis;\n            this.staggerindex = data.staggerindex;\n\n            // background color\n            this.backgroundcolor = data.backgroundcolor;\n\n            // set additional map properties (if any)\n            me.TMXUtils.applyTMXProperties(this, data);\n\n            // internal flag\n            this.initialized = false;\n\n            if (this.infinite === 1) {\n                // #956 Support for Infinite map\n                // see as well in me.TMXUtils\n                throw new Error(\"Tiled Infinite Map not supported!\");\n            }\n        },\n\n        /**\n         * Return the map default renderer\n         * @name getRenderer\n         * @memberOf me.TMXTileMap\n         * @public\n         * @function\n         * @param {me.TMXLayer} [layer] a layer object\n         * @return {me.TMXRenderer} a TMX renderer\n         */\n        getRenderer : function (layer) {\n            // first ensure a renderer is associated to this map\n            if ((typeof(this.renderer) === \"undefined\") || (!this.renderer.canRender(this))) {\n                this.renderer = getNewDefaultRenderer(this);\n            }\n\n            // return a renderer for the given layer (if any)\n            if ((typeof(layer) !== \"undefined\") && (!this.renderer.canRender(layer))) {\n                return getNewDefaultRenderer(layer);\n            }\n\n            // else return this renderer\n            return this.renderer;\n        },\n\n        /**\n         * parse the map\n         * @ignore\n         */\n        readMapObjects: function (data) {\n\n            if (this.initialized === true) {\n                return;\n            }\n\n            // to automatically increment z index\n            var zOrder = 0;\n            var self = this;\n\n            // Tileset information\n            if (!this.tilesets) {\n                // make sure we have a TilesetGroup Object\n                this.tilesets = new me.TMXTilesetGroup();\n            }\n\n            // parse all tileset objects\n            if (typeof (data.tilesets) !== \"undefined\") {\n                var tilesets = data.tilesets;\n                tilesets.forEach(function (tileset) {\n                    // add the new tileset\n                    self.tilesets.add(readTileset(tileset));\n                });\n            }\n\n            // check if a user-defined background color is defined\n            if (this.backgroundcolor) {\n                this.layers.push(\n                    me.pool.pull(\"me.ColorLayer\",\n                        \"background_color\",\n                        this.backgroundcolor,\n                        zOrder++\n                    )\n                );\n            }\n\n            // check if a background image is defined\n            if (this.background_image) {\n                // add a new image layer\n                this.layers.push(\n                    me.pool.pull(\"me.ImageLayer\",\n                        0, 0, {\n                            name : \"background_image\",\n                            image : this.background_image,\n                            z : zOrder++\n                        }\n                ));\n            }\n\n            data.layers.forEach(function (layer) {\n                switch (layer.type) {\n                    case \"imagelayer\":\n                        self.layers.push(readImageLayer(self, layer, zOrder++));\n                        break;\n\n                    case \"tilelayer\":\n                        self.layers.push(readLayer(self, layer, zOrder++));\n                        break;\n\n                    // get the object groups information\n                    case \"objectgroup\":\n                        self.objectGroups.push(readObjectGroup(self, layer, zOrder++));\n                        break;\n\n                    // get the object groups information\n                    case \"group\":\n                        self.objectGroups.push(readObjectGroup(self, layer, zOrder++));\n                        break;\n\n                    default:\n                        break;\n                }\n            });\n\n            this.initialized = true;\n        },\n\n\n        /**\n         * add all the map layers and objects to the given container\n         * @name me.TMXTileMap#addTo\n         * @public\n         * @function\n         * @param {me.Container} target container\n         * @param {boolean} flatten if true, flatten all objects into the given container\n         * @example\n         * // create a new level object based on the TMX JSON object\n         * var level = new me.TMXTileMap(levelId, me.loader.getTMX(levelId));\n         * // add the level to the game world container\n         * level.addTo(me.game.world, true);\n         */\n        addTo : function (container, flatten) {\n            var _sort = container.autoSort;\n            var _depth = container.autoDepth;\n\n            // disable auto-sort and auto-depth\n            container.autoSort = false;\n            container.autoDepth = false;\n\n            // add all layers instances\n            this.getLayers().forEach(function (layer) {\n                container.addChild(layer);\n            });\n\n            // add all Object instances\n            this.getObjects(flatten).forEach(function (object) {\n                container.addChild(object);\n            });\n\n            //  set back auto-sort and auto-depth\n            container.autoSort = _sort;\n            container.autoDepth = _depth;\n\n            // force a sort\n            container.sort(true);\n        },\n\n        /**\n         * return an Array of instantiated objects, based on the map object definition\n         * @name me.TMXTileMap#getObjects\n         * @public\n         * @function\n         * @param {boolean} flatten if true, flatten all objects into the returned array, <br>\n         * ignoring all defined groups (no sub containers will be created)\n         * @return {me.Renderable[]} Array of Objects\n         */\n        getObjects : function (flatten) {\n            var objects = [];\n            var isCollisionGroup = false;\n            var targetContainer;\n\n            // parse the map for objects\n            this.readMapObjects(this.data);\n\n            for (var g = 0; g < this.objectGroups.length; g++) {\n                var group = this.objectGroups[g];\n\n                // check if this is the collision shape group\n                isCollisionGroup = group.name.toLowerCase().includes(COLLISION_GROUP);\n\n                if (flatten === false) {\n                    // create a new container\n                    targetContainer = new me.Container(0, 0, this.width, this.height);\n\n                    // tiled uses 0,0 by default\n                    targetContainer.anchorPoint.set(0, 0);\n\n                    // set additional properties\n                    targetContainer.name = group.name;\n                    targetContainer.pos.z = group.z;\n                    targetContainer.setOpacity(group.opacity);\n\n                    // disable auto-sort and auto-depth\n                    targetContainer.autoSort = false;\n                    targetContainer.autoDepth = false;\n                }\n\n                // iterate through the group and add all object into their\n                // corresponding target Container\n                for (var o = 0; o < group.objects.length; o++) {\n                    // TMX object settings\n                    var settings = group.objects[o];\n                    // reference to the instantiated object\n                    var obj;\n\n                    // Tiled uses 0,0 by default\n                    if (typeof (settings.anchorPoint) === \"undefined\") {\n                        settings.anchorPoint = {x : 0, y : 0};\n                    }\n\n                    // groups can contains either text, objects or layers\n                    if (settings instanceof me.TMXLayer) {\n                        // layers are already instantiated & initialized\n                        obj = settings;\n                        // z value set already\n                    } else if (typeof settings.text === \"object\") {\n                        // Tiled uses 0,0 by default\n                        if (typeof (settings.text.anchorPoint) === \"undefined\") {\n                            settings.text.anchorPoint = settings.anchorPoint;\n                        }\n                        if (settings.text.bitmap === true) {\n                            obj = me.pool.pull(\"me.BitmapText\", settings.x, settings.y, settings.text);\n                        } else {\n                            obj = me.pool.pull(\"me.Text\", settings.x, settings.y, settings.text);\n                        }\n                        // set the obj z order\n                        obj.pos.z = settings.z;\n                    } else {\n                        // pull the corresponding entity from the object pool\n                        obj = me.pool.pull(\n                            settings.name || \"me.Entity\",\n                            settings.x, settings.y,\n                            settings\n                        );\n                        // set the obj z order\n                        obj.pos.z = settings.z;\n                    }\n\n                    // check if a me.Tile object is embedded\n                    if (typeof (settings.tile) === \"object\" && !obj.renderable) {\n                        obj.renderable = settings.tile.getRenderable(settings);\n                        // adjust position if necessary\n                        switch (settings.rotation) {\n                            case Math.PI:\n                                obj.translate(-obj.renderable.width, obj.renderable.height);\n                                break;\n                            case Math.PI / 2 :\n                                obj.translate(0, obj.renderable.height);\n                                break;\n                            case -(Math.PI / 2) :\n                                obj.translate(-obj.renderable.width, 0);\n                                break;\n                            default :\n                                // this should not happen\n                                break;\n                        }\n                        // tile object use use left-bottom coordinates\n                        //obj.anchorPoint.set(0, 1);\n                    }\n\n                    if (isCollisionGroup && !settings.name) {\n                        // configure the body accordingly\n                        obj.body.collisionType = me.collision.types.WORLD_SHAPE;\n                    }\n\n                    //apply group opacity value to the child objects if group are merged\n                    if (flatten === true) {\n                        if (obj.isRenderable === true) {\n                            obj.setOpacity(obj.getOpacity() * group.opacity);\n                            // and to child renderables if any\n                            if (obj.renderable instanceof me.Renderable) {\n                                obj.renderable.setOpacity(obj.renderable.getOpacity() * group.opacity);\n                            }\n                        }\n                        // directly add the obj into the objects array\n                        objects.push(obj);\n                    } else /* false*/ {\n                        // add it to the new container\n                        targetContainer.addChild(obj);\n                    }\n\n                }\n\n                // if we created a new container\n                if ((flatten === false) && (targetContainer.children.length > 0)) {\n\n                    // re-enable auto-sort and auto-depth\n                    targetContainer.autoSort = true;\n                    targetContainer.autoDepth = true;\n\n                    // add our container to the world\n                    objects.push(targetContainer);\n                }\n            }\n            return objects;\n        },\n\n        /**\n         * return all the existing layers\n         * @name me.TMXTileMap#getLayers\n         * @public\n         * @function\n         * @return {me.TMXLayer[]} Array of Layers\n         */\n        getLayers : function () {\n            // parse the map for objects\n            this.readMapObjects(this.data);\n            return this.layers;\n        },\n\n        /**\n         * destroy function, clean all allocated objects\n         * @name me.TMXTileMap#destroy\n         * @public\n         * @function\n         */\n        destroy : function () {\n            this.tilesets = undefined;\n            this.layers.length = 0;\n            this.objectGroups.length = 0;\n            this.initialized = false;\n        }\n    });\n})();\n","(function () {\n    /**\n     * a level manager object <br>\n     * once ressources loaded, the level director contains all references of defined levels<br>\n     * There is no constructor function for me.levelDirector, this is a static object\n     * @namespace me.levelDirector\n     * @memberOf me\n     */\n    me.levelDirector = (function () {\n        // hold public stuff in our singletong\n        var api = {};\n\n        /*\n         * PRIVATE STUFF\n         */\n\n        // our levels\n        var levels = {};\n        // level index table\n        var levelIdx = [];\n        // current level index\n        var currentLevelIdx = 0;\n        // onresize handler\n        var onresize_handler = null;\n\n        function safeLoadLevel(levelId, options, restart) {\n            // clean the destination container\n            options.container.reset();\n\n            // reset the renderer\n            me.game.reset();\n\n            // clean the current (previous) level\n            if (levels[api.getCurrentLevelId()]) {\n                levels[api.getCurrentLevelId()].destroy();\n            }\n\n            // update current level index\n            currentLevelIdx = levelIdx.indexOf(levelId);\n\n            // add the specified level to the game world\n            loadTMXLevel(levelId, options.container, options.flatten, options.setViewportBounds);\n\n            // publish the corresponding message\n            me.event.publish(me.event.LEVEL_LOADED, [ levelId ]);\n\n            // fire the callback\n            options.onLoaded(levelId);\n\n            if (restart) {\n                // resume the game loop if it was previously running\n                me.state.restart();\n            }\n        }\n\n        /**\n         * Load a TMX level\n         * @name loadTMXLevel\n         * @memberOf me.game\n         * @private\n         * @param {String} level level id\n         * @param {me.Container} target container\n         * @param {boolean} flatten if true, flatten all objects into the given container\n         * @param {boolean} setViewportBounds if true, set the viewport bounds to the map size\n         * @ignore\n         * @function\n         */\n        function loadTMXLevel(levelId, container, flatten, setViewportBounds) {\n            var level = levels[levelId];\n\n            // disable auto-sort for the given container\n            var autoSort = container.autoSort;\n            container.autoSort = false;\n\n            if (setViewportBounds) {\n                // update the viewport bounds\n                me.game.viewport.setBounds(\n                    0, 0,\n                    Math.max(level.width, me.game.viewport.width),\n                    Math.max(level.height, me.game.viewport.height)\n                );\n            }\n\n            // reset the GUID generator\n            // and pass the level id as parameter\n            me.utils.resetGUID(levelId, level.nextobjectid);\n\n            // Tiled use 0,0 anchor coordinates\n            container.anchorPoint.set(0, 0);\n\n            // add all level elements to the target container\n            level.addTo(container, flatten);\n\n            // sort everything (recursively)\n            container.sort(true);\n            container.autoSort = autoSort;\n\n            container.resize(level.width, level.height);\n\n            function resize_container() {\n                // center the map if smaller than the current viewport\n                container.pos.set(\n                    Math.max(0, ~~((me.game.viewport.width - level.width) / 2)),\n                    Math.max(0, ~~((me.game.viewport.height - level.height) / 2)),\n                    0\n                );\n            }\n\n            if (setViewportBounds) {\n                resize_container();\n\n                // Replace the resize handler\n                if (onresize_handler) {\n                    me.event.unsubscribe(onresize_handler);\n                }\n                onresize_handler = me.event.subscribe(me.event.VIEWPORT_ONRESIZE, resize_container);\n            }\n        }\n\n        /*\n         * PUBLIC STUFF\n         */\n\n        /**\n         * reset the level director\n         * @ignore\n         */\n        api.reset = function () {};\n\n        /**\n         * add a level\n         * @ignore\n         */\n        api.addLevel = function () {\n            throw new Error(\"no level loader defined\");\n        };\n\n        /**\n         * add a TMX level\n         * @ignore\n         */\n        api.addTMXLevel = function (levelId, callback) {\n            // just load the level with the XML stuff\n            if (levels[levelId] == null) {\n                //console.log(\"loading \"+ levelId);\n                levels[levelId] = new me.TMXTileMap(levelId, me.loader.getTMX(levelId));\n                // level index\n                levelIdx.push(levelId);\n            }\n            else  {\n                //console.log(\"level %s already loaded\", levelId);\n                return false;\n            }\n\n            // call the callback if defined\n            if (callback) {\n                callback();\n            }\n            // true if level loaded\n            return true;\n        };\n\n        /**\n         * load a level into the game manager<br>\n         * (will also create all level defined entities, etc..)\n         * @name loadLevel\n         * @memberOf me.levelDirector\n         * @public\n         * @function\n         * @param {String} level level id\n         * @param {Object} [options] additional optional parameters\n         * @param {me.Container} [options.container=me.game.world] container in which to load the specified level\n         * @param {function} [options.onLoaded=me.game.onLevelLoaded] callback for when the level is fully loaded\n         * @param {boolean} [options.flatten=me.game.mergeGroup] if true, flatten all objects into the given container\n         * @param {boolean} [options.setViewportBounds=true] if true, set the viewport bounds to the map size\n         * @example\n         * // the game assets to be be preloaded\n         * // TMX maps\n         * var resources = [\n         *     {name: \"a4_level1\",   type: \"tmx\",   src: \"data/level/a4_level1.tmx\"},\n         *     {name: \"a4_level2\",   type: \"tmx\",   src: \"data/level/a4_level2.tmx\"},\n         *     {name: \"a4_level3\",   type: \"tmx\",   src: \"data/level/a4_level3.tmx\"},\n         *     // ...\n         * ];\n         *\n         * // ...\n         *\n         * // load a level into the game world\n         * me.levelDirector.loadLevel(\"a4_level1\");\n         * ...\n         * ...\n         * // load a level into a specific container\n         * var levelContainer = new me.Container();\n         * me.levelDirector.loadLevel(\"a4_level2\", {container:levelContainer});\n         * // add a simple transformation\n         * levelContainer.currentTransform.translate(levelContainer.width / 2, levelContainer.height / 2 );\n         * levelContainer.currentTransform.rotate(0.05);\n         * levelContainer.currentTransform.translate(-levelContainer.width / 2, -levelContainer.height / 2 );\n         * // add it to the game world\n         * me.game.world.addChild(levelContainer);\n         */\n        api.loadLevel = function (levelId, options) {\n            options = Object.assign({\n                \"container\"         : me.game.world,\n                \"onLoaded\"          : me.game.onLevelLoaded,\n                \"flatten\"           : me.game.mergeGroup,\n                \"setViewportBounds\" : true\n            }, options || {});\n\n            // throw an exception if not existing\n            if (typeof(levels[levelId]) === \"undefined\") {\n                throw new Error(\"level \" + levelId + \" not found\");\n            }\n\n            if (levels[levelId] instanceof me.TMXTileMap) {\n\n                // check the status of the state mngr\n                var wasRunning = me.state.isRunning();\n\n                if (wasRunning) {\n                    // stop the game loop to avoid\n                    // some silly side effects\n                    me.state.stop();\n\n                    me.utils.function.defer(safeLoadLevel, this, levelId, options, true);\n                }\n                else {\n                    safeLoadLevel(levelId, options);\n                }\n            }\n            else {\n                throw new Error(\"no level loader defined\");\n            }\n            return true;\n        };\n\n        /**\n         * return the current level id<br>\n         * @name getCurrentLevelId\n         * @memberOf me.levelDirector\n         * @public\n         * @function\n         * @return {String}\n         */\n        api.getCurrentLevelId = function () {\n            return levelIdx[currentLevelIdx];\n        };\n\n        /**\n         * return the current level definition.\n         * for a reference to the live instantiated level,\n         * rather use the container in which it was loaded (e.g. me.game.world)\n         * @name getCurrentLevel\n         * @memberOf me.levelDirector\n         * @public\n         * @function\n         * @return {me.TMXTileMap}\n         */\n        api.getCurrentLevel = function () {\n            return levels[api.getCurrentLevelId()];\n        };\n\n        /**\n         * reload the current level<br>\n         * @name reloadLevel\n         * @memberOf me.levelDirector\n         * @public\n         * @function\n         * @param {Object} [options] additional optional parameters\n         * @param {me.Container} [options.container=me.game.world] container in which to load the specified level\n         * @param {function} [options.onLoaded=me.game.onLevelLoaded] callback for when the level is fully loaded\n         * @param {boolean} [options.flatten=me.game.mergeGroup] if true, flatten all objects into the given container\n         */\n        api.reloadLevel = function (options) {\n            // reset the level to initial state\n            //levels[currentLevel].reset();\n            return api.loadLevel(api.getCurrentLevelId(), options);\n        };\n\n        /**\n         * load the next level<br>\n         * @name nextLevel\n         * @memberOf me.levelDirector\n         * @public\n         * @function\n         * @param {Object} [options] additional optional parameters\n         * @param {me.Container} [options.container=me.game.world] container in which to load the specified level\n         * @param {function} [options.onLoaded=me.game.onLevelLoaded] callback for when the level is fully loaded\n         * @param {boolean} [options.flatten=me.game.mergeGroup] if true, flatten all objects into the given container\n         */\n        api.nextLevel = function (options) {\n            //go to the next level\n            if (currentLevelIdx + 1 < levelIdx.length) {\n                return api.loadLevel(levelIdx[currentLevelIdx + 1], options);\n            }\n            else {\n                return false;\n            }\n        };\n\n        /**\n         * load the previous level<br>\n         * @name previousLevel\n         * @memberOf me.levelDirector\n         * @public\n         * @function\n         * @param {Object} [options] additional optional parameters\n         * @param {me.Container} [options.container=me.game.world] container in which to load the specified level\n         * @param {function} [options.onLoaded=me.game.onLevelLoaded] callback for when the level is fully loaded\n         * @param {boolean} [options.flatten=me.game.mergeGroup] if true, flatten all objects into the given container\n         */\n        api.previousLevel = function (options) {\n            // go to previous level\n            if (currentLevelIdx - 1 >= 0) {\n                return api.loadLevel(levelIdx[currentLevelIdx - 1], options);\n            }\n            else {\n                return false;\n            }\n        };\n\n        /**\n         * return the amount of level preloaded<br>\n         * @name levelCount\n         * @memberOf me.levelDirector\n         * @public\n         * @function\n         */\n        api.levelCount = function () {\n            return levelIdx.length;\n        };\n\n        // return our object\n        return api;\n    })();\n})();\n","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n */\n\n/* eslint-disable quotes, keyword-spacing, comma-spacing, no-return-assign */\n\n(function() {\n\n    /**\n     * Javascript Tweening Engine<p>\n     * Super simple, fast and easy to use tweening engine which incorporates optimised Robert Penner's equation<p>\n     * <a href=\"https://github.com/sole/Tween.js\">https://github.com/sole/Tween.js</a><p>\n     * author sole / http://soledadpenades.com<br>\n     * author mr.doob / http://mrdoob.com<br>\n     * author Robert Eisele / http://www.xarg.org<br>\n     * author Philippe / http://philippe.elsass.me<br>\n     * author Robert Penner / http://www.robertpenner.com/easing_terms_of_use.html<br>\n     * author Paul Lewis / http://www.aerotwist.com/<br>\n     * author lechecacharro<br>\n     * author Josh Faul / http://jocafa.com/\n     * @class\n     * @memberOf me\n     * @constructor\n     * @param {Object} object object on which to apply the tween\n     * @example\n     * // add a tween to change the object pos.y variable to 200 in 3 seconds\n     * tween = new me.Tween(myObject.pos).to({y: 200}, 3000).onComplete(myFunc);\n     * tween.easing(me.Tween.Easing.Bounce.Out);\n     * tween.start();\n     */\n    me.Tween = function ( object ) {\n\n        var _object = null;\n        var _valuesStart = null;\n        var _valuesEnd = null;\n        var _valuesStartRepeat = null;\n        var _duration = null;\n        var _repeat = null;\n        var _yoyo = null;\n        var _reversed = null;\n        var _delayTime = null;\n        var _startTime = null;\n        var _easingFunction = null;\n        var _interpolationFunction = null;\n        var _chainedTweens = null;\n        var _onStartCallback = null;\n        var _onStartCallbackFired = null;\n        var _onUpdateCallback = null;\n        var _onCompleteCallback = null;\n        var _tweenTimeTracker = null;\n\n        // comply with the container contract\n        this.isRenderable = false;\n\n        /**\n         * @ignore\n         */\n        this._resumeCallback = function (elapsed) {\n            if (_startTime) {\n                _startTime += elapsed;\n            }\n        };\n\n        /**\n         * @ignore\n         */\n        this.setProperties = function (object) {\n            _object = object;\n            _valuesStart = {};\n            _valuesEnd = {};\n            _valuesStartRepeat = {};\n            _duration = 1000;\n            _repeat = 0;\n            _yoyo = false;\n            _reversed = false;\n            _delayTime = 0;\n            _startTime = null;\n            _easingFunction = me.Tween.Easing.Linear.None;\n            _interpolationFunction = me.Tween.Interpolation.Linear;\n            _chainedTweens = [];\n            _onStartCallback = null;\n            _onStartCallbackFired = false;\n            _onUpdateCallback = null;\n            _onCompleteCallback = null;\n            _tweenTimeTracker = me.timer.lastUpdate;\n\n            // reset flags to default value\n            this.isPersistent = false;\n            // this is not really supported\n            this.updateWhenPaused = false;\n\n\n\n            // Set all starting values present on the target object\n            for ( var field in object ) {\n                if(typeof object !== 'object') {\n                    _valuesStart[ field ] = parseFloat(object[field]);\n                }\n            }\n        };\n\n        this.setProperties(object);\n\n        /**\n         * reset the tween object to default value\n         * @ignore\n         */\n        this.onResetEvent = function ( object ) {\n            this.setProperties(object);\n        };\n\n        /**\n         * subscribe to the resume event when added\n         * @ignore\n         */\n        this.onActivateEvent = function () {\n            me.event.subscribe(me.event.STATE_RESUME, this._resumeCallback);\n        };\n\n        /**\n         * Unsubscribe when tween is removed\n         * @ignore\n         */\n        this.onDeactivateEvent = function () {\n            me.event.unsubscribe(me.event.STATE_RESUME, this._resumeCallback);\n        };\n\n        /**\n         * object properties to be updated and duration\n         * @name me.Tween#to\n         * @public\n         * @function\n         * @param {Object} properties hash of properties\n         * @param {Number} [duration=1000] tween duration\n         */\n        this.to = function ( properties, duration ) {\n\n            if ( duration !== undefined ) {\n\n                _duration = duration;\n\n            }\n\n            _valuesEnd = properties;\n\n            return this;\n\n        };\n\n        /**\n         * start the tween\n         * @name me.Tween#start\n         * @public\n         * @function\n         */\n        this.start = function ( _time ) {\n\n            _onStartCallbackFired = false;\n\n            // add the tween to the object pool on start\n            me.game.world.addChild(this);\n\n            _startTime = (typeof(_time) === 'undefined' ? me.timer.getTime() : _time) + _delayTime;\n\n            for ( var property in _valuesEnd ) {\n\n                // check if an Array was provided as property value\n                if ( _valuesEnd[ property ] instanceof Array ) {\n\n                    if ( _valuesEnd[ property ].length === 0 ) {\n\n                        continue;\n\n                    }\n\n                    // create a local copy of the Array with the start value at the front\n                    _valuesEnd[ property ] = [ _object[ property ] ].concat( _valuesEnd[ property ] );\n\n                }\n\n                _valuesStart[ property ] = _object[ property ];\n\n                if( ( _valuesStart[ property ] instanceof Array ) === false ) {\n                    _valuesStart[ property ] *= 1.0; // Ensures we're using numbers, not strings\n                }\n\n                _valuesStartRepeat[ property ] = _valuesStart[ property ] || 0;\n\n            }\n\n            return this;\n\n        };\n\n        /**\n         * stop the tween\n         * @name me.Tween#stop\n         * @public\n         * @function\n         */\n        this.stop = function () {\n            // remove the tween from the world container\n            me.game.world.removeChildNow(this);\n            return this;\n        };\n\n        /**\n         * delay the tween\n         * @name me.Tween#delay\n         * @public\n         * @function\n         * @param {Number} amount delay amount expressed in milliseconds\n         */\n        this.delay = function ( amount ) {\n\n            _delayTime = amount;\n            return this;\n\n        };\n\n        /**\n         * Repeat the tween\n         * @name me.Tween#repeat\n         * @public\n         * @function\n         * @param {Number} times amount of times the tween should be repeated\n         */\n        this.repeat = function ( times ) {\n\n            _repeat = times;\n            return this;\n\n        };\n\n        /**\n         * Allows the tween to bounce back to their original value when finished.\n         * To be used together with repeat to create endless loops.\n         * @name me.Tween#yoyo\n         * @public\n         * @function\n         * @see me.Tween#repeat\n         * @param {Boolean} yoyo\n         */\n        this.yoyo = function( yoyo ) {\n\n            _yoyo = yoyo;\n            return this;\n\n        };\n\n        /**\n         * set the easing function\n         * @name me.Tween#easing\n         * @public\n         * @function\n         * @param {me.Tween.Easing} fn easing function\n         */\n        this.easing = function ( easing ) {\n            if (typeof easing !== 'function') {\n                throw new Error(\"invalid easing function for me.Tween.easing()\");\n            }\n            _easingFunction = easing;\n            return this;\n\n        };\n\n        /**\n         * set the interpolation function\n         * @name me.Tween#interpolation\n         * @public\n         * @function\n         * @param {me.Tween.Interpolation} fn interpolation function\n         */\n        this.interpolation = function ( interpolation ) {\n\n            _interpolationFunction = interpolation;\n            return this;\n\n        };\n\n        /**\n         * chain the tween\n         * @name me.Tween#chain\n         * @public\n         * @function\n         * @param {me.Tween} chainedTween Tween to be chained\n         */\n        this.chain = function () {\n\n            _chainedTweens = arguments;\n            return this;\n\n        };\n\n        /**\n         * onStart callback\n         * @name me.Tween#onStart\n         * @public\n         * @function\n         * @param {Function} onStartCallback callback\n         */\n        this.onStart = function ( callback ) {\n\n            _onStartCallback = callback;\n            return this;\n\n        };\n\n        /**\n         * onUpdate callback\n         * @name me.Tween#onUpdate\n         * @public\n         * @function\n         * @param {Function} onUpdateCallback callback\n         */\n        this.onUpdate = function ( callback ) {\n\n            _onUpdateCallback = callback;\n            return this;\n\n        };\n\n        /**\n         * onComplete callback\n         * @name me.Tween#onComplete\n         * @public\n         * @function\n         * @param {Function} onCompleteCallback callback\n         */\n        this.onComplete = function ( callback ) {\n\n            _onCompleteCallback = callback;\n            return this;\n\n        };\n\n        /** @ignore */\n        this.update = function ( dt ) {\n\n            // the original Tween implementation expect\n            // a timestamp and not a time delta\n            _tweenTimeTracker = (me.timer.lastUpdate > _tweenTimeTracker) ? me.timer.lastUpdate : _tweenTimeTracker + dt;\n            var time = _tweenTimeTracker;\n\n            var property;\n\n            if ( time < _startTime ) {\n\n                return true;\n\n            }\n\n            if ( _onStartCallbackFired === false ) {\n\n                if ( _onStartCallback !== null ) {\n\n                    _onStartCallback.call( _object );\n\n                }\n\n                _onStartCallbackFired = true;\n\n            }\n\n            var elapsed = ( time - _startTime ) / _duration;\n            elapsed = elapsed > 1 ? 1 : elapsed;\n\n            var value = _easingFunction( elapsed );\n\n            for ( property in _valuesEnd ) {\n\n                var start = _valuesStart[ property ] || 0;\n                var end = _valuesEnd[ property ];\n\n                if ( end instanceof Array ) {\n\n                    _object[ property ] = _interpolationFunction( end, value );\n\n                } else {\n\n                    // Parses relative end values with start as base (e.g.: +10, -3)\n                    if ( typeof(end) === \"string\" ) {\n                        end = start + parseFloat(end);\n                    }\n\n                    // protect against non numeric properties.\n                    if ( typeof(end) === \"number\" ) {\n                        _object[ property ] = start + ( end - start ) * value;\n                    }\n\n                }\n\n            }\n\n            if ( _onUpdateCallback !== null ) {\n\n                _onUpdateCallback.call( _object, value );\n\n            }\n\n            if ( elapsed === 1 ) {\n\n                if ( _repeat > 0 ) {\n\n                    if( isFinite( _repeat ) ) {\n                        _repeat--;\n                    }\n\n                    // reassign starting values, restart by making startTime = now\n                    for( property in _valuesStartRepeat ) {\n\n                        if ( typeof( _valuesEnd[ property ] ) === \"string\" ) {\n                            _valuesStartRepeat[ property ] = _valuesStartRepeat[ property ] + parseFloat(_valuesEnd[ property ]);\n                        }\n\n                        if (_yoyo) {\n                            var tmp = _valuesStartRepeat[ property ];\n                            _valuesStartRepeat[ property ] = _valuesEnd[ property ];\n                            _valuesEnd[ property ] = tmp;\n                        }\n                        _valuesStart[ property ] = _valuesStartRepeat[ property ];\n\n                    }\n\n                    if (_yoyo) {\n                        _reversed = !_reversed;\n                    }\n\n                    _startTime = time + _delayTime;\n\n                    return true;\n\n                } else {\n                    // remove the tween from the world container\n                    me.game.world.removeChildNow(this);\n\n                    if ( _onCompleteCallback !== null ) {\n\n                        _onCompleteCallback.call( _object );\n\n                    }\n\n                    for ( var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i ++ ) {\n\n                        _chainedTweens[ i ].start( time );\n\n                    }\n\n                    return false;\n\n                }\n\n            }\n\n            return true;\n\n        };\n\n    };\n\n    /**\n     * Easing Function :<br>\n     * <p>\n     * me.Tween.Easing.Linear.None<br>\n     * me.Tween.Easing.Quadratic.In<br>\n     * me.Tween.Easing.Quadratic.Out<br>\n     * me.Tween.Easing.Quadratic.InOut<br>\n     * me.Tween.Easing.Cubic.In<br>\n     * me.Tween.Easing.Cubic.Out<br>\n     * me.Tween.Easing.Cubic.InOut<br>\n     * me.Tween.Easing.Quartic.In<br>\n     * me.Tween.Easing.Quartic.Out<br>\n     * me.Tween.Easing.Quartic.InOut<br>\n     * me.Tween.Easing.Quintic.In<br>\n     * me.Tween.Easing.Quintic.Out<br>\n     * me.Tween.Easing.Quintic.InOut<br>\n     * me.Tween.Easing.Sinusoidal.In<br>\n     * me.Tween.Easing.Sinusoidal.Out<br>\n     * me.Tween.Easing.Sinusoidal.InOut<br>\n     * me.Tween.Easing.Exponential.In<br>\n     * me.Tween.Easing.Exponential.Out<br>\n     * me.Tween.Easing.Exponential.InOut<br>\n     * me.Tween.Easing.Circular.In<br>\n     * me.Tween.Easing.Circular.Out<br>\n     * me.Tween.Easing.Circular.InOut<br>\n     * me.Tween.Easing.Elastic.In<br>\n     * me.Tween.Easing.Elastic.Out<br>\n     * me.Tween.Easing.Elastic.InOut<br>\n     * me.Tween.Easing.Back.In<br>\n     * me.Tween.Easing.Back.Out<br>\n     * me.Tween.Easing.Back.InOut<br>\n     * me.Tween.Easing.Bounce.In<br>\n     * me.Tween.Easing.Bounce.Out<br>\n     * me.Tween.Easing.Bounce.InOut\n     * </p>\n     * @public\n     * @constant\n     * @type enum\n     * @name Easing\n     * @memberOf me.Tween\n     */\n    me.Tween.Easing = {\n\n        Linear: {\n            /** @ignore */\n            None: function ( k ) {\n\n                return k;\n\n            }\n\n        },\n\n        Quadratic: {\n            /** @ignore */\n            In: function ( k ) {\n\n                return k * k;\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                return k * ( 2 - k );\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                if ( ( k *= 2 ) < 1 ) return 0.5 * k * k;\n                return - 0.5 * ( --k * ( k - 2 ) - 1 );\n\n            }\n\n        },\n\n        Cubic: {\n            /** @ignore */\n            In: function ( k ) {\n\n                return k * k * k;\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                return --k * k * k + 1;\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                if ( ( k *= 2 ) < 1 ) return 0.5 * k * k * k;\n                return 0.5 * ( ( k -= 2 ) * k * k + 2 );\n\n            }\n\n        },\n\n        Quartic: {\n            /** @ignore */\n            In: function ( k ) {\n\n                return k * k * k * k;\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                return 1 - ( --k * k * k * k );\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                if ( ( k *= 2 ) < 1) return 0.5 * k * k * k * k;\n                return - 0.5 * ( ( k -= 2 ) * k * k * k - 2 );\n\n            }\n\n        },\n\n        Quintic: {\n            /** @ignore */\n            In: function ( k ) {\n\n                return k * k * k * k * k;\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                return --k * k * k * k * k + 1;\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                if ( ( k *= 2 ) < 1 ) return 0.5 * k * k * k * k * k;\n                return 0.5 * ( ( k -= 2 ) * k * k * k * k + 2 );\n\n            }\n\n        },\n\n        Sinusoidal: {\n            /** @ignore */\n            In: function ( k ) {\n\n                return 1 - Math.cos( k * Math.PI / 2 );\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                return Math.sin( k * Math.PI / 2 );\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                return 0.5 * ( 1 - Math.cos( Math.PI * k ) );\n\n            }\n\n        },\n\n        Exponential: {\n            /** @ignore */\n            In: function ( k ) {\n\n                return k === 0 ? 0 : Math.pow( 1024, k - 1 );\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                return k === 1 ? 1 : 1 - Math.pow( 2, - 10 * k );\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                if ( k === 0 ) return 0;\n                if ( k === 1 ) return 1;\n                if ( ( k *= 2 ) < 1 ) return 0.5 * Math.pow( 1024, k - 1 );\n                return 0.5 * ( - Math.pow( 2, - 10 * ( k - 1 ) ) + 2 );\n\n            }\n\n        },\n\n        Circular: {\n            /** @ignore */\n            In: function ( k ) {\n\n                return 1 - Math.sqrt( 1 - k * k );\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                return Math.sqrt( 1 - ( --k * k ) );\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                if ( ( k *= 2 ) < 1) return - 0.5 * ( Math.sqrt( 1 - k * k) - 1);\n                return 0.5 * ( Math.sqrt( 1 - ( k -= 2) * k) + 1);\n\n            }\n\n        },\n\n        Elastic: {\n            /** @ignore */\n            In: function ( k ) {\n\n                var s, a = 0.1, p = 0.4;\n                if ( k === 0 ) return 0;\n                if ( k === 1 ) return 1;\n                if ( !a || a < 1 ) { a = 1; s = p / 4; }\n                else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n                return - ( a * Math.pow( 2, 10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) );\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                var s, a = 0.1, p = 0.4;\n                if ( k === 0 ) return 0;\n                if ( k === 1 ) return 1;\n                if ( !a || a < 1 ) { a = 1; s = p / 4; }\n                else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n                return ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                var s, a = 0.1, p = 0.4;\n                if ( k === 0 ) return 0;\n                if ( k === 1 ) return 1;\n                if ( !a || a < 1 ) { a = 1; s = p / 4; }\n                else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n                if ( ( k *= 2 ) < 1 ) return - 0.5 * ( a * Math.pow( 2, 10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) );\n                return a * Math.pow( 2, -10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) * 0.5 + 1;\n\n            }\n\n        },\n\n        Back: {\n            /** @ignore */\n            In: function ( k ) {\n\n                var s = 1.70158;\n                return k * k * ( ( s + 1 ) * k - s );\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                var s = 1.70158;\n                return --k * k * ( ( s + 1 ) * k + s ) + 1;\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                var s = 1.70158 * 1.525;\n                if ( ( k *= 2 ) < 1 ) return 0.5 * ( k * k * ( ( s + 1 ) * k - s ) );\n                return 0.5 * ( ( k -= 2 ) * k * ( ( s + 1 ) * k + s ) + 2 );\n\n            }\n\n        },\n\n        Bounce: {\n            /** @ignore */\n            In: function ( k ) {\n\n                return 1 - me.Tween.Easing.Bounce.Out( 1 - k );\n\n            },\n            /** @ignore */\n            Out: function ( k ) {\n\n                if ( k < ( 1 / 2.75 ) ) {\n\n                    return 7.5625 * k * k;\n\n                } else if ( k < ( 2 / 2.75 ) ) {\n\n                    return 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\n\n                } else if ( k < ( 2.5 / 2.75 ) ) {\n\n                    return 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\n\n                } else {\n\n                    return 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\n\n                }\n\n            },\n            /** @ignore */\n            InOut: function ( k ) {\n\n                if ( k < 0.5 ) return me.Tween.Easing.Bounce.In( k * 2 ) * 0.5;\n                return me.Tween.Easing.Bounce.Out( k * 2 - 1 ) * 0.5 + 0.5;\n\n            }\n\n        }\n\n    };\n\n    /**\n     * Interpolation Function :<br>\n     * <p>\n     * me.Tween.Interpolation.Linear<br>\n     * me.Tween.Interpolation.Bezier<br>\n     * me.Tween.Interpolation.CatmullRom\n     * </p>\n     * @public\n     * @constant\n     * @type enum\n     * @name Interpolation\n     * @memberOf me.Tween\n     */\n    me.Tween.Interpolation = {\n        /** @ignore */\n        Linear: function ( v, k ) {\n\n            var m = v.length - 1, f = m * k, i = Math.floor( f ), fn = me.Tween.Interpolation.Utils.Linear;\n\n            if ( k < 0 ) return fn( v[ 0 ], v[ 1 ], f );\n            if ( k > 1 ) return fn( v[ m ], v[ m - 1 ], m - f );\n\n            return fn( v[ i ], v[ i + 1 > m ? m : i + 1 ], f - i );\n\n        },\n        /** @ignore */\n        Bezier: function ( v, k ) {\n\n            var b = 0, n = v.length - 1, pw = Math.pow, bn = me.Tween.Interpolation.Utils.Bernstein, i;\n\n            for ( i = 0; i <= n; i++ ) {\n                b += pw( 1 - k, n - i ) * pw( k, i ) * v[ i ] * bn( n, i );\n            }\n\n            return b;\n\n        },\n        /** @ignore */\n        CatmullRom: function ( v, k ) {\n\n            var m = v.length - 1, f = m * k, i = Math.floor( f ), fn = me.Tween.Interpolation.Utils.CatmullRom;\n\n            if ( v[ 0 ] === v[ m ] ) {\n\n                if ( k < 0 ) i = Math.floor( f = m * ( 1 + k ) );\n\n                return fn( v[ ( i - 1 + m ) % m ], v[ i ], v[ ( i + 1 ) % m ], v[ ( i + 2 ) % m ], f - i );\n\n            } else {\n\n                if ( k < 0 ) return v[ 0 ] - ( fn( v[ 0 ], v[ 0 ], v[ 1 ], v[ 1 ], -f ) - v[ 0 ] );\n                if ( k > 1 ) return v[ m ] - ( fn( v[ m ], v[ m ], v[ m - 1 ], v[ m - 1 ], f - m ) - v[ m ] );\n\n                return fn( v[ i ? i - 1 : 0 ], v[ i ], v[ m < i + 1 ? m : i + 1 ], v[ m < i + 2 ? m : i + 2 ], f - i );\n\n            }\n\n        },\n\n        Utils: {\n            /** @ignore */\n            Linear: function ( p0, p1, t ) {\n\n                return ( p1 - p0 ) * t + p0;\n\n            },\n            /** @ignore */\n            Bernstein: function ( n , i ) {\n\n                var fc = me.Tween.Interpolation.Utils.Factorial;\n                return fc( n ) / fc( i ) / fc( n - i );\n\n            },\n            /** @ignore */\n            Factorial: ( function () {\n\n                var a = [ 1 ];\n\n                return function ( n ) {\n\n                    var s = 1, i;\n                    if ( a[ n ] ) return a[ n ];\n                    for ( i = n; i > 1; i-- ) s *= i;\n                    return a[ n ] = s;\n\n                };\n\n            } )(),\n            /** @ignore */\n            CatmullRom: function ( p0, p1, p2, p3, t ) {\n\n                var v0 = ( p2 - p0 ) * 0.5, v1 = ( p3 - p1 ) * 0.5, t2 = t * t, t3 = t * t2;\n                return ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n            }\n\n        }\n\n    };\n})();\n/* eslint-enable quotes, keyword-spacing, comma-spacing, no-return-assign */\n","(function () {\n    /**\n     * There is no constructor function for me.plugins<br>\n     * This namespace is a container for all registered plugins.\n     * @see me.plugin.register\n     * @namespace me.plugins\n     * @memberOf me\n     */\n    me.plugins = {};\n\n    /**\n     * There is no constructor function for me.plugin\n     * @namespace me.plugin\n     * @memberOf me\n     */\n    me.plugin = (function () {\n\n        // hold public stuff inside the singleton\n        var singleton = {};\n\n        /*--------------\n            PUBLIC\n          --------------*/\n\n        /**\n        * a base Object for plugin <br>\n        * plugin must be installed using the register function\n        * @see me.plugin\n        * @class\n        * @extends me.Object\n        * @name plugin.Base\n        * @memberOf me\n        * @constructor\n        */\n        singleton.Base = me.Object.extend({\n            /** @ignore */\n            init : function () {\n                /**\n                 * define the minimum required version of melonJS<br>\n                 * this can be overridden by the plugin\n                 * @public\n                 * @type String\n                 * @default \"__VERSION__\"\n                 * @name me.plugin.Base#version\n                 */\n                this.version = \"__VERSION__\";\n            }\n        });\n\n        /**\n         * patch a melonJS function\n         * @name patch\n         * @memberOf me.plugin\n         * @public\n         * @function\n         * @param {Object} proto target object\n         * @param {String} name target function\n         * @param {Function} fn replacement function\n         * @example\n         * // redefine the me.game.update function with a new one\n         * me.plugin.patch(me.game, \"update\", function () {\n         *   // display something in the console\n         *   console.log(\"duh\");\n         *   // call the original me.game.update function\n         *   this._patched();\n         * });\n         */\n        singleton.patch = function (proto, name, fn) {\n            // use the object prototype if possible\n            if (typeof proto.prototype !== \"undefined\") {\n                proto = proto.prototype;\n            }\n            // reuse the logic behind me.Object.extend\n            if (typeof(proto[name]) === \"function\") {\n                // save the original function\n                var _parent = proto[name];\n                // override the function with the new one\n                Object.defineProperty(proto, name, {\n                    \"configurable\" : true,\n                    \"value\" : (function (name, fn) {\n                        return function () {\n                            this._patched = _parent;\n                            var ret = fn.apply(this, arguments);\n                            this._patched = null;\n                            return ret;\n                        };\n                    })(name, fn)\n                });\n            }\n            else {\n                throw new Error(name + \" is not an existing function\");\n            }\n        };\n\n        /**\n         * Register a plugin.\n         * @name register\n         * @memberOf me.plugin\n         * @see me.plugin.Base\n         * @public\n         * @function\n         * @param {me.plugin.Base} plugin Plugin to instiantiate and register\n         * @param {String} name\n         * @param {} [arguments...] all extra parameters will be passed to the plugin constructor\n         * @example\n         * // register a new plugin\n         * me.plugin.register(TestPlugin, \"testPlugin\");\n         * // the plugin then also become available\n         * // under then me.plugins namespace\n         * me.plugins.testPlugin.myfunction ();\n         */\n        singleton.register = function (plugin, name) {\n            // ensure me.plugin[name] is not already \"used\"\n            if (me.plugin[name]) {\n                throw new Error(\"plugin \" + name + \" already registered\");\n            }\n\n            // get extra arguments\n            var _args = [];\n            if (arguments.length > 2) {\n                // store extra arguments if any\n                _args = Array.prototype.slice.call(arguments, 1);\n            }\n\n            // try to instantiate the plugin\n            _args[0] = plugin;\n            var instance = new (plugin.bind.apply(plugin, _args))();\n\n            // inheritance check\n            if (!instance || !(instance instanceof me.plugin.Base)) {\n                throw new Error(\"Plugin should extend the me.plugin.Base Class !\");\n            }\n\n            // compatibility testing\n            if (me.sys.checkVersion(instance.version) > 0) {\n                throw new Error(\"Plugin version mismatch, expected: \" + instance.version + \", got: \" + me.version);\n            }\n\n            // create a reference to the new plugin\n            me.plugins[name] = instance;\n        };\n\n        // return our singleton\n        return singleton;\n    })();\n})();\n","/**\n * Used to make a game entity draggable\n * @class\n * @extends me.Entity\n * @memberOf me\n * @constructor\n * @param {Number} x the x coordinates of the entity object\n * @param {Number} y the y coordinates of the entity object\n * @param {Object} settings Entity properties (see {@link me.Entity})\n */\nme.DraggableEntity = (function (Entity, Input, Event, Vector) {\n    return Entity.extend({\n        /**\n         * Constructor\n         * @name init\n         * @memberOf me.DraggableEntity\n         * @function\n         * @param {Number} x the x postion of the entity\n         * @param {Number} y the y postion of the entity\n         * @param {Object} settings the additional entity settings\n         */\n        init: function (x, y, settings) {\n            this._super(Entity, \"init\", [x, y, settings]);\n            this.dragging = false;\n            this.dragId = null;\n            this.grabOffset = new Vector(0, 0);\n            this.onPointerEvent = Input.registerPointerEvent;\n            this.removePointerEvent = Input.releasePointerEvent;\n            this.initEvents();\n        },\n\n        /**\n         * Initializes the events the modules needs to listen to\n         * It translates the pointer events to me.events\n         * in order to make them pass through the system and to make\n         * this module testable. Then we subscribe this module to the\n         * transformed events.\n         * @name initEvents\n         * @memberOf me.DraggableEntity\n         * @function\n         */\n        initEvents: function () {\n            var self = this;\n            /**\n             * @ignore\n             */\n            this.mouseDown = function (e) {\n                this.translatePointerEvent(e, Event.DRAGSTART);\n            };\n            /**\n             * @ignore\n             */\n            this.mouseUp = function (e) {\n                this.translatePointerEvent(e, Event.DRAGEND);\n            };\n            this.onPointerEvent(\"pointerdown\", this, this.mouseDown.bind(this));\n            this.onPointerEvent(\"pointerup\", this, this.mouseUp.bind(this));\n            this.onPointerEvent(\"pointercancel\", this, this.mouseUp.bind(this));\n            Event.subscribe(Event.POINTERMOVE, this.dragMove.bind(this));\n            Event.subscribe(Event.DRAGSTART, function (e, draggable) {\n                if (draggable === self) {\n                    self.dragStart(e);\n                }\n            });\n            Event.subscribe(Event.DRAGEND, function (e, draggable) {\n                if (draggable === self) {\n                    self.dragEnd(e);\n                }\n            });\n        },\n\n        /**\n         * Translates a pointer event to a me.event\n         * @name translatePointerEvent\n         * @memberOf me.DraggableEntity\n         * @function\n         * @param {Object} e the pointer event you want to translate\n         * @param {String} translation the me.event you want to translate\n         * the event to\n         */\n        translatePointerEvent: function (e, translation) {\n            Event.publish(translation, [e, this]);\n        },\n\n        /**\n         * Gets called when the user starts dragging the entity\n         * @name dragStart\n         * @memberOf me.DraggableEntity\n         * @function\n         * @param {Object} x the pointer event\n         */\n        dragStart: function (e) {\n            if (this.dragging === false) {\n                this.dragging = true;\n                this.grabOffset.set(e.gameX, e.gameY);\n                this.grabOffset.sub(this.pos);\n                return false;\n            }\n        },\n\n        /**\n         * Gets called when the user drags this entity around\n         * @name dragMove\n         * @memberOf me.DraggableEntity\n         * @function\n         * @param {Object} x the pointer event\n         */\n        dragMove: function (e) {\n            if (this.dragging === true) {\n                this.pos.set(e.gameX, e.gameY, this.pos.z); //TODO : z ?\n                this.pos.sub(this.grabOffset);\n            }\n        },\n\n        /**\n         * Gets called when the user stops dragging the entity\n         * @name dragEnd\n         * @memberOf me.DraggableEntity\n         * @function\n         * @param {Object} x the pointer event\n         */\n        dragEnd: function () {\n            if (this.dragging === true) {\n                this.dragging = false;\n                return false;\n            }\n        },\n\n        /**\n         * Destructor\n         * @name destroy\n         * @memberOf me.DraggableEntity\n         * @function\n         */\n        destroy: function () {\n            Event.unsubscribe(Event.POINTERMOVE, this.dragMove);\n            Event.unsubscribe(Event.DRAGSTART, this.dragStart);\n            Event.unsubscribe(Event.DRAGEND, this.dragEnd);\n            this.removePointerEvent(\"pointerdown\", this);\n            this.removePointerEvent(\"pointerup\", this);\n        }\n    });\n}(me.Entity, me.input, me.event, me.Vector2d));\n","/**\n * Used to make a game entity a droptarget\n * @class\n * @extends me.Entity\n * @memberOf me\n * @constructor\n * @param {Number} x the x coordinates of the entity object\n * @param {Number} y the y coordinates of the entity object\n * @param {Object} settings Entity properties (see {@link me.Entity})\n */\nme.DroptargetEntity = (function (Entity, Event) {\n    return Entity.extend({\n        /**\n         * Constructor\n         * @name init\n         * @memberOf me.DroptargetEntity\n         * @function\n         * @param {Number} x the x postion of the entity\n         * @param {Number} y the y postion of the entity\n         * @param {Object} settings the additional entity settings\n         */\n        init: function (x, y, settings) {\n            /**\n             * constant for the overlaps method\n             * @public\n             * @constant\n             * @type String\n             * @name CHECKMETHOD_OVERLAP\n             * @memberOf me.DroptargetEntity\n             */\n            this.CHECKMETHOD_OVERLAP = \"overlaps\";\n            /**\n             * constant for the contains method\n             * @public\n             * @constant\n             * @type String\n             * @name CHECKMETHOD_CONTAINS\n             * @memberOf me.DroptargetEntity\n             */\n            this.CHECKMETHOD_CONTAINS = \"contains\";\n            /**\n             * the checkmethod we want to use\n             * @public\n             * @constant\n             * @type String\n             * @name checkMethod\n             * @memberOf me.DroptargetEntity\n             */\n            this.checkMethod = null;\n            this._super(Entity, \"init\", [x, y, settings]);\n            Event.subscribe(Event.DRAGEND, this.checkOnMe.bind(this));\n            this.checkMethod = this[this.CHECKMETHOD_OVERLAP];\n        },\n\n        /**\n         * Sets the collision method which is going to be used to check a valid drop\n         * @name setCheckMethod\n         * @memberOf me.DroptargetEntity\n         * @function\n         * @param {Constant} checkMethod the checkmethod (defaults to CHECKMETHOD_OVERLAP)\n         */\n        setCheckMethod: function (checkMethod) {\n            //  We can improve this check,\n            //  because now you can use every method in theory\n            if (typeof(this[checkMethod]) !== \"undefined\") {\n                this.checkMethod = this[checkMethod];\n            }\n        },\n\n        /**\n         * Checks if a dropped entity is dropped on the current entity\n         * @name checkOnMe\n         * @memberOf me.DroptargetEntity\n         * @function\n         * @param {Object} draggableEntity the draggable entity that is dropped\n         */\n        checkOnMe: function (e, draggableEntity) {\n            if (draggableEntity && this.checkMethod(draggableEntity.getBounds())) {\n                // call the drop method on the current entity\n                this.drop(draggableEntity);\n            }\n        },\n\n        /**\n         * Gets called when a draggable entity is dropped on the current entity\n         * @name drop\n         * @memberOf me.DroptargetEntity\n         * @function\n         * @param {Object} draggableEntity the draggable entity that is dropped\n         */\n        drop: function () {},\n\n        /**\n         * Destructor\n         * @name destroy\n         * @memberOf me.DroptargetEntity\n         * @function\n         */\n        destroy: function () {\n            Event.unsubscribe(Event.DRAGEND, this.checkOnMe);\n        }\n    });\n}(me.Entity, me.event));\n","(function () {\n\n    /**\n     * @class\n     * @extends me.Entity\n     * @memberOf me\n     * @constructor\n     * @param {Number} x the x coordinates of the entity object\n     * @param {Number} y the y coordinates of the entity object\n     * @param {Object} settings See {@link me.Entity}\n     */\n    me.CollectableEntity = me.Entity.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, settings) {\n            // call the super constructor\n            this._super(me.Entity, \"init\", [x, y, settings]);\n            this.body.collisionType = me.collision.types.COLLECTABLE_OBJECT;\n        }\n    });\n})();\n","(function () {\n\n    /**\n     * @class\n     * @extends me.Entity\n     * @memberOf me\n     * @constructor\n     * @param {Number} x the x coordinates of the object\n     * @param {Number} y the y coordinates of the object\n     * @param {Object} settings See {@link me.Entity}\n     * @param {String} [settings.duration] Fade duration (in ms)\n     * @param {String|me.Color} [settings.color] Fade color\n     * @param {String} [settings.to] TMX level to load\n     * @param {String|me.Container} [settings.container] Target container. See {@link me.levelDirector.loadLevel}\n     * @param {Function} [settings.onLoaded] Level loaded callback. See {@link me.levelDirector.loadLevel}\n     * @param {Boolean} [settings.flatten] Flatten all objects into the target container. See {@link me.levelDirector.loadLevel}\n     * @param {Boolean} [settings.setViewportBounds] Resize the viewport to match the level. See {@link me.levelDirector.loadLevel}\n     * @example\n     * me.game.world.addChild(new me.LevelEntity(\n     *     x, y, {\n     *         \"duration\" : 250,\n     *         \"color\" : \"#000\",\n     *         \"to\" : \"mymap2\"\n     *     }\n     * ));\n     */\n    me.LevelEntity = me.Entity.extend({\n        /**\n         * @ignore\n         */\n        init : function (x, y, settings) {\n            this._super(me.Entity, \"init\", [x, y, settings]);\n\n            this.nextlevel = settings.to;\n\n            this.fade = settings.fade;\n            this.duration = settings.duration;\n            this.fading = false;\n\n            this.name = \"levelEntity\";\n\n            // a temp variable\n            this.gotolevel = settings.to;\n\n            // Collect the defined level settings\n            this.loadLevelSettings = {};\n            [ \"container\", \"onLoaded\", \"flatten\", \"setViewportBounds\" ].forEach(function (v) {\n                if (typeof(settings[v]) !== \"undefined\") {\n                    this.loadLevelSettings[v] = settings[v];\n                }\n            }.bind(this));\n\n            this.body.collisionType = me.collision.types.ACTION_OBJECT;\n        },\n\n        /**\n         * @ignore\n         */\n         getlevelSettings : function () {\n             // Lookup for the container instance\n             if (typeof(this.loadLevelSettings.container) === \"string\") {\n                 this.loadLevelSettings.container = me.game.world.getChildByName(this.loadLevelSettings.container)[0];\n             }\n             return this.loadLevelSettings;\n         },\n\n        /**\n         * @ignore\n         */\n        onFadeComplete : function () {\n\n            me.levelDirector.loadLevel(this.gotolevel, this.getlevelSettings());\n            me.game.viewport.fadeOut(this.fade, this.duration);\n        },\n\n        /**\n         * go to the specified level\n         * @name goTo\n         * @memberOf me.LevelEntity\n         * @function\n         * @param {String} [level=this.nextlevel] name of the level to load\n         * @protected\n         */\n        goTo : function (level) {\n            this.gotolevel = level || this.nextlevel;\n            // load a level\n            //console.log(\"going to : \", to);\n            if (this.fade && this.duration) {\n                if (!this.fading) {\n                    this.fading = true;\n                    me.game.viewport.fadeIn(this.fade, this.duration,\n                            this.onFadeComplete.bind(this));\n                }\n            } else {\n                me.levelDirector.loadLevel(this.gotolevel, this.getlevelSettings());\n            }\n        },\n\n        /** @ignore */\n        onCollision : function () {\n            if (this.name === \"levelEntity\") {\n                this.goTo.apply(this);\n            }\n            return false;\n        }\n    });\n})();\n","(function () {\n    // generate a default image for the particles\n    var pixel = (function () {\n        var canvas = me.video.createCanvas(1, 1);\n        var context = canvas.getContext(\"2d\");\n        context.fillStyle = \"#fff\";\n        context.fillRect(0, 0, 1, 1);\n        return canvas;\n    })();\n\n    /**\n     * me.ParticleEmitterSettings contains the default settings for me.ParticleEmitter.<br>\n     *\n     * @protected\n     * @class\n     * @memberOf me\n     * @see me.ParticleEmitter\n     */\n    me.ParticleEmitterSettings = {\n        /**\n         * Width of the particle spawn area.<br>\n         * @public\n         * @type Number\n         * @name width\n         * @memberOf me.ParticleEmitterSettings\n         * @default 0\n         */\n        width : 0,\n\n        /**\n         * Height of the particle spawn area.<br>\n         * @public\n         * @type Number\n         * @name height\n         * @memberOf me.ParticleEmitterSettings\n         * @default 0\n         */\n        height : 0,\n\n        /**\n         * Image used for particles.<br>\n         * @public\n         * @type CanvasImageSource\n         * @name image\n         * @memberOf me.ParticleEmitterSettings\n         * @default 1x1 white pixel\n         * @see http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#canvasimagesource\n         */\n        image : pixel,\n\n        /**\n         * Total number of particles in the emitter.<br>\n         * @public\n         * @type Number\n         * @name totalParticles\n         * @default 50\n         * @memberOf me.ParticleEmitterSettings\n         */\n        totalParticles : 50,\n\n        /**\n         * Start angle for particle launch in Radians.<br>\n         * @public\n         * @type Number\n         * @name angle\n         * @default Math.PI / 2\n         * @memberOf me.ParticleEmitterSettings\n         */\n        angle : Math.PI / 2,\n\n        /**\n         * Variation in the start angle for particle launch in Radians.<br>\n         * @public\n         * @type Number\n         * @name angleVariation\n         * @default 0\n         * @memberOf me.ParticleEmitterSettings\n         */\n        angleVariation : 0,\n\n        /**\n         * Minimum time each particle lives once it is emitted in ms.<br>\n         * @public\n         * @type Number\n         * @name minLife\n         * @default 1000\n         * @memberOf me.ParticleEmitterSettings\n         */\n        minLife : 1000,\n\n        /**\n         * Maximum time each particle lives once it is emitted in ms.<br>\n         * @public\n         * @type Number\n         * @name maxLife\n         * @default 3000\n         * @memberOf me.ParticleEmitterSettings\n         */\n        maxLife : 3000,\n\n        /**\n         * Start speed of particles.<br>\n         * @public\n         * @type Number\n         * @name speed\n         * @default 2\n         * @memberOf me.ParticleEmitterSettings\n         */\n        speed : 2,\n\n        /**\n         * Variation in the start speed of particles.<br>\n         * @public\n         * @type Number\n         * @name speedVariation\n         * @default 1\n         * @memberOf me.ParticleEmitterSettings\n         */\n        speedVariation : 1,\n\n        /**\n         * Minimum start rotation for particles sprites in Radians.<br>\n         * @public\n         * @type Number\n         * @name minRotation\n         * @default 0\n         * @memberOf me.ParticleEmitterSettings\n         */\n        minRotation : 0,\n\n        /**\n         * Maximum start rotation for particles sprites in Radians.<br>\n         * @public\n         * @type Number\n         * @name maxRotation\n         * @default 0\n         * @memberOf me.ParticleEmitterSettings\n         */\n        maxRotation : 0,\n\n        /**\n         * Minimum start scale ratio for particles (1 = no scaling).<br>\n         * @public\n         * @type Number\n         * @name minStartScale\n         * @default 1\n         * @memberOf me.ParticleEmitterSettings\n         */\n        minStartScale : 1,\n\n        /**\n         * Maximum start scale ratio for particles (1 = no scaling).<br>\n         * @public\n         * @type Number\n         * @name maxStartScale\n         * @default 1\n         * @memberOf me.ParticleEmitterSettings\n         */\n        maxStartScale : 1,\n\n        /**\n         * Minimum end scale ratio for particles.<br>\n         * @public\n         * @type Number\n         * @name minEndScale\n         * @default 0\n         * @memberOf me.ParticleEmitterSettings\n         */\n        minEndScale : 0,\n\n        /**\n         * Maximum end scale ratio for particles.<br>\n         * @public\n         * @type Number\n         * @name maxEndScale\n         * @default 0\n         * @memberOf me.ParticleEmitterSettings\n         */\n        maxEndScale : 0,\n\n        /**\n         * Vertical force (Gravity) for each particle.<br>\n         * @public\n         * @type Number\n         * @name gravity\n         * @default 0\n         * @memberOf me.ParticleEmitterSettings\n         * @see me.sys.gravity\n         */\n        gravity : 0,\n\n        /**\n         * Horizontal force (like a Wind) for each particle.<br>\n         * @public\n         * @type Number\n         * @name wind\n         * @default 0\n         * @memberOf me.ParticleEmitterSettings\n         */\n        wind : 0,\n\n        /**\n         * Update the rotation of particle in accordance the particle trajectory.<br>\n         * The particle sprite should aim at zero angle (draw from left to right).<br>\n         * Override the particle minRotation and maxRotation.<br>\n         * @public\n         * @type Boolean\n         * @name followTrajectory\n         * @default false\n         * @memberOf me.ParticleEmitterSettings\n         */\n        followTrajectory : false,\n\n        /**\n         * Enable the Texture Additive by canvas composite operation (lighter).<br>\n         * WARNING: Composite Operation may decreases performance!.<br>\n         * @public\n         * @type Boolean\n         * @name textureAdditive\n         * @default false\n         * @memberOf me.ParticleEmitterSettings\n         */\n        textureAdditive : false,\n\n        /**\n         * Update particles only in the viewport, remove it when out of viewport.<br>\n         * @public\n         * @type Boolean\n         * @name onlyInViewport\n         * @default true\n         * @memberOf me.ParticleEmitterSettings\n         */\n        onlyInViewport : true,\n\n        /**\n         * Render particles in screen space. <br>\n         * @public\n         * @type Boolean\n         * @name floating\n         * @default false\n         * @memberOf me.ParticleEmitterSettings\n         */\n        floating : false,\n\n        /**\n         * Maximum number of particles launched each time in this emitter (used only if emitter is Stream).<br>\n         * @public\n         * @type Number\n         * @name maxParticles\n         * @default 10\n         * @memberOf me.ParticleEmitterSettings\n         */\n        maxParticles : 10,\n\n        /**\n         * How often a particle is emitted in ms (used only if emitter is Stream).<br>\n         * Necessary that value is greater than zero.<br>\n         * @public\n         * @type Number\n         * @name frequency\n         * @default 100\n         * @memberOf me.ParticleEmitterSettings\n         */\n        frequency : 100,\n\n        /**\n         * Duration that the emitter releases particles in ms (used only if emitter is Stream).<br>\n         * After this period, the emitter stop the launch of particles.<br>\n         * @public\n         * @type Number\n         * @name duration\n         * @default Infinity\n         * @memberOf me.ParticleEmitterSettings\n         */\n        duration : Infinity,\n\n        /**\n         * Skip n frames after updating the particle system once. <br>\n         * This can be used to reduce the performance impact of emitters with many particles.<br>\n         * @public\n         * @type Number\n         * @name framesToSkip\n         * @default 0\n         * @memberOf me.ParticleEmitterSettings\n         */\n        framesToSkip : 0\n    };\n\n    /**\n     * Particle Emitter Object.\n     * @class\n     * @extends Rect\n     * @memberOf me\n     * @constructor\n     * @param {Number} x x-position of the particle emitter\n     * @param {Number} y y-position of the particle emitter\n     * @param {object} settings An object containing the settings for the particle emitter. See {@link me.ParticleEmitterSettings}\n     * @example\n     *\n     * // Create a basic emitter at position 100, 100\n     * var emitter = new me.ParticleEmitter(100, 100);\n     *\n     * // Adjust the emitter properties\n     * emitter.totalParticles = 200;\n     * emitter.minLife = 1000;\n     * emitter.maxLife = 3000;\n     * emitter.z = 10;\n     *\n     * // Add the emitter to the game world\n     * me.game.world.addChild(emitter);\n     *\n     * // Launch all particles one time and stop, like a explosion\n     * emitter.burstParticles();\n     *\n     * // Launch constantly the particles, like a fountain\n     * emitter.streamParticles();\n     *\n     * // At the end, remove emitter from the game world\n     * // call this in onDestroyEvent function\n     * me.game.world.removeChild(emitter);\n     *\n     */\n    me.ParticleEmitter = me.Rect.extend({\n        /**\n         * @ignore\n         */\n        init: function (x, y, settings) {\n            // Emitter is Stream, launch particles constantly\n            /** @ignore */\n            this._stream = false;\n\n            // Frequency timer (in ms) for emitter launch new particles\n            // used only in stream emitter\n            /** @ignore */\n            this._frequencyTimer = 0;\n\n            // Time of live (in ms) for emitter launch new particles\n            // used only in stream emitter\n            /** @ignore */\n            this._durationTimer = 0;\n\n            // Emitter is emitting particles\n            /** @ignore */\n            this._enabled = false;\n            // Emitter will always update\n            this.isRenderable = false;\n            // call the super constructor\n            this._super(\n                me.Rect,\n                \"init\",\n                [x, y,\n                Infinity,\n                Infinity]\n            );\n\n            // don't sort the particles by z-index\n            this.autoSort = false;\n\n            this.container = new me.ParticleContainer(this);\n\n            /**\n             * @ignore\n             */\n            Object.defineProperty(this.pos, \"z\", {\n                /**\n                 * @ignore\n                 */\n                get : (function () { return this.container.pos.z; }).bind(this),\n                /**\n                 * @ignore\n                 */\n                set : (function (value) { this.container.pos.z = value; }).bind(this),\n                enumerable : true,\n                configurable : true\n            });\n\n            /**\n             * Floating property for particles, value is forwarded to the particle container <br>\n             * @type Boolean\n             * @name floating\n             * @memberOf me.ParticleEmitter\n             */\n            Object.defineProperty(this, \"floating\", {\n                /**\n                 * @ignore\n                 */\n                get : function () { return this.container.floating; },\n                /**\n                 * @ignore\n                 */\n                set : function (value) { this.container.floating = value; },\n                enumerable : true,\n                configurable : true\n            });\n\n            // Reset the emitter to defaults\n            this.reset(settings);\n        },\n\n        /**\n         * @ignore\n         */\n        onActivateEvent: function() {\n            this.ancestor.addChild(this.container);\n            this.container.pos.z = this.pos.z;\n            if (!this.ancestor.autoSort) {\n                this.ancestor.sort();\n            }\n        },\n\n        /**\n         * @ignore\n         */\n        onDeactivateEvent: function() {\n            if (this.ancestor.hasChild(this.container)) {\n                this.ancestor.removeChildNow(this.container);\n            }\n        },\n\n        /**\n         * @ignore\n         */\n        destroy: function () {\n            this.reset();\n        },\n\n        /**\n         * returns a random point inside the bounds x axis of this emitter\n         * @name getRandomPointX\n         * @memberOf me.ParticleEmitter\n         * @function\n         * @return {Number}\n         */\n        getRandomPointX: function () {\n            return this.pos.x + me.Math.randomFloat(0, this.width);\n        },\n\n        /**\n         * returns a random point inside the bounds y axis of this emitter\n         * @name getRandomPointY\n         * @memberOf me.ParticleEmitter\n         * @function\n         * @return {Number}\n         */\n        getRandomPointY: function () {\n            return this.pos.y + me.Math.randomFloat(0, this.height);\n        },\n\n        /**\n         * Reset the emitter with default values.<br>\n         * @function\n         * @param {Object} settings [optional] object with emitter settings. See {@link me.ParticleEmitterSettings}\n         * @name reset\n         * @memberOf me.ParticleEmitter\n         */\n        reset: function (settings) {\n            // check if settings exists and create a dummy object if necessary\n            settings = settings || {};\n            var defaults = me.ParticleEmitterSettings;\n\n            var width = (typeof settings.width === \"number\") ? settings.width : defaults.width;\n            var height = (typeof settings.height === \"number\") ? settings.height : defaults.height;\n            this.resize(width, height);\n\n            Object.assign(this, defaults, settings);\n\n            // reset particle container values\n            this.container.reset();\n        },\n\n        // Add count particles in the game world\n        /** @ignore */\n        addParticles: function (count) {\n            for (var i = 0; i < ~~count; i++) {\n                // Add particle to the container\n                var particle = me.pool.pull(\"me.Particle\", this);\n                this.container.addChild(particle);\n            }\n        },\n\n        /**\n         * Emitter is of type stream and is launching particles <br>\n         * @function\n         * @returns {Boolean} Emitter is Stream and is launching particles\n         * @name isRunning\n         * @memberOf me.ParticleEmitter\n         */\n        isRunning: function () {\n            return this._enabled && this._stream;\n        },\n\n        /**\n         * Launch particles from emitter constantly <br>\n         * Particles example: Fountains\n         * @param {Number} duration [optional] time that the emitter releases particles in ms\n         * @function\n         * @name streamParticles\n         * @memberOf me.ParticleEmitter\n         */\n        streamParticles: function (duration) {\n            this._enabled = true;\n            this._stream = true;\n            this.frequency = Math.max(this.frequency, 1);\n            this._durationTimer = (typeof duration === \"number\") ? duration : this.duration;\n        },\n\n        /**\n         * Stop the emitter from generating new particles (used only if emitter is Stream) <br>\n         * @function\n         * @name stopStream\n         * @memberOf me.ParticleEmitter\n         */\n        stopStream: function () {\n            this._enabled = false;\n        },\n\n        /**\n         * Launch all particles from emitter and stop <br>\n         * Particles example: Explosions <br>\n         * @param {Number} total [optional] number of particles to launch\n         * @function\n         * @name burstParticles\n         * @memberOf me.ParticleEmitter\n         */\n        burstParticles: function (total) {\n            this._enabled = true;\n            this._stream = false;\n            this.addParticles((typeof total === \"number\") ? total : this.totalParticles);\n            this._enabled = false;\n        },\n\n        /**\n         * @ignore\n         */\n        update: function (dt) {\n            // Launch new particles, if emitter is Stream\n            if ((this._enabled) && (this._stream)) {\n                // Check if the emitter has duration set\n                if (this._durationTimer !== Infinity) {\n                    this._durationTimer -= dt;\n\n                    if (this._durationTimer <= 0) {\n                        this.stopStream();\n                        return false;\n                    }\n                }\n\n                // Increase the emitter launcher timer\n                this._frequencyTimer += dt;\n\n                // Check for new particles launch\n                var particlesCount = this.container.children.length;\n                if ((particlesCount < this.totalParticles) && (this._frequencyTimer >= this.frequency)) {\n                    if ((particlesCount + this.maxParticles) <= this.totalParticles) {\n                        this.addParticles(this.maxParticles);\n                    }\n                    else {\n                        this.addParticles(this.totalParticles - particlesCount);\n                    }\n\n                    this._frequencyTimer = 0;\n                }\n            }\n            return true;\n        }\n    });\n})();\n","(function () {\n    /**\n     * Particle Container Object.\n     * @class\n     * @extends me.Container\n     * @memberOf me\n     * @constructor\n     * @param {me.ParticleEmitter} emitter the emitter which owns this container\n     */\n    me.ParticleContainer = me.Container.extend({\n        /**\n         * @ignore\n         */\n        init: function (emitter) {\n            // call the super constructor\n            this._super(me.Container, \"init\", [\n                me.game.viewport.pos.x,\n                me.game.viewport.pos.y,\n                me.game.viewport.width,\n                me.game.viewport.height\n            ]);\n\n            // don't sort the particles by z-index\n            this.autoSort = false;\n\n            // count the updates\n            this._updateCount = 0;\n\n            // internally store how much time was skipped when frames are skipped\n            this._dt = 0;\n\n            // cache the emitter for later use\n            this._emitter = emitter;\n\n            this.autoTransform = false;\n\n            this.anchorPoint.set(0, 0);\n\n            this.isKinematic = true;\n        },\n\n        /**\n         * @ignore\n         */\n        update: function (dt) {\n            // skip frames if necessary\n            if (++this._updateCount > this._emitter.framesToSkip) {\n                this._updateCount = 0;\n            }\n            if (this._updateCount > 0) {\n                this._dt += dt;\n                return false;\n            }\n\n            // apply skipped delta time\n            dt += this._dt;\n            this._dt = 0;\n\n            // Update particles and remove them if they are dead\n            var viewport = me.game.viewport;\n            for (var i = this.children.length - 1; i >= 0; --i) {\n                var particle = this.children[i];\n                particle.inViewport = viewport.isVisible(particle, this.floating);\n                if (!particle.update(dt)) {\n                    this.removeChildNow(particle);\n                }\n            }\n            return true;\n        },\n\n        /**\n         * @ignore\n         */\n        draw : function (renderer, rect) {\n            if (this.children.length > 0) {\n                var context = renderer.getContext(),\n                    gco;\n                // Check for additive draw\n                if (this._emitter.textureAdditive) {\n                    gco = context.globalCompositeOperation;\n                    context.globalCompositeOperation = \"lighter\";\n                }\n\n                this._super(me.Container, \"draw\", [renderer, rect]);\n\n                // Restore globalCompositeOperation\n                if (this._emitter.textureAdditive) {\n                    context.globalCompositeOperation = gco;\n                }\n            }\n        }\n    });\n})();\n","(function () {\n    /**\n     * Single Particle Object.\n     * @class\n     * @extends me.Renderable\n     * @memberOf me\n     * @constructor\n     * @param {me.ParticleEmitter} particle emitter\n     */\n    me.Particle = me.Renderable.extend({\n        /**\n         * @ignore\n         */\n        init : function (emitter) {\n            // Call the super constructor\n            this._super(me.Renderable, \"init\", [\n                emitter.getRandomPointX(),\n                emitter.getRandomPointY(),\n                emitter.image.width,\n                emitter.image.height\n            ]);\n\n            // Particle will always update\n            this.alwaysUpdate = true;\n\n            // Cache the image reference\n            this.image = emitter.image;\n\n            // Set the start particle Angle and Speed as defined in emitter\n            var angle = emitter.angle + ((emitter.angleVariation > 0) ? (me.Math.randomFloat(0, 2) - 1) * emitter.angleVariation : 0);\n            var speed = emitter.speed + ((emitter.speedVariation > 0) ? (me.Math.randomFloat(0, 2) - 1) * emitter.speedVariation : 0);\n\n            // Set the start particle Velocity\n            this.vel = new me.Vector2d(speed * Math.cos(angle), -speed * Math.sin(angle));\n\n            // Set the start particle Time of Life as defined in emitter\n            this.life = me.Math.randomFloat(emitter.minLife, emitter.maxLife);\n            this.startLife = this.life;\n\n            // Set the start and end particle Scale as defined in emitter\n            // clamp the values as minimum and maximum scales range\n            this.startScale = me.Math.clamp(\n                me.Math.randomFloat(emitter.minStartScale, emitter.maxStartScale),\n                emitter.minStartScale,\n                emitter.maxStartScale\n            );\n            this.endScale = me.Math.clamp(\n                me.Math.randomFloat(emitter.minEndScale, emitter.maxEndScale),\n                emitter.minEndScale,\n                emitter.maxEndScale\n            );\n\n            // Set the particle Gravity and Wind (horizontal gravity) as defined in emitter\n            this.gravity = emitter.gravity;\n            this.wind = emitter.wind;\n\n            // Set if the particle update the rotation in accordance the trajectory\n            this.followTrajectory = emitter.followTrajectory;\n\n            // Set if the particle update only in Viewport\n            this.onlyInViewport = emitter.onlyInViewport;\n\n            // Set the particle Z Order\n            this.pos.z = emitter.z;\n\n            // cache inverse of the expected delta time\n            this._deltaInv = me.sys.fps / 1000;\n\n            // Set the start particle rotation as defined in emitter\n            // if the particle not follow trajectory\n            if (!emitter.followTrajectory) {\n                this.angle = me.Math.randomFloat(emitter.minRotation, emitter.maxRotation);\n            }\n        },\n\n        /**\n         * Update the Particle <br>\n         * This is automatically called by the game manager {@link me.game}\n         * @name update\n         * @memberOf me.Particle\n         * @function\n         * @ignore\n         * @param {Number} dt time since the last update in milliseconds\n         */\n        update : function (dt) {\n            // move things forward independent of the current frame rate\n            var skew = dt * this._deltaInv;\n\n            // Decrease particle life\n            this.life = this.life > dt ? this.life - dt : 0;\n\n            // Calculate the particle Age Ratio\n            var ageRatio = this.life / this.startLife;\n\n            // Resize the particle as particle Age Ratio\n            var scale = this.startScale;\n            if (this.startScale > this.endScale) {\n                scale *= ageRatio;\n                scale = (scale < this.endScale) ? this.endScale : scale;\n            }\n            else if (this.startScale < this.endScale) {\n                scale /= ageRatio;\n                scale = (scale > this.endScale) ? this.endScale : scale;\n            }\n\n            // Set the particle opacity as Age Ratio\n            this.alpha = ageRatio;\n\n            // Adjust the particle velocity\n            this.vel.x += this.wind * skew;\n            this.vel.y += this.gravity * skew;\n\n            // If necessary update the rotation of particle in accordance the particle trajectory\n            var angle = this.followTrajectory ? Math.atan2(this.vel.y, this.vel.x) : this.angle;\n\n            this.pos.x += this.vel.x * skew;\n            this.pos.y += this.vel.y * skew;\n\n            // Update particle transform\n            this.currentTransform.setTransform(\n                scale, 0, 0,\n                0, scale, 0,\n                this.pos.x, this.pos.y, 1\n            ).rotate(angle);\n\n            // Return true if the particle is not dead yet\n            return (this.inViewport || !this.onlyInViewport) && (this.life > 0);\n        },\n\n        /**\n         * @ignore\n         */\n        preDraw : function (renderer) {\n\n            // restore is called in postDraw\n            renderer.save();\n\n            // particle alpha value\n            renderer.setGlobalAlpha(renderer.globalAlpha() * this.alpha);\n\n            // translate to the defined anchor point and scale it\n            renderer.transform(this.currentTransform);\n        },\n\n        /**\n         * @ignore\n         */\n        draw : function (renderer) {\n            var w = this.width, h = this.height;\n            renderer.drawImage(\n                this.image,\n                0, 0,\n                w, h,\n                -w / 2, -h / 2,\n                w, h\n            );\n        }\n    });\n\n})();\n","// placeholder for all deprecated classes,\n// and corresponding alias for backward compatibility\n\n/**\n * @class me.ScreenObject\n * @deprecated since 6.2.0\n * @see me.Stage\n */\nme.ScreenObject = me.Stage.extend({\n    /** @ignore */\n    init: function (settings) {\n        // super constructor\n        this._super(me.Stage, \"init\", settings);\n        // deprecation warning\n        console.log(\"me.ScreenObject is deprecated, please use me.Stage\");\n    }\n});\n\n/**\n * @class me.Font\n * @deprecated since 6.1.0\n * @see me.Text\n */\nme.Font = me.Text.extend({\n    /** @ignore */\n    init: function (font, size, fillStyle, textAlign) {\n        var settings = {\n            font:font,\n            size:size,\n            fillStyle:fillStyle,\n            textAlign:textAlign\n        }\n        // super constructor\n        this._super(me.Text, \"init\", [0, 0, settings]);\n        // deprecation warning\n        console.log(\"me.Font is deprecated, please use me.Text\");\n    },\n\n    /** @ignore */\n    setFont : function (font, size, fillStyle, textAlign) {\n        // apply fillstyle if defined\n        if (typeof(fillStyle) !== \"undefined\") {\n            this.fillStyle.copy(fillStyle);\n        }\n        // h alignement if defined\n        if (typeof(textAlign) !== \"undefined\") {\n            this.textAlign = textAlign;\n        }\n        // super constructor\n        return this._super(me.Text, \"setFont\", [font, size]);\n    }\n});\n\n/**\n * @ignore\n */\nme.BitmapFontData = me.BitmapTextData;\n\n/**\n * @class me.BitmapFont\n * @deprecated since 6.1.0\n * @see me.BitmapText\n */\nme.BitmapFont = me.BitmapText.extend({\n    /** @ignore */\n    init: function (data, fontImage, scale, textAlign, textBaseline) {\n        var settings = {\n            font: fontImage,\n            fontData: data,\n            size: scale,\n            textAlign: textAlign,\n            textBaseline: textBaseline\n        }\n        // super constructor\n        this._super(me.BitmapText, \"init\", [0, 0, settings]);\n        // deprecation warning\n        console.log(\"me.BitmapFont is deprecated, please use me.BitmapText\");\n    }\n});\n\n/**\n * @function me.Renderer.drawShape\n * @deprecated since 6.3.0\n * @see me.Renderer#stroke\n */\nme.Renderer.prototype.drawShape = function () {\n    console.log(\"drawShape() is deprecated, please use the stroke() or fill() function\");\n    me.Renderer.prototype.stroke.apply(this, arguments);\n}\n\n/**\n * @ignore\n */\nme.CanvasRenderer.prototype.Texture = me.Renderer.prototype.Texture;\n\n/**\n * @ignore\n */\nme.WebGLRenderer.prototype.Texture = me.Renderer.prototype.Texture;\n\n/**\n * @function me.video.getPos\n * @deprecated since 7.0.0\n * @see me.Renderer#getBounds\n */\nme.video.getPos = function() {\n    console.log(\"me.video.getPos() is deprecated, please use me.video.renderer.getBounds()\");\n    return me.video.renderer.getBounds();\n};\n\n/**\n * melonJS base class for exception handling.\n * @class\n * @extends me.Object\n * @memberOf me\n * @constructor\n * @deprecated since 7.0.0\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\n * @param {String} msg Error message.\n */\nme.Error = me.Object.extend.bind(Error)({\n    /**\n     * @ignore\n     */\n    init : function (msg) {\n        this.name = \"me.Error\";\n        this.message = msg;\n    }\n});\n"],"names":["global","me","define","amd","exports","module","window","console","log","info","error","alert","Array","prototype","slice","call","arguments","join","lastTime","frameDuration","vendors","x","requestAnimationFrame","cancelAnimationFrame","length","callback","currTime","performance","now","timeToCall","Math","max","id","setTimeout","clearTimeout","commonjsHelpers.createCommonjsModule","Object","Jay","capitalize","str","substring","toUpperCase","agent","api","prefixed","name","obj","uc_name","result","some","vendor","undefined","setPrefixed","value","device","accelInitialized","deviceOrientationInitialized","swipeEnabled","disableSwipeFn","e","preventDefault","scroll","readyBound","isReady","readyList","_domReady","fn","document","body","removeEventListener","shift","_check","_detectDevice","isMobile","enableSwipe","TouchEvent","PointerEvent","gesture","touch","maxTouchPoints","navigator","wheel","createElement","hasAccelerometer","DeviceMotionEvent","hasPointerLockSupport","exitPointerLock","DeviceOrientationEvent","hasDeviceOrientation","hasFullscreenSupport","mozFullScreenEnabled","exitFullscreen","vibrate","hasWebAudio","AudioContext","webkitAudioContext","localStorage","addEventListener","sys","stopOnBlur","state","stop","pauseOnBlur","pause","restart","resumeOnFocus","resume","autoFocus","focus","hidden","visibilityChange","mozHidden","msHidden","webkitHidden","iOS","test","ua","android","android2","linux","chromeOS","wp","BlackBerry","Kindle","ejecta","isWeixin","userAgent","nativeBase64","atob","accelerationX","accelerationY","accelerationZ","gamma","beta","alpha","language","browserLanguage","userLanguage","onReady","push","readyState","enable","requestFullscreen","element","video","getWrapper","mozRequestFullScreen","getScreenOrientation","PORTRAIT","LANDSCAPE","screen","orientation","type","abs","outerWidth","outerHeight","lockOrientation","unlockOrientation","isPortrait","includes","isLandscape","getStorage","save","Error","getMaxShaderPrecision","gl","getShaderPrecisionFormat","VERTEX_SHADER","HIGH_FLOAT","precision","FRAGMENT_SHADER","MEDIUM_FLOAT","onDeviceMotion","accelerationIncludingGravity","y","z","onDeviceRotate","turnOnPointerLock","match","fullscreenchange","mozFullScreenElement","requestPointerLock","turnOffPointerLock","watchAccelerometer","unwatchAccelerometer","watchDeviceOrientation","unwatchDeviceOrientation","pattern","defineProperty","get","devicePixelRatio","audio","hasAudio","commonjsHelpers.commonjsGlobal","event","STATE_PAUSE","STATE_RESUME","STATE_STOP","STATE_RESTART","GAME_INIT","GAME_RESET","LEVEL_LOADED","LOADER_COMPLETE","LOADER_PROGRESS","KEYDOWN","KEYUP","GAMEPAD_CONNECTED","GAMEPAD_DISCONNECTED","GAMEPAD_UPDATE","POINTERMOVE","DRAGSTART","DRAGEND","WINDOW_ONRESIZE","CANVAS_ONRESIZE","VIEWPORT_ONRESIZE","WINDOW_ONORIENTATION_CHANGE","WINDOW_ONSCROLL","VIEWPORT_ONCHANGE","WEBGL_ONCONTEXT_LOST","WEBGL_ONCONTEXT_RESTORED","publish","MinPubSub","subscribe","unsubscribe","game","initialized","isDirty","isAlwaysDirty","frameCounter","frameRate","accumulator","accumulatorMax","accumulatorUpdateDelta","stepSize","updateDelta","lastUpdateStart","updateAverageDelta","renderer","viewport","world","mergeGroup","sortOn","onLevelLoaded","HASH","init","width","height","getWidth","getHeight","Container","anchorPoint","set","collision","reset","quadTree","clear","current","cameras","updateFrameRate","fps","updatesPerSecond","getParentContainer","child","ancestor","repaint","update","time","stage","timer","input","_updateGamepads","getDelta","min","interpolation","insertContainer","forEach","camera","lastUpdate","draw","isContextValid","flush","mod","version","scale","gravity","stopOnAudioError","preRender","checkVersion","first","second","a","split","b","len","i","parseHash","hash","location","substr","filter","kv","k","v","me_initialized","skipAutoInit","boot","pool","_init","loader","setNocache","nocache","_enableKeyboardEvent","levelDirector","framecount","framedelta","last","delta","step","ceil","minstep","timers","timerId","clearTimer","splice","updateTimers","dt","_timer","pauseable","isPaused","elapsed","delay","apply","args","repeat","tick","setInterval","timeoutID","utils","function","defer","clearInterval","intervalID","getTime","countFPS","clamp","objectClass","instance_counter","register","Entity","CollectableEntity","LevelEntity","Tween","Color","Particle","Sprite","Text","BitmapText","BitmapTextData","ImageLayer","ColorLayer","Vector2d","Vector3d","ObservableVector2d","ObservableVector3d","Matrix2d","Rect","Polygon","Line","Ellipse","className","classObj","pooling","pull","entity","proto","pop","onResetEvent","bind","purge","exists","getInstanceCount","DEG_TO_RAD","PI","RAD_TO_DEG","TAU","ETA","isPowerOfTwo","val","nextPowerOfTwo","degToRad","angle","radToDeg","radians","low","high","random","randomFloat","weightedRandom","pow","round","num","dec","powres","toBeCloseTo","expected","actual","extend","_set","setZero","setV","add","sub","toIso","to2d","scaleV","div","n","clampSelf","minV","maxV","floor","floorSelf","ceilSelf","negate","negateSelf","copy","equals","normalize","d","perp","rotate","cos","sin","dotProduct","length2","sqrt","lerp","distance","dx","dy","acos","project","projectN","clone","toString","_vz","dz","settings","_x","ret","onUpdate","_y","configurable","setCallback","setMuted","toVector2d","_z","_Z","toVector3d","Float32Array","setTransform","identity","multiply","a0","a1","a3","a4","b0","b1","b3","b4","b6","b7","transpose","tmp","invert","c","f","g","h","ta","td","tg","multiplyVector","multiplyVectorInverse","invD","scaleX","scaleY","s","translate","translateV","isIdentity","w","pos","_bounds","radius","NaN","radiusV","radiusSq","ratio","shapeType","setShape","hW","hH","r","updateBounds","transform","containsPointV","containsPoint","getBounds","rx","ry","points","edges","indices","normals","isArray","_points","point","recalc","m","SQRT2","SQRT1_2","getIndices","data","earcut","intersects","posx","posy","j","iy","ix","jy","jx","setPoints","_super","_width","_height","resize","Infinity","right","bottom","rect","union","x1","left","y1","top","overlaps","contains","isFinite","toPolygon","start","end","Body","parent","shapes","onBodyUpdate","collisionMask","types","ALL_OBJECT","collisionType","ENEMY_OBJECT","vel","accel","force","friction","bounce","mass","maxVel","falling","jumping","addShape","shape","batchInsert","addShapesFromJSON","json","rigidBodies","density","origin","self","polygons","poly","circles","circle","cx","cy","getShape","index","removeShape","array","remove","removeShapeAt","setCollisionMask","bitmask","respondToCollision","response","overlap","overlapV","dir","sign","setVelocity","setMaxVelocity","setFriction","applyFriction","fx","nx","fy","ny","computeVelocity","destroy","QT_ARRAY","QT_ARRAY_POP","bounds","max_objects","max_levels","level","_qt","QuadTree","QT_ARRAY_PUSH","qt","QT_VECTOR","Quadtree","objects","nodes","nextLevel","subWidth","subHeight","getIndex","item","floating","localToWorld","rw","rh","verticalMidpoint","horizontalMidpoint","topQuadrant","bottomQuadrant","container","children","isKinematic","insert","retrieve","returnObjects","concat","sort","found","isPrunable","indexOf","hasChildren","subnode","LEFT_VORNOI_REGION","MIDDLE_VORNOI_REGION","RIGHT_VORNOI_REGION","T_VECTORS","T_ARRAYS","dummyEntity","_absPos","flattenPointsOn","normal","Number","MAX_VALUE","dot","isSeparatingAxis","aPos","bPos","aPoints","bPoints","axis","rangeA","rangeB","offsetV","projectedOffset","aInB","bInA","option1","option2","option11","option22","absOverlap","overlapN","vornoiRegion","line","len2","dp","maxDepth","maxChildren","NO_OBJECT","PLAYER_OBJECT","NPC_OBJECT","COLLECTABLE_OBJECT","ACTION_OBJECT","PROJECTILE_OBJECT","WORLD_SHAPE","USER","ResponseObject","indexShapeA","indexShapeB","shouldCollide","check","objA","responseObject","candidates","objB","aLen","bLen","indexA","shapeA","indexB","shapeB","onCollision","rayCast","resultArray","testPolygonPolygon","polyA","polyB","aNormals","bNormals","posA","posB","testEllipseEllipse","ellipseA","ellipseB","differenceV","radiusA","radiusB","totalRadius","totalRadiusSq","distanceSq","dist","testPolygonEllipse","circlePos","radius2","edge","next","prev","region","inRegion","point2","distAbs","testEllipsePolygon","resa","Renderable","isRenderable","currentTransform","GUID","onVisibilityChange","alwaysUpdate","updateWhenPaused","isPersistent","onAnchorUpdate","autoTransform","mask","tint","updateBoundsPos","_flip","_inViewport","setOpacity","getOpacity","isNaN","flipX","flip","flipY","newX","newY","warn","preDraw","ax","ay","setGlobalAlpha","globalAlpha","centerX","centerY","setMask","setTint","postDraw","clearMask","clearTint","restore","onDestroyEvent","color","parseCSS","getColor","vpos","setColor","fillRect","image","getImage","imagewidth","imageheight","offset","_repeat","repeatX","repeatY","createPattern","onActivateEvent","_updateLayerFn","updateLayer","vpChangeHdlr","vpResizeHdlr","vpLoadedHdlr","root","_pattern","bw","bh","drawPattern","onDeactivateEvent","animationpause","animationspeed","source","anim","resetAnim","idx","_flicker","isFlickering","duration","Renderer","Texture","getTexture","textureAtlas","getRegion","setRegion","framewidth","frameheight","cache","getAtlas","atlas","atlasIndices","rotation","addAnimation","setCurrentAnimation","flicker","frames","counter","keys","frame","frameObject","frameObjectName","assign","_preserve_dt","setAnimationFrame","reverseAnimation","reverse","isCurrentAnimation","trimmed","getAnimationFrameObjectByIndex","getCurrentAnimationFrame","nextFrame","xpos","ypos","frame_offset","g_offset","drawImage","GUI_Object","isClickable","holdThreshold","isHoldable","hover","holdTimeout","updated","released","clicked","button","hold","onClick","enter","onOver","leave","release","onOut","onRelease","onHold","registerPointerEvent","releasePointerEvent","deferredRemove","keepalive","removeChildNow","globalFloatingCounter","pendingSort","autoSort","autoDepth","clipping","onChildChange","drawCount","childBounds","updateChildBounds","addChild","createGUID","isAttachedToRoot","addChildAt","thisArg","context","swapChildren","child2","getChildIndex","index2","getChildAt","getNextChild","hasChild","getChildByProp","prop","objList","compare","RegExp","getChildByType","_class","getChildByName","getChildByGUID","guid","removeChild","childIndex","setChildsProperty","recursive","moveUp","moveDown","moveToTop","moveToBottom","_sortZ","_sortReverseZ","_sortX","_sortY","isFloating","inViewport","isVisible","clipRect","resetTransform","MIN","MAX","targetV","Camera2d","minX","minY","maxX","maxY","AXIS","NONE","HORIZONTAL","VERTICAL","BOTH","smoothFollow","damping","target","follow_axis","_shake","intensity","onComplete","_fadeOut","tween","_fadeIn","setDeadzone","_followH","targetX","deadzone","_followV","targetY","unfollow","updateTarget","getCurrentLevel","setBounds","moveTo","follow","move","shake","fadeOut","to","fadeIn","_alpha","focusOn","worldToLocal","drawFX","clearColor","translateX","translateY","renderable","alive","distanceTo","distanceToPoint","angleTo","atan2","angleToPoint","_pos","default_camera","default_settings","Stage","Map","has","_state","_animFrameId","_isPaused","_stages","_fade","_onSwitchComplete","_extraArgs","_pauseTime","_startRunLoop","_renderFrame","_resumeRunLoop","_pauseRunLoop","_stopRunLoop","_switchState","LOADING","MENU","READY","PLAY","GAMEOVER","GAME_END","SCORE","CREDITS","SETTINGS","onPause","onResume","onStop","onRestart","DefaultLoadingScreen","music","isRunning","pauseTrack","resumeTrack","transition","effect","setTransition","change","isCurrent","ProgressBar","invalidate","progress","onProgressUpdate","IconLogo","iconCanvas","createCanvas","getContext2d","beginPath","bezierCurveTo","lineTo","closePath","fillStyle","fill","lineWidth","strokeStyle","lineJoin","miterLimit","stroke","TextLogo","fontCanvas","drawFont","logo1","font","size","textAlign","textBaseline","text","logo2","bold","logo1_width","measureText","logo2_width","_drawFont","progressBar","loaderHdlr","resizeHdlr","icon","imgList","tmxList","binList","jsonList","baseURL","resourceCount","loadCount","checkLoadStatus","onload","preloadImage","img","onerror","Image","crossOrigin","src","preloadFontFace","FontFace","load","then","fonts","style","fontFamily","preloadTMX","tmxData","addToTMXList","addTMXLevel","xmlhttp","XMLHttpRequest","format","file","getExtension","overrideMimeType","open","withCredentials","ontimeout","onreadystatechange","status","responseText","responseXML","DOMParser","parseFromString","TMXUtils","parse","map","tilesets","JSON","send","preloadJSON","preloadBinary","httpReq","responseType","arrayBuffer","byteArray","Uint8Array","buffer","byteLength","String","fromCharCode","preloadJavascript","script","getElementsByTagName","appendChild","onProgress","onResourceLoaded","res","onLoadingError","setBaseURL","url","preload","switchToLoadState","stream","unload","unloadAll","hasOwnProperty","getTMX","elt","getBinary","getBasename","getJSON","getLoadProgress","runits","toPX","setContextStyle","toRGBA","lineHeight","_fontSize","_text","setFont","italic","setText","font_names","trim","CSSval","parseFloat","getFontContext","textMetrics","strings","string","trimRight","search","subPixel","drawStroke","measureTextWidth","characters","lastGlyph","ch","charCodeAt","glyph","fontData","glyphs","kerning","getKerning","xadvance","fontScale","measureTextHeight","capHeight","fontImage","stringHeight","lX","maxWidth","stringWidth","glyphWidth","glyphHeight","xoffset","yoffset","LOG2_PAGE_SIZE","PAGE_SIZE","xChars","capChars","Glyph","u","u2","v2","fixedWidth","page","setKerning","padTop","padRight","padBottom","padLeft","descent","_createSpaceGlyph","spaceCharCode","_getFirstGlyph","_getValueFromPair","lines","padding","paddingValues","baseLine","padY","characterValues","amount","xGlyph","xChar","capGlyph","capChar","charCode","audioTracks","current_track_id","retry_counter","soundLoadError","sound_name","onerror_cb","errmsg","disable","audioFormat","audioFormats","Howler","noAudio","unmuteAll","muteAll","sound","html5","onload_cb","urls","Howl","volume","xhrWithCredentials","onloaderror","play","loop","onend","on","once","fade","from","seek","rate","off","playTrack","stopTrack","getCurrentTrack","setVolume","getVolume","mute","unmute","muted","_muted","deferResizeId","designRatio","designWidth","designHeight","maxHeight","wrapper","doubleBuffering","autoScale","scaleMethod","transparent","blendMode","antiAlias","failIfMajorPerformanceCaveat","verbose","consoleHeader","autoDetectRenderer","options","WebGLRenderer","CanvasRenderer","CANVAS","WEBGL","AUTO","game_width","game_height","useParentDOMSize","webgl","game_width_zoom","game_height_zoom","zoomX","zoomY","throttle","onorientationchange","onresize","canvas","getElementById","getContext","getComputedStyle","setMaxSize","parseInt","observer","MutationObserver","observe","attributes","childList","subtree","renderType","audioType","_canvas","parentNodeWidth","parentNodeHeight","parentNode","getScreenCanvas","getBoundingClientRect","_max_width","innerWidth","_max_height","innerHeight","screenRatio","sWidth","sHeight","updateDisplaySize","scaleCanvas","currentScissor","Int32Array","currentBlendMode","gameWidthZoom","gameHeightZoom","backBufferCanvas","currentColor","currentTint","uvOffset","parentBounds","setBlendMode","getCanvas","getScreenContext","getBlendMode","_context","setAntiAlias","glArray","msInterpolationMode","strokeRect","strokePolygon","strokeEllipse","atlases","sources","meta","app","exporter","parseFromSpriteSheet","TextureCache","createAtlas","originX","originY","hasTextureAnchorPoint","spriteSourceSize","sourceSize","pivot","filename","texture","rotated","addUvsMap","spacing","margin","spritecount","count","sw","sh","uvs","key","addQuadRegion","dw","dh","values","getUVs","sx","sy","createSpriteFromName","createAnimationFromName","names","tpAtlas","max_size","units","validate","getUnit","backBufferContext2D","globalCompositeOperation","textureSeamFix","mode","col","opaque","clearRect","strokeArc","antiClockwise","arc","fillArc","hw","hh","lx","ty","by","xmagic","ymagic","xmin","xmax","ymin","ymax","fillEllipse","strokeLine","startX","startY","endX","endY","fillLine","fillPolygon","setLineWidth","mat2d","tx","clip","getContextGL","_colorStack","_matrixStack","_scissorStack","_glPoints","Compositor","compositor","DEPTH_TEST","SCISSOR_TEST","BLEND","maxTextures","fontContext2D","createFontTexture","fontTexture","uploadTexture","fontContext","addQuad","attr","antialias","depth","stencil","premultipliedAlpha","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","setProjection","matrix","isEnabled","segment","drawLine","drawTriangle","glPoints","scissor","STENCIL_TEST","STENCIL_BUFFER_BIT","colorMask","stencilFunc","NOTEQUAL","stencilOp","REPLACE","EQUAL","KEEP","VERTEX_SIZE","COLOR_SIZE","TEXTURE_SIZE","REGION_SIZE","ELEMENT_SIZE","ELEMENT_OFFSET","BYTES_PER_ELEMENT","VERTEX_ELEMENT","COLOR_ELEMENT","TEXTURE_ELEMENT","REGION_ELEMENT","VERTEX_OFFSET","COLOR_OFFSET","TEXTURE_OFFSET","REGION_OFFSET","ELEMENTS_PER_QUAD","INDICES_PER_QUAD","MAX_LENGTH","getParameter","MAX_TEXTURE_IMAGE_UNITS","uMatrix","activeShader","primitiveShader","PrimitiveGLShader","quadShader","QuadGLShader","sb","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STREAM_DRAW","sbSize","sbIndex","ib","ELEMENT_ARRAY_BUFFER","createIB","STATIC_DRAW","vertexAttribPointer","aVertex","FLOAT","aColor","aTexture","aRegion","samplers","useShader","uniforms","uSampler","createTexture","unit","isPOT","rs","REPEAT","CLAMP_TO_EDGE","rt","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","LINEAR","NEAREST","Uint16Array","resizeSB","shader","toGL","v0","v1","v3","idx0","idx1","idx2","idx3","subarray","drawElements","TRIANGLES","UNSIGNED_SHORT","strip","m_isIdentity","uColor","drawArrays","TRIANGLE_STRIP","LINE_STRIP","LINE_LOOP","COLOR_BUFFER_BIT","extractUniforms","uniRx","uniformsData","descriptor","locations","vertex","fragment","exec","getUniformLocation","program","fnv","fnHash","defineProperties","extractAttributes","attrRx","attrData","getAttribLocation","enableVertexAttribArray","compileShader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","compileProgram","vertShader","fragShader","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","VALIDATE_STATUS","getError","getProgramInfoLog","useProgram","deleteShader","setPrecision","minify","replace","GLShader","deleteProgram","_preventDefaultFn","stopPropagation","cancelBubble","returnValue","_KeyBinding","keyStatus","keyLock","keyLocked","keyRefs","preventDefaultForKeys","keyboardInitialized","_keydown","_keyup","keyCode","mouseButton","action","trigger","KEY","isKeyPressed","triggerKeyEvent","keycode","bindKey","lock","unlockKey","unbindKey","keybinding","viewportOffset","Pointer","isPrimary","pageX","pageY","clientX","clientY","gameX","gameY","gameScreenX","gameScreenY","gameWorldX","gameWorldY","gameLocalX","gameLocalY","pointerId","setEvent","globalToLocal","isNormalized","deltaMode","deltaX","deltaY","wheelDelta","wheelDeltaX","radiusX","radiusY","T_POINTERS","eventHandlers","currentPointer","pointerInitialized","lastTimeStamp","activeEventList","WHEEL","POINTER_MOVE","POINTER_DOWN","POINTER_UP","POINTER_CANCEL","POINTER_ENTER","POINTER_OVER","POINTER_LEAVE","pointerEventList","mouseEventList","touchEventList","pointerEventMap","pointermove","pointerdown","pointerup","pointercancel","pointerenter","pointerover","pointerleave","normalizedEvents","registerEventListener","eventList","enablePointerEvent","onPointerEvent","onMouseWheel","throttlingInterval","passive","events","findAllActiveEvents","onMoveEvent","setTouchAction","findActiveEvent","eventTypes","triggerEvent","handlers","pointer","callbacks","dispatchEvent","handled","timeStamp","candidate","eventInBounds","parentPos","invV","normalizeEvent","changedTouches","l","touchEvent","identifier","LEFT","MIDDLE","RIGHT","pixelRatio","bindPointer","unbindPointer","eventType","delete","defaultNormalizeFn","wiredXbox360NormalizeFn","GAMEPAD","BUTTONS","L2","R2","ouyaNormalizeFn","vendorProductRE","leadingZeroRE","addMapping","mapping","expanded_id","_","sparse_id","analog","buttons","normalize_fn","remap","bindings","gamepad","getGamepads","gamepads","binding","mapped_button","mapped_axis","axes","pressed","range","threshold","bindGamepad","code","unbindGamepad","setGamepadDeadzone","setGamepadMapping","GUID_base","GUID_index","getPixels","arg","HTMLImageElement","getImageData","resetGUID","base","toHex","REMOVE_PATH","REMOVE_EXT","path","lastIndexOf","scope","no_trailing","deferTimer","elasped","arr","trimLeft","isNumeric","isBoolean","component","charAt","rgbaRx","hex3Rx","hex4Rx","hex6Rx","hex8Rx","cssToRGB","darken","lighten","cssColor","parseRGB","rgbColor","parseHex","hexColor","toFixed","toHex8","toRGB","enumerable","isReserved","me_save_content","getItem","props","setItem","stringify","removeItem","setTMXValue","eval","parseAttributes","attribute","nodeName","nodeValue","decompress","decodeCSV","entries","decodeBase64AsArray","bytes","ar","Uint32Array","decode","encoding","compression","decoded","chunk","layer","layers","animation","tile","tiles","tileset","properties","property","xml","nodeType","hasChildNodes","childNodes","applyTMXProperties","propertytypes","TMXGroup","visible","opacity","_objects","object","TMXObject","_layers","TMXLayer","tilewidth","tileheight","setRenderer","getRenderer","getObjectCount","getObjectByIndex","gid","isEllipse","isPolygon","isPolyLine","setTile","ellipse","polygon","polyline","fontfamily","pixelsize","halign","valign","parseTMXShapes","isEditor","adjustPosition","getTilesetByGid","isCollection","Tile","p","p1","p2","segments","getObjectPropertyByName","TMX_FLIP_H","TMX_FLIP_V","TMX_FLIP_AD","TMX_CLEAR_BIT_MASK","getTileImage","row","tileId","flippedX","flippedY","flippedAD","flipped","createTransform","getRenderable","animations","frameId","tileid","firstgid","TMXTileset","TileProperties","imageCollection","lastgid","ext","tileoffset","isAnimated","_lastUpdate","cur","setTileProperty","tileInfo","tileproperties","hTileCount","columns","vTileCount","tilecount","getViewTileId","getTileProperties","drawTile","tmxTile","TMXTilesetGroup","getTilesetByIndex","invalidRange","offsetsStaggerX","offsetsStaggerY","TMXRenderer","cols","rows","canRender","pixelToTileCoords","tileToPixelCoords","drawTileLayer","TMXOrthogonalRenderer","incX","incY","maxTileSize","renderorder","layerData","TMXIsometricRenderer","hTilewidth","hTileheight","tileX","tileY","isoPos","rowItr","tileEnd","rectEnd","startPos","inUpperHalf","inLeftHalf","shifted","columnItr","TMXHexagonalRenderer","hexsidelength","staggeraxis","staggerindex","sidelengthx","sidelengthy","sideoffsetx","sideoffsety","columnwidth","rowheight","centers","q","referencePoint","rel","nearest","minDist","dc","offsets","initArray","setLayerData","animatedTilesets","canvasRenderer","getTileId","getTile","coord","clearTile","COLLISION_GROUP","getNewDefaultRenderer","readLayer","readImageLayer","imageLayer","readTileset","readObjectGroup","TMXTileMap","levelId","infinite","tiledversion","objectGroups","editor","nextobjectid","backgroundcolor","readMapObjects","zOrder","background_image","addTo","flatten","_sort","_depth","getLayers","getObjects","isCollisionGroup","targetContainer","group","toLowerCase","o","bitmap","levels","levelIdx","currentLevelIdx","onresize_handler","safeLoadLevel","getCurrentLevelId","loadTMXLevel","setViewportBounds","onLoaded","resize_container","addLevel","loadLevel","wasRunning","reloadLevel","previousLevel","levelCount","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_yoyo","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onCompleteCallback","_tweenTimeTracker","_resumeCallback","setProperties","_reversed","Easing","Linear","None","Interpolation","field","_time","times","yoyo","easing","chain","onStart","numChainedTweens","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","asin","Back","Bounce","Utils","Bezier","pw","bn","Bernstein","CatmullRom","p0","t","fc","Factorial","p3","t2","t3","plugins","plugin","singleton","Base","patch","_parent","_patched","_args","instance","DraggableEntity","Input","Event","Vector","dragging","dragId","grabOffset","removePointerEvent","initEvents","mouseDown","translatePointerEvent","mouseUp","dragMove","draggable","dragStart","dragEnd","translation","DroptargetEntity","CHECKMETHOD_OVERLAP","CHECKMETHOD_CONTAINS","checkMethod","checkOnMe","setCheckMethod","draggableEntity","drop","nextlevel","fading","gotolevel","loadLevelSettings","getlevelSettings","onFadeComplete","goTo","pixel","ParticleEmitterSettings","totalParticles","angleVariation","minLife","maxLife","speed","speedVariation","minRotation","maxRotation","minStartScale","maxStartScale","minEndScale","maxEndScale","wind","followTrajectory","textureAdditive","onlyInViewport","maxParticles","frequency","framesToSkip","ParticleEmitter","_stream","_frequencyTimer","_durationTimer","_enabled","ParticleContainer","getRandomPointX","getRandomPointY","defaults","addParticles","particle","streamParticles","stopStream","burstParticles","total","particlesCount","emitter","_updateCount","_dt","_emitter","gco","life","startLife","startScale","endScale","_deltaInv","skew","ageRatio","ScreenObject","Font","BitmapFontData","BitmapFont","drawShape","getPos","msg","message"],"mappings":"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"}